(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&i(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function i(o){if(o.ep)return;o.ep=!0;const c=n(o);fetch(o.href,c)}})();function H_(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var zd={exports:{}},jl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W0;function h2(){if(W0)return jl;W0=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,o,c){var f=null;if(c!==void 0&&(f=""+c),o.key!==void 0&&(f=""+o.key),"key"in o){c={};for(var g in o)g!=="key"&&(c[g]=o[g])}else c=o;return o=c.ref,{$$typeof:s,type:i,key:f,ref:o!==void 0?o:null,props:c}}return jl.Fragment=e,jl.jsx=n,jl.jsxs=n,jl}var J0;function f2(){return J0||(J0=1,zd.exports=h2()),zd.exports}var m=f2(),Bd={exports:{}},Re={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ev;function d2(){if(ev)return Re;ev=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),f=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),x=Symbol.iterator;function A(O){return O===null||typeof O!="object"?null:(O=x&&O[x]||O["@@iterator"],typeof O=="function"?O:null)}var V={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},q=Object.assign,U={};function F(O,ne,le){this.props=O,this.context=ne,this.refs=U,this.updater=le||V}F.prototype.isReactComponent={},F.prototype.setState=function(O,ne){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,ne,"setState")},F.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function te(){}te.prototype=F.prototype;function X(O,ne,le){this.props=O,this.context=ne,this.refs=U,this.updater=le||V}var re=X.prototype=new te;re.constructor=X,q(re,F.prototype),re.isPureReactComponent=!0;var xe=Array.isArray,fe={H:null,A:null,T:null,S:null,V:null},he=Object.prototype.hasOwnProperty;function I(O,ne,le,ie,me,je){return le=je.ref,{$$typeof:s,type:O,key:ne,ref:le!==void 0?le:null,props:je}}function S(O,ne){return I(O.type,ne,void 0,void 0,void 0,O.props)}function R(O){return typeof O=="object"&&O!==null&&O.$$typeof===s}function D(O){var ne={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(le){return ne[le]})}var j=/\/+/g;function k(O,ne){return typeof O=="object"&&O!==null&&O.key!=null?D(""+O.key):ne.toString(36)}function C(){}function Be(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(C,C):(O.status="pending",O.then(function(ne){O.status==="pending"&&(O.status="fulfilled",O.value=ne)},function(ne){O.status==="pending"&&(O.status="rejected",O.reason=ne)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function st(O,ne,le,ie,me){var je=typeof O;(je==="undefined"||je==="boolean")&&(O=null);var be=!1;if(O===null)be=!0;else switch(je){case"bigint":case"string":case"number":be=!0;break;case"object":switch(O.$$typeof){case s:case e:be=!0;break;case b:return be=O._init,st(be(O._payload),ne,le,ie,me)}}if(be)return me=me(O),be=ie===""?"."+k(O,0):ie,xe(me)?(le="",be!=null&&(le=be.replace(j,"$&/")+"/"),st(me,ne,le,"",function(On){return On})):me!=null&&(R(me)&&(me=S(me,le+(me.key==null||O&&O.key===me.key?"":(""+me.key).replace(j,"$&/")+"/")+be)),ne.push(me)),1;be=0;var kt=ie===""?".":ie+":";if(xe(O))for(var Qe=0;Qe<O.length;Qe++)ie=O[Qe],je=kt+k(ie,Qe),be+=st(ie,ne,le,je,me);else if(Qe=A(O),typeof Qe=="function")for(O=Qe.call(O),Qe=0;!(ie=O.next()).done;)ie=ie.value,je=kt+k(ie,Qe++),be+=st(ie,ne,le,je,me);else if(je==="object"){if(typeof O.then=="function")return st(Be(O),ne,le,ie,me);throw ne=String(O),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return be}function $(O,ne,le){if(O==null)return O;var ie=[],me=0;return st(O,ie,"","",function(je){return ne.call(le,je,me++)}),ie}function ae(O){if(O._status===-1){var ne=O._result;ne=ne(),ne.then(function(le){(O._status===0||O._status===-1)&&(O._status=1,O._result=le)},function(le){(O._status===0||O._status===-1)&&(O._status=2,O._result=le)}),O._status===-1&&(O._status=0,O._result=ne)}if(O._status===1)return O._result.default;throw O._result}var pe=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)};function Le(){}return Re.Children={map:$,forEach:function(O,ne,le){$(O,function(){ne.apply(this,arguments)},le)},count:function(O){var ne=0;return $(O,function(){ne++}),ne},toArray:function(O){return $(O,function(ne){return ne})||[]},only:function(O){if(!R(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},Re.Component=F,Re.Fragment=n,Re.Profiler=o,Re.PureComponent=X,Re.StrictMode=i,Re.Suspense=p,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=fe,Re.__COMPILER_RUNTIME={__proto__:null,c:function(O){return fe.H.useMemoCache(O)}},Re.cache=function(O){return function(){return O.apply(null,arguments)}},Re.cloneElement=function(O,ne,le){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var ie=q({},O.props),me=O.key,je=void 0;if(ne!=null)for(be in ne.ref!==void 0&&(je=void 0),ne.key!==void 0&&(me=""+ne.key),ne)!he.call(ne,be)||be==="key"||be==="__self"||be==="__source"||be==="ref"&&ne.ref===void 0||(ie[be]=ne[be]);var be=arguments.length-2;if(be===1)ie.children=le;else if(1<be){for(var kt=Array(be),Qe=0;Qe<be;Qe++)kt[Qe]=arguments[Qe+2];ie.children=kt}return I(O.type,me,void 0,void 0,je,ie)},Re.createContext=function(O){return O={$$typeof:f,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},Re.createElement=function(O,ne,le){var ie,me={},je=null;if(ne!=null)for(ie in ne.key!==void 0&&(je=""+ne.key),ne)he.call(ne,ie)&&ie!=="key"&&ie!=="__self"&&ie!=="__source"&&(me[ie]=ne[ie]);var be=arguments.length-2;if(be===1)me.children=le;else if(1<be){for(var kt=Array(be),Qe=0;Qe<be;Qe++)kt[Qe]=arguments[Qe+2];me.children=kt}if(O&&O.defaultProps)for(ie in be=O.defaultProps,be)me[ie]===void 0&&(me[ie]=be[ie]);return I(O,je,void 0,void 0,null,me)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(O){return{$$typeof:g,render:O}},Re.isValidElement=R,Re.lazy=function(O){return{$$typeof:b,_payload:{_status:-1,_result:O},_init:ae}},Re.memo=function(O,ne){return{$$typeof:y,type:O,compare:ne===void 0?null:ne}},Re.startTransition=function(O){var ne=fe.T,le={};fe.T=le;try{var ie=O(),me=fe.S;me!==null&&me(le,ie),typeof ie=="object"&&ie!==null&&typeof ie.then=="function"&&ie.then(Le,pe)}catch(je){pe(je)}finally{fe.T=ne}},Re.unstable_useCacheRefresh=function(){return fe.H.useCacheRefresh()},Re.use=function(O){return fe.H.use(O)},Re.useActionState=function(O,ne,le){return fe.H.useActionState(O,ne,le)},Re.useCallback=function(O,ne){return fe.H.useCallback(O,ne)},Re.useContext=function(O){return fe.H.useContext(O)},Re.useDebugValue=function(){},Re.useDeferredValue=function(O,ne){return fe.H.useDeferredValue(O,ne)},Re.useEffect=function(O,ne,le){var ie=fe.H;if(typeof le=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ie.useEffect(O,ne)},Re.useId=function(){return fe.H.useId()},Re.useImperativeHandle=function(O,ne,le){return fe.H.useImperativeHandle(O,ne,le)},Re.useInsertionEffect=function(O,ne){return fe.H.useInsertionEffect(O,ne)},Re.useLayoutEffect=function(O,ne){return fe.H.useLayoutEffect(O,ne)},Re.useMemo=function(O,ne){return fe.H.useMemo(O,ne)},Re.useOptimistic=function(O,ne){return fe.H.useOptimistic(O,ne)},Re.useReducer=function(O,ne,le){return fe.H.useReducer(O,ne,le)},Re.useRef=function(O){return fe.H.useRef(O)},Re.useState=function(O){return fe.H.useState(O)},Re.useSyncExternalStore=function(O,ne,le){return fe.H.useSyncExternalStore(O,ne,le)},Re.useTransition=function(){return fe.H.useTransition()},Re.version="19.1.1",Re}var tv;function Mm(){return tv||(tv=1,Bd.exports=d2()),Bd.exports}var P=Mm();const m2=H_(P);var qd={exports:{}},Ol={},Hd={exports:{}},Fd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nv;function g2(){return nv||(nv=1,(function(s){function e($,ae){var pe=$.length;$.push(ae);e:for(;0<pe;){var Le=pe-1>>>1,O=$[Le];if(0<o(O,ae))$[Le]=ae,$[pe]=O,pe=Le;else break e}}function n($){return $.length===0?null:$[0]}function i($){if($.length===0)return null;var ae=$[0],pe=$.pop();if(pe!==ae){$[0]=pe;e:for(var Le=0,O=$.length,ne=O>>>1;Le<ne;){var le=2*(Le+1)-1,ie=$[le],me=le+1,je=$[me];if(0>o(ie,pe))me<O&&0>o(je,ie)?($[Le]=je,$[me]=pe,Le=me):($[Le]=ie,$[le]=pe,Le=le);else if(me<O&&0>o(je,pe))$[Le]=je,$[me]=pe,Le=me;else break e}}return ae}function o($,ae){var pe=$.sortIndex-ae.sortIndex;return pe!==0?pe:$.id-ae.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var f=Date,g=f.now();s.unstable_now=function(){return f.now()-g}}var p=[],y=[],b=1,x=null,A=3,V=!1,q=!1,U=!1,F=!1,te=typeof setTimeout=="function"?setTimeout:null,X=typeof clearTimeout=="function"?clearTimeout:null,re=typeof setImmediate<"u"?setImmediate:null;function xe($){for(var ae=n(y);ae!==null;){if(ae.callback===null)i(y);else if(ae.startTime<=$)i(y),ae.sortIndex=ae.expirationTime,e(p,ae);else break;ae=n(y)}}function fe($){if(U=!1,xe($),!q)if(n(p)!==null)q=!0,he||(he=!0,k());else{var ae=n(y);ae!==null&&st(fe,ae.startTime-$)}}var he=!1,I=-1,S=5,R=-1;function D(){return F?!0:!(s.unstable_now()-R<S)}function j(){if(F=!1,he){var $=s.unstable_now();R=$;var ae=!0;try{e:{q=!1,U&&(U=!1,X(I),I=-1),V=!0;var pe=A;try{t:{for(xe($),x=n(p);x!==null&&!(x.expirationTime>$&&D());){var Le=x.callback;if(typeof Le=="function"){x.callback=null,A=x.priorityLevel;var O=Le(x.expirationTime<=$);if($=s.unstable_now(),typeof O=="function"){x.callback=O,xe($),ae=!0;break t}x===n(p)&&i(p),xe($)}else i(p);x=n(p)}if(x!==null)ae=!0;else{var ne=n(y);ne!==null&&st(fe,ne.startTime-$),ae=!1}}break e}finally{x=null,A=pe,V=!1}ae=void 0}}finally{ae?k():he=!1}}}var k;if(typeof re=="function")k=function(){re(j)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,Be=C.port2;C.port1.onmessage=j,k=function(){Be.postMessage(null)}}else k=function(){te(j,0)};function st($,ae){I=te(function(){$(s.unstable_now())},ae)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function($){$.callback=null},s.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<$?Math.floor(1e3/$):5},s.unstable_getCurrentPriorityLevel=function(){return A},s.unstable_next=function($){switch(A){case 1:case 2:case 3:var ae=3;break;default:ae=A}var pe=A;A=ae;try{return $()}finally{A=pe}},s.unstable_requestPaint=function(){F=!0},s.unstable_runWithPriority=function($,ae){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var pe=A;A=$;try{return ae()}finally{A=pe}},s.unstable_scheduleCallback=function($,ae,pe){var Le=s.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?Le+pe:Le):pe=Le,$){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=pe+O,$={id:b++,callback:ae,priorityLevel:$,startTime:pe,expirationTime:O,sortIndex:-1},pe>Le?($.sortIndex=pe,e(y,$),n(p)===null&&$===n(y)&&(U?(X(I),I=-1):U=!0,st(fe,pe-Le))):($.sortIndex=O,e(p,$),q||V||(q=!0,he||(he=!0,k()))),$},s.unstable_shouldYield=D,s.unstable_wrapCallback=function($){var ae=A;return function(){var pe=A;A=ae;try{return $.apply(this,arguments)}finally{A=pe}}}})(Fd)),Fd}var rv;function p2(){return rv||(rv=1,Hd.exports=g2()),Hd.exports}var Gd={exports:{}},Yt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sv;function y2(){if(sv)return Yt;sv=1;var s=Mm();function e(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)y+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(p,y,b){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:x==null?null:""+x,children:p,containerInfo:y,implementation:b}}var f=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Yt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Yt.createPortal=function(p,y){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(p,y,null,b)},Yt.flushSync=function(p){var y=f.T,b=i.p;try{if(f.T=null,i.p=2,p)return p()}finally{f.T=y,i.p=b,i.d.f()}},Yt.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,i.d.C(p,y))},Yt.prefetchDNS=function(p){typeof p=="string"&&i.d.D(p)},Yt.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var b=y.as,x=g(b,y.crossOrigin),A=typeof y.integrity=="string"?y.integrity:void 0,V=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;b==="style"?i.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:x,integrity:A,fetchPriority:V}):b==="script"&&i.d.X(p,{crossOrigin:x,integrity:A,fetchPriority:V,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Yt.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var b=g(y.as,y.crossOrigin);i.d.M(p,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&i.d.M(p)},Yt.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var b=y.as,x=g(b,y.crossOrigin);i.d.L(p,b,{crossOrigin:x,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Yt.preloadModule=function(p,y){if(typeof p=="string")if(y){var b=g(y.as,y.crossOrigin);i.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else i.d.m(p)},Yt.requestFormReset=function(p){i.d.r(p)},Yt.unstable_batchedUpdates=function(p,y){return p(y)},Yt.useFormState=function(p,y,b){return f.H.useFormState(p,y,b)},Yt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Yt.version="19.1.1",Yt}var iv;function v2(){if(iv)return Gd.exports;iv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Gd.exports=y2(),Gd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var av;function _2(){if(av)return Ol;av=1;var s=p2(),e=Mm(),n=v2();function i(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var r=t,a=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(a=r.return),t=r.return;while(t)}return r.tag===3?a:null}function f(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function g(t){if(c(t)!==t)throw Error(i(188))}function p(t){var r=t.alternate;if(!r){if(r=c(t),r===null)throw Error(i(188));return r!==t?null:t}for(var a=t,l=r;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return g(h),t;if(d===l)return g(h),r;d=d.sibling}throw Error(i(188))}if(a.return!==l.return)a=h,l=d;else{for(var E=!1,T=h.child;T;){if(T===a){E=!0,a=h,l=d;break}if(T===l){E=!0,l=h,a=d;break}T=T.sibling}if(!E){for(T=d.child;T;){if(T===a){E=!0,a=d,l=h;break}if(T===l){E=!0,l=d,a=h;break}T=T.sibling}if(!E)throw Error(i(189))}}if(a.alternate!==l)throw Error(i(190))}if(a.tag!==3)throw Error(i(188));return a.stateNode.current===a?t:r}function y(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=y(t),r!==null)return r;t=t.sibling}return null}var b=Object.assign,x=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),V=Symbol.for("react.portal"),q=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),te=Symbol.for("react.provider"),X=Symbol.for("react.consumer"),re=Symbol.for("react.context"),xe=Symbol.for("react.forward_ref"),fe=Symbol.for("react.suspense"),he=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),D=Symbol.for("react.memo_cache_sentinel"),j=Symbol.iterator;function k(t){return t===null||typeof t!="object"?null:(t=j&&t[j]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function Be(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case q:return"Fragment";case F:return"Profiler";case U:return"StrictMode";case fe:return"Suspense";case he:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case V:return"Portal";case re:return(t.displayName||"Context")+".Provider";case X:return(t._context.displayName||"Context")+".Consumer";case xe:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return r=t.displayName||null,r!==null?r:Be(t.type)||"Memo";case S:r=t._payload,t=t._init;try{return Be(t(r))}catch{}}return null}var st=Array.isArray,$=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},Le=[],O=-1;function ne(t){return{current:t}}function le(t){0>O||(t.current=Le[O],Le[O]=null,O--)}function ie(t,r){O++,Le[O]=t.current,t.current=r}var me=ne(null),je=ne(null),be=ne(null),kt=ne(null);function Qe(t,r){switch(ie(be,r),ie(je,t),ie(me,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?A0(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=A0(r),t=R0(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}le(me),ie(me,t)}function On(){le(me),le(je),le(be)}function Ao(t){t.memoizedState!==null&&ie(kt,t);var r=me.current,a=R0(r,t.type);r!==a&&(ie(je,t),ie(me,a))}function ta(t){je.current===t&&(le(me),le(je)),kt.current===t&&(le(kt),Rl._currentValue=pe)}var na=Object.prototype.hasOwnProperty,ni=s.unstable_scheduleCallback,ra=s.unstable_cancelCallback,zh=s.unstable_shouldYield,Ro=s.unstable_requestPaint,rn=s.unstable_now,gc=s.unstable_getCurrentPriorityLevel,St=s.unstable_ImmediatePriority,It=s.unstable_UserBlockingPriority,xr=s.unstable_NormalPriority,Bh=s.unstable_LowPriority,Co=s.unstable_IdlePriority,qh=s.log,ri=s.unstable_setDisableYieldValue,ts=null,Ft=null;function yn(t){if(typeof qh=="function"&&ri(t),Ft&&typeof Ft.setStrictMode=="function")try{Ft.setStrictMode(ts,t)}catch{}}var Wt=Math.clz32?Math.clz32:yc,Hh=Math.log,pc=Math.LN2;function yc(t){return t>>>=0,t===0?32:31-(Hh(t)/pc|0)|0}var Jn=256,ns=4194304;function Mn(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function vn(t,r,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,E=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=Mn(l):(E&=T,E!==0?h=Mn(E):a||(a=T&~t,a!==0&&(h=Mn(a))))):(T=l&~d,T!==0?h=Mn(T):E!==0?h=Mn(E):a||(a=l&~t,a!==0&&(h=Mn(a)))),h===0?0:r!==0&&r!==h&&(r&d)===0&&(d=h&-h,a=r&-r,d>=a||d===32&&(a&4194048)!==0)?r:h}function rs(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function sa(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function No(){var t=Jn;return Jn<<=1,(Jn&4194048)===0&&(Jn=256),t}function ss(){var t=ns;return ns<<=1,(ns&62914560)===0&&(ns=4194304),t}function ia(t){for(var r=[],a=0;31>a;a++)r.push(t);return r}function ft(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function vc(t,r,a,l,h,d){var E=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,N=t.expirationTimes,H=t.hiddenUpdates;for(a=E&~a;0<a;){var K=31-Wt(a),J=1<<K;T[K]=0,N[K]=-1;var G=H[K];if(G!==null)for(H[K]=null,K=0;K<G.length;K++){var Q=G[K];Q!==null&&(Q.lane&=-536870913)}a&=~J}l!==0&&is(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(E&~r))}function is(t,r,a){t.pendingLanes|=r,t.suspendedLanes&=~r;var l=31-Wt(r);t.entangledLanes|=r,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function as(t,r){var a=t.entangledLanes|=r;for(t=t.entanglements;a;){var l=31-Wt(a),h=1<<l;h&r|t[l]&r&&(t[l]|=r),a&=~h}}function Io(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Do(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Tr(){var t=ae.p;return t!==0?t:(t=window.event,t===void 0?32:Q0(t.type))}function Fh(t,r){var a=ae.p;try{return ae.p=t,r()}finally{ae.p=a}}var er=Math.random().toString(36).slice(2),dt="__reactFiber$"+er,Pt="__reactProps$"+er,wr="__reactContainer$"+er,si="__reactEvents$"+er,ii="__reactListeners$"+er,Gh="__reactHandles$"+er,Vn="__reactResources$"+er,os="__reactMarker$"+er;function aa(t){delete t[dt],delete t[Pt],delete t[si],delete t[ii],delete t[Gh]}function tr(t){var r=t[dt];if(r)return r;for(var a=t.parentNode;a;){if(r=a[wr]||a[dt]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(t=D0(t);t!==null;){if(a=t[dt])return a;t=D0(t)}return r}t=a,a=t.parentNode}return null}function nr(t){if(t=t[dt]||t[wr]){var r=t.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return t}return null}function ls(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(i(33))}function cs(t){var r=t[Vn];return r||(r=t[Vn]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function mt(t){t[os]=!0}var _c=new Set,ai={};function rr(t,r){sr(t,r),sr(t+"Capture",r)}function sr(t,r){for(ai[t]=r,t=0;t<r.length;t++)_c.add(r[t])}var oi=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ir={},oa={};function Qh(t){return na.call(oa,t)?!0:na.call(ir,t)?!1:oi.test(t)?oa[t]=!0:(ir[t]=!0,!1)}function li(t,r,a){if(Qh(r))if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+a)}}function ci(t,r,a){if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+a)}}function _n(t,r,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(r,a,""+l)}}var ui,la;function Sr(t){if(ui===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);ui=r&&r[1]||"",la=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ui+t+la}var ca=!1;function ua(t,r){if(!t||ca)return"";ca=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(Q){var G=Q}Reflect.construct(t,[],J)}else{try{J.call()}catch(Q){G=Q}t.call(J.prototype)}}else{try{throw Error()}catch(Q){G=Q}(J=t())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(Q){if(Q&&G&&typeof Q.stack=="string")return[Q.stack,G.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),E=d[0],T=d[1];if(E&&T){var N=E.split(`
`),H=T.split(`
`);for(h=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;h<H.length&&!H[h].includes("DetermineComponentFrameRoot");)h++;if(l===N.length||h===H.length)for(l=N.length-1,h=H.length-1;1<=l&&0<=h&&N[l]!==H[h];)h--;for(;1<=l&&0<=h;l--,h--)if(N[l]!==H[h]){if(l!==1||h!==1)do if(l--,h--,0>h||N[l]!==H[h]){var K=`
`+N[l].replace(" at new "," at ");return t.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",t.displayName)),K}while(1<=l&&0<=h);break}}}finally{ca=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Sr(a):""}function Yh(t){switch(t.tag){case 26:case 27:case 5:return Sr(t.type);case 16:return Sr("Lazy");case 13:return Sr("Suspense");case 19:return Sr("SuspenseList");case 0:case 15:return ua(t.type,!1);case 11:return ua(t.type.render,!1);case 1:return ua(t.type,!0);case 31:return Sr("Activity");default:return""}}function kn(t){try{var r="";do r+=Yh(t),t=t.return;while(t);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function ot(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function us(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function hi(t){var r=us(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),l=""+t[r];if(!t.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return h.call(this)},set:function(E){l=""+E,d.call(this,E)}}),Object.defineProperty(t,r,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(E){l=""+E},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function hs(t){t._valueTracker||(t._valueTracker=hi(t))}function Ye(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return t&&(l=us(t)?t.checked?"true":"false":t.value),t=l,t!==a?(r.setValue(t),!0):!1}function Ar(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var fi=/[\n"\\]/g;function Dt(t){return t.replace(fi,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function jo(t,r,a,l,h,d,E,T){t.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.type=E:t.removeAttribute("type"),r!=null?E==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+ot(r)):t.value!==""+ot(r)&&(t.value=""+ot(r)):E!=="submit"&&E!=="reset"||t.removeAttribute("value"),r!=null?Mo(t,E,ot(r)):a!=null?Mo(t,E,ot(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+ot(T):t.removeAttribute("name")}function Oo(t,r,a,l,h,d,E,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),r!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||r!=null))return;a=a!=null?""+ot(a):"",r=r!=null?""+ot(r):a,T||r===t.value||(t.value=r),t.defaultValue=r}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(t.name=E)}function Mo(t,r,a){r==="number"&&Ar(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function fs(t,r,a,l){if(t=t.options,r){r={};for(var h=0;h<a.length;h++)r["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=r.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+ot(a),r=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}r!==null||t[h].disabled||(r=t[h])}r!==null&&(r.selected=!0)}}function bc(t,r,a){if(r!=null&&(r=""+ot(r),r!==t.value&&(t.value=r),a==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=a!=null?""+ot(a):""}function Ec(t,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(i(92));if(st(l)){if(1<l.length)throw Error(i(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=ot(r),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function bn(t,r){if(r){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=r;return}}t.textContent=r}var Rr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Vo(t,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":l?t.setProperty(r,a):typeof a!="number"||a===0||Rr.has(r)?r==="float"?t.cssFloat=a:t[r]=(""+a).trim():t[r]=a+"px"}function ko(t,r,a){if(r!=null&&typeof r!="object")throw Error(i(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in r)l=r[h],r.hasOwnProperty(h)&&a[h]!==l&&Vo(t,h,l)}else for(var d in r)r.hasOwnProperty(d)&&Vo(t,d,r[d])}function ha(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Tc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Pn(t){return Tc.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Po=null;function Lo(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ds=null,Jt=null;function wc(t){var r=nr(t);if(r&&(t=r.stateNode)){var a=t[Pt]||null;e:switch(t=r.stateNode,r.type){case"input":if(jo(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Dt(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==t&&l.form===t.form){var h=l[Pt]||null;if(!h)throw Error(i(90));jo(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===t.form&&Ye(l)}break e;case"textarea":bc(t,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&fs(t,!!a.multiple,r,!1)}}}var di=!1;function mi(t,r,a){if(di)return t(r,a);di=!0;try{var l=t(r);return l}finally{if(di=!1,(ds!==null||Jt!==null)&&(du(),ds&&(r=ds,t=Jt,Jt=ds=null,wc(r),t)))for(r=0;r<t.length;r++)wc(t[r])}}function ms(t,r){var a=t.stateNode;if(a===null)return null;var l=a[Pt]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(i(231,r,typeof a));return a}var en=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cr=!1;if(en)try{var gs={};Object.defineProperty(gs,"passive",{get:function(){Cr=!0}}),window.addEventListener("test",gs,gs),window.removeEventListener("test",gs,gs)}catch{Cr=!1}var En=null,Je=null,fa=null;function Sc(){if(fa)return fa;var t,r=Je,a=r.length,l,h="value"in En?En.value:En.textContent,d=h.length;for(t=0;t<a&&r[t]===h[t];t++);var E=a-t;for(l=1;l<=E&&r[a-l]===h[d-l];l++);return fa=h.slice(t,1<l?1-l:void 0)}function gi(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function pi(){return!0}function Uo(){return!1}function At(t){function r(a,l,h,d,E){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=E,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?pi:Uo,this.isPropagationStopped=Uo,this}return b(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=pi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=pi)},persist:function(){},isPersistent:pi}),r}var Gt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yi=At(Gt),vi=b({},Gt,{view:0,detail:0}),_i=At(vi),da,bi,ar,Ei=b({},vi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pa,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ar&&(ar&&t.type==="mousemove"?(da=t.screenX-ar.screenX,bi=t.screenY-ar.screenY):bi=da=0,ar=t),da)},movementY:function(t){return"movementY"in t?t.movementY:bi}}),xi=At(Ei),$h=b({},Ei,{dataTransfer:0}),Ac=At($h),Ti=b({},vi,{relatedTarget:0}),ma=At(Ti),Rc=b({},Gt,{animationName:0,elapsedTime:0,pseudoElement:0}),zo=At(Rc),Bo=b({},Gt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Cc=At(Bo),ga=b({},Gt,{data:0}),qo=At(ga),Nc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ic={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Dc(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=Ic[t])?!!r[t]:!1}function pa(){return Dc}var jc=b({},vi,{key:function(t){if(t.key){var r=Nc[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=gi(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Nr[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pa,charCode:function(t){return t.type==="keypress"?gi(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?gi(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ya=At(jc),tn=b({},Ei,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ho=At(tn),Oc=b({},vi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pa}),ps=At(Oc),u=b({},Gt,{propertyName:0,elapsedTime:0,pseudoElement:0}),v=At(u),_=b({},Ei,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),w=At(_),B=b({},Gt,{newState:0,oldState:0}),Y=At(B),se=[9,13,27,32],Se=en&&"CompositionEvent"in window,nt=null;en&&"documentMode"in document&&(nt=document.documentMode);var He=en&&"TextEvent"in window&&!nt,gt=en&&(!Se||nt&&8<nt&&11>=nt),cn=" ",or=!1;function Ln(t,r){switch(t){case"keyup":return se.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Un(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var zn=!1;function Fo(t,r){switch(t){case"compositionend":return Un(r);case"keypress":return r.which!==32?null:(or=!0,cn);case"textInput":return t=r.data,t===cn&&or?null:t;default:return null}}function LE(t,r){if(zn)return t==="compositionend"||!Se&&Ln(t,r)?(t=Sc(),fa=Je=En=null,zn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return gt&&r.locale!=="ko"?null:r.data;default:return null}}var UE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zg(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!UE[t.type]:r==="textarea"}function Bg(t,r,a,l){ds?Jt?Jt.push(l):Jt=[l]:ds=l,r=_u(r,"onChange"),0<r.length&&(a=new yi("onChange","change",null,a,l),t.push({event:a,listeners:r}))}var Go=null,Qo=null;function zE(t){E0(t,0)}function Mc(t){var r=ls(t);if(Ye(r))return t}function qg(t,r){if(t==="change")return r}var Hg=!1;if(en){var Kh;if(en){var Xh="oninput"in document;if(!Xh){var Fg=document.createElement("div");Fg.setAttribute("oninput","return;"),Xh=typeof Fg.oninput=="function"}Kh=Xh}else Kh=!1;Hg=Kh&&(!document.documentMode||9<document.documentMode)}function Gg(){Go&&(Go.detachEvent("onpropertychange",Qg),Qo=Go=null)}function Qg(t){if(t.propertyName==="value"&&Mc(Qo)){var r=[];Bg(r,Qo,t,Lo(t)),mi(zE,r)}}function BE(t,r,a){t==="focusin"?(Gg(),Go=r,Qo=a,Go.attachEvent("onpropertychange",Qg)):t==="focusout"&&Gg()}function qE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Mc(Qo)}function HE(t,r){if(t==="click")return Mc(r)}function FE(t,r){if(t==="input"||t==="change")return Mc(r)}function GE(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var un=typeof Object.is=="function"?Object.is:GE;function Yo(t,r){if(un(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var a=Object.keys(t),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!na.call(r,h)||!un(t[h],r[h]))return!1}return!0}function Yg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function $g(t,r){var a=Yg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=r&&l>=r)return{node:a,offset:r-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Yg(a)}}function Kg(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?Kg(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function Xg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=Ar(t.document);r instanceof t.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)t=r.contentWindow;else break;r=Ar(t.document)}return r}function Zh(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var QE=en&&"documentMode"in document&&11>=document.documentMode,va=null,Wh=null,$o=null,Jh=!1;function Zg(t,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Jh||va==null||va!==Ar(l)||(l=va,"selectionStart"in l&&Zh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),$o&&Yo($o,l)||($o=l,l=_u(Wh,"onSelect"),0<l.length&&(r=new yi("onSelect","select",null,r,a),t.push({event:r,listeners:l}),r.target=va)))}function wi(t,r){var a={};return a[t.toLowerCase()]=r.toLowerCase(),a["Webkit"+t]="webkit"+r,a["Moz"+t]="moz"+r,a}var _a={animationend:wi("Animation","AnimationEnd"),animationiteration:wi("Animation","AnimationIteration"),animationstart:wi("Animation","AnimationStart"),transitionrun:wi("Transition","TransitionRun"),transitionstart:wi("Transition","TransitionStart"),transitioncancel:wi("Transition","TransitionCancel"),transitionend:wi("Transition","TransitionEnd")},ef={},Wg={};en&&(Wg=document.createElement("div").style,"AnimationEvent"in window||(delete _a.animationend.animation,delete _a.animationiteration.animation,delete _a.animationstart.animation),"TransitionEvent"in window||delete _a.transitionend.transition);function Si(t){if(ef[t])return ef[t];if(!_a[t])return t;var r=_a[t],a;for(a in r)if(r.hasOwnProperty(a)&&a in Wg)return ef[t]=r[a];return t}var Jg=Si("animationend"),ep=Si("animationiteration"),tp=Si("animationstart"),YE=Si("transitionrun"),$E=Si("transitionstart"),KE=Si("transitioncancel"),np=Si("transitionend"),rp=new Map,tf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");tf.push("scrollEnd");function Bn(t,r){rp.set(t,r),rr(r,[t])}var sp=new WeakMap;function xn(t,r){if(typeof t=="object"&&t!==null){var a=sp.get(t);return a!==void 0?a:(r={value:t,source:r,stack:kn(r)},sp.set(t,r),r)}return{value:t,source:r,stack:kn(r)}}var Tn=[],ba=0,nf=0;function Vc(){for(var t=ba,r=nf=ba=0;r<t;){var a=Tn[r];Tn[r++]=null;var l=Tn[r];Tn[r++]=null;var h=Tn[r];Tn[r++]=null;var d=Tn[r];if(Tn[r++]=null,l!==null&&h!==null){var E=l.pending;E===null?h.next=h:(h.next=E.next,E.next=h),l.pending=h}d!==0&&ip(a,h,d)}}function kc(t,r,a,l){Tn[ba++]=t,Tn[ba++]=r,Tn[ba++]=a,Tn[ba++]=l,nf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function rf(t,r,a,l){return kc(t,r,a,l),Pc(t)}function Ea(t,r){return kc(t,null,null,r),Pc(t)}function ip(t,r,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&r!==null&&(h=31-Wt(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[r]:l.push(r),r.lane=a|536870912),d):null}function Pc(t){if(50<_l)throw _l=0,ud=null,Error(i(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var xa={};function XE(t,r,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hn(t,r,a,l){return new XE(t,r,a,l)}function sf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ir(t,r){var a=t.alternate;return a===null?(a=hn(t.tag,r,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=r,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,r=t.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function ap(t,r){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,r=a.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function Lc(t,r,a,l,h,d){var E=0;if(l=t,typeof t=="function")sf(t)&&(E=1);else if(typeof t=="string")E=Wx(t,a,me.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=hn(31,a,r,h),t.elementType=R,t.lanes=d,t;case q:return Ai(a.children,h,d,r);case U:E=8,h|=24;break;case F:return t=hn(12,a,r,h|2),t.elementType=F,t.lanes=d,t;case fe:return t=hn(13,a,r,h),t.elementType=fe,t.lanes=d,t;case he:return t=hn(19,a,r,h),t.elementType=he,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case te:case re:E=10;break e;case X:E=9;break e;case xe:E=11;break e;case I:E=14;break e;case S:E=16,l=null;break e}E=29,a=Error(i(130,t===null?"null":typeof t,"")),l=null}return r=hn(E,a,r,h),r.elementType=t,r.type=l,r.lanes=d,r}function Ai(t,r,a,l){return t=hn(7,t,l,r),t.lanes=a,t}function af(t,r,a){return t=hn(6,t,null,r),t.lanes=a,t}function of(t,r,a){return r=hn(4,t.children!==null?t.children:[],t.key,r),r.lanes=a,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var Ta=[],wa=0,Uc=null,zc=0,wn=[],Sn=0,Ri=null,Dr=1,jr="";function Ci(t,r){Ta[wa++]=zc,Ta[wa++]=Uc,Uc=t,zc=r}function op(t,r,a){wn[Sn++]=Dr,wn[Sn++]=jr,wn[Sn++]=Ri,Ri=t;var l=Dr;t=jr;var h=32-Wt(l)-1;l&=~(1<<h),a+=1;var d=32-Wt(r)+h;if(30<d){var E=h-h%5;d=(l&(1<<E)-1).toString(32),l>>=E,h-=E,Dr=1<<32-Wt(r)+h|a<<h|l,jr=d+t}else Dr=1<<d|a<<h|l,jr=t}function lf(t){t.return!==null&&(Ci(t,1),op(t,1,0))}function cf(t){for(;t===Uc;)Uc=Ta[--wa],Ta[wa]=null,zc=Ta[--wa],Ta[wa]=null;for(;t===Ri;)Ri=wn[--Sn],wn[Sn]=null,jr=wn[--Sn],wn[Sn]=null,Dr=wn[--Sn],wn[Sn]=null}var nn=null,ut=null,ze=!1,Ni=null,lr=!1,uf=Error(i(519));function Ii(t){var r=Error(i(418,""));throw Zo(xn(r,t)),uf}function lp(t){var r=t.stateNode,a=t.type,l=t.memoizedProps;switch(r[dt]=t,r[Pt]=l,a){case"dialog":De("cancel",r),De("close",r);break;case"iframe":case"object":case"embed":De("load",r);break;case"video":case"audio":for(a=0;a<El.length;a++)De(El[a],r);break;case"source":De("error",r);break;case"img":case"image":case"link":De("error",r),De("load",r);break;case"details":De("toggle",r);break;case"input":De("invalid",r),Oo(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),hs(r);break;case"select":De("invalid",r);break;case"textarea":De("invalid",r),Ec(r,l.value,l.defaultValue,l.children),hs(r)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||S0(r.textContent,a)?(l.popover!=null&&(De("beforetoggle",r),De("toggle",r)),l.onScroll!=null&&De("scroll",r),l.onScrollEnd!=null&&De("scrollend",r),l.onClick!=null&&(r.onclick=bu),r=!0):r=!1,r||Ii(t)}function cp(t){for(nn=t.return;nn;)switch(nn.tag){case 5:case 13:lr=!1;return;case 27:case 3:lr=!0;return;default:nn=nn.return}}function Ko(t){if(t!==nn)return!1;if(!ze)return cp(t),ze=!0,!1;var r=t.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Ad(t.type,t.memoizedProps)),a=!a),a&&ut&&Ii(t),cp(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(r===0){ut=Hn(t.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;t=t.nextSibling}ut=null}}else r===27?(r=ut,js(t.type)?(t=Id,Id=null,ut=t):ut=r):ut=nn?Hn(t.stateNode.nextSibling):null;return!0}function Xo(){ut=nn=null,ze=!1}function up(){var t=Ni;return t!==null&&(on===null?on=t:on.push.apply(on,t),Ni=null),t}function Zo(t){Ni===null?Ni=[t]:Ni.push(t)}var hf=ne(null),Di=null,Or=null;function ys(t,r,a){ie(hf,r._currentValue),r._currentValue=a}function Mr(t){t._currentValue=hf.current,le(hf)}function ff(t,r,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),t===a)break;t=t.return}}function df(t,r,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var E=h.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=h;for(var N=0;N<r.length;N++)if(T.context===r[N]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),ff(d.return,a,t),l||(E=null);break e}d=T.next}}else if(h.tag===18){if(E=h.return,E===null)throw Error(i(341));E.lanes|=a,d=E.alternate,d!==null&&(d.lanes|=a),ff(E,a,t),E=null}else E=h.child;if(E!==null)E.return=h;else for(E=h;E!==null;){if(E===t){E=null;break}if(h=E.sibling,h!==null){h.return=E.return,E=h;break}E=E.return}h=E}}function Wo(t,r,a,l){t=null;for(var h=r,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var E=h.alternate;if(E===null)throw Error(i(387));if(E=E.memoizedProps,E!==null){var T=h.type;un(h.pendingProps.value,E.value)||(t!==null?t.push(T):t=[T])}}else if(h===kt.current){if(E=h.alternate,E===null)throw Error(i(387));E.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Rl):t=[Rl])}h=h.return}t!==null&&df(r,t,a,l),r.flags|=262144}function Bc(t){for(t=t.firstContext;t!==null;){if(!un(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ji(t){Di=t,Or=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Qt(t){return hp(Di,t)}function qc(t,r){return Di===null&&ji(t),hp(t,r)}function hp(t,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},Or===null){if(t===null)throw Error(i(308));Or=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else Or=Or.next=r;return a}var ZE=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){r.aborted=!0,t.forEach(function(a){return a()})}},WE=s.unstable_scheduleCallback,JE=s.unstable_NormalPriority,Rt={$$typeof:re,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function mf(){return{controller:new ZE,data:new Map,refCount:0}}function Jo(t){t.refCount--,t.refCount===0&&WE(JE,function(){t.controller.abort()})}var el=null,gf=0,Sa=0,Aa=null;function ex(t,r){if(el===null){var a=el=[];gf=0,Sa=yd(),Aa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return gf++,r.then(fp,fp),r}function fp(){if(--gf===0&&el!==null){Aa!==null&&(Aa.status="fulfilled");var t=el;el=null,Sa=0,Aa=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function tx(t,r){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=r;for(var h=0;h<a.length;h++)(0,a[h])(r)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var dp=$.S;$.S=function(t,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&ex(t,r),dp!==null&&dp(t,r)};var Oi=ne(null);function pf(){var t=Oi.current;return t!==null?t:et.pooledCache}function Hc(t,r){r===null?ie(Oi,Oi.current):ie(Oi,r.pool)}function mp(){var t=pf();return t===null?null:{parent:Rt._currentValue,pool:t}}var tl=Error(i(460)),gp=Error(i(474)),Fc=Error(i(542)),yf={then:function(){}};function pp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Gc(){}function yp(t,r,a){switch(a=t[a],a===void 0?t.push(r):a!==r&&(r.then(Gc,Gc),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,_p(t),t;default:if(typeof r.status=="string")r.then(Gc,Gc);else{if(t=et,t!==null&&100<t.shellSuspendCounter)throw Error(i(482));t=r,t.status="pending",t.then(function(l){if(r.status==="pending"){var h=r;h.status="fulfilled",h.value=l}},function(l){if(r.status==="pending"){var h=r;h.status="rejected",h.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,_p(t),t}throw nl=r,tl}}var nl=null;function vp(){if(nl===null)throw Error(i(459));var t=nl;return nl=null,t}function _p(t){if(t===tl||t===Fc)throw Error(i(483))}var vs=!1;function vf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function _f(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function _s(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function bs(t,r,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Fe&2)!==0){var h=l.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),l.pending=r,r=Pc(t),ip(t,null,a),r}return kc(t,l,r,a),Pc(t)}function rl(t,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,as(t,a)}}function bf(t,r){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var E={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=E:d=d.next=E,a=a.next}while(a!==null);d===null?h=d=r:d=d.next=r}else h=d=r;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=r:t.next=r,a.lastBaseUpdate=r}var Ef=!1;function sl(){if(Ef){var t=Aa;if(t!==null)throw t}}function il(t,r,a,l){Ef=!1;var h=t.updateQueue;vs=!1;var d=h.firstBaseUpdate,E=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var N=T,H=N.next;N.next=null,E===null?d=H:E.next=H,E=N;var K=t.alternate;K!==null&&(K=K.updateQueue,T=K.lastBaseUpdate,T!==E&&(T===null?K.firstBaseUpdate=H:T.next=H,K.lastBaseUpdate=N))}if(d!==null){var J=h.baseState;E=0,K=H=N=null,T=d;do{var G=T.lane&-536870913,Q=G!==T.lane;if(Q?(ke&G)===G:(l&G)===G){G!==0&&G===Sa&&(Ef=!0),K!==null&&(K=K.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var Ee=t,ye=T;G=r;var Xe=a;switch(ye.tag){case 1:if(Ee=ye.payload,typeof Ee=="function"){J=Ee.call(Xe,J,G);break e}J=Ee;break e;case 3:Ee.flags=Ee.flags&-65537|128;case 0:if(Ee=ye.payload,G=typeof Ee=="function"?Ee.call(Xe,J,G):Ee,G==null)break e;J=b({},J,G);break e;case 2:vs=!0}}G=T.callback,G!==null&&(t.flags|=64,Q&&(t.flags|=8192),Q=h.callbacks,Q===null?h.callbacks=[G]:Q.push(G))}else Q={lane:G,tag:T.tag,payload:T.payload,callback:T.callback,next:null},K===null?(H=K=Q,N=J):K=K.next=Q,E|=G;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;Q=T,T=Q.next,Q.next=null,h.lastBaseUpdate=Q,h.shared.pending=null}}while(!0);K===null&&(N=J),h.baseState=N,h.firstBaseUpdate=H,h.lastBaseUpdate=K,d===null&&(h.shared.lanes=0),Cs|=E,t.lanes=E,t.memoizedState=J}}function bp(t,r){if(typeof t!="function")throw Error(i(191,t));t.call(r)}function Ep(t,r){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)bp(a[t],r)}var Ra=ne(null),Qc=ne(0);function xp(t,r){t=Br,ie(Qc,t),ie(Ra,r),Br=t|r.baseLanes}function xf(){ie(Qc,Br),ie(Ra,Ra.current)}function Tf(){Br=Qc.current,le(Ra),le(Qc)}var Es=0,Ce=null,$e=null,_t=null,Yc=!1,Ca=!1,Mi=!1,$c=0,al=0,Na=null,nx=0;function pt(){throw Error(i(321))}function wf(t,r){if(r===null)return!1;for(var a=0;a<r.length&&a<t.length;a++)if(!un(t[a],r[a]))return!1;return!0}function Sf(t,r,a,l,h,d){return Es=d,Ce=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,$.H=t===null||t.memoizedState===null?iy:ay,Mi=!1,d=a(l,h),Mi=!1,Ca&&(d=wp(r,a,l,h)),Tp(t),d}function Tp(t){$.H=eu;var r=$e!==null&&$e.next!==null;if(Es=0,_t=$e=Ce=null,Yc=!1,al=0,Na=null,r)throw Error(i(300));t===null||jt||(t=t.dependencies,t!==null&&Bc(t)&&(jt=!0))}function wp(t,r,a,l){Ce=t;var h=0;do{if(Ca&&(Na=null),al=0,Ca=!1,25<=h)throw Error(i(301));if(h+=1,_t=$e=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}$.H=cx,d=r(a,l)}while(Ca);return d}function rx(){var t=$.H,r=t.useState()[0];return r=typeof r.then=="function"?ol(r):r,t=t.useState()[0],($e!==null?$e.memoizedState:null)!==t&&(Ce.flags|=1024),r}function Af(){var t=$c!==0;return $c=0,t}function Rf(t,r,a){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~a}function Cf(t){if(Yc){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}Yc=!1}Es=0,_t=$e=Ce=null,Ca=!1,al=$c=0,Na=null}function sn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _t===null?Ce.memoizedState=_t=t:_t=_t.next=t,_t}function bt(){if($e===null){var t=Ce.alternate;t=t!==null?t.memoizedState:null}else t=$e.next;var r=_t===null?Ce.memoizedState:_t.next;if(r!==null)_t=r,$e=t;else{if(t===null)throw Ce.alternate===null?Error(i(467)):Error(i(310));$e=t,t={memoizedState:$e.memoizedState,baseState:$e.baseState,baseQueue:$e.baseQueue,queue:$e.queue,next:null},_t===null?Ce.memoizedState=_t=t:_t=_t.next=t}return _t}function Nf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ol(t){var r=al;return al+=1,Na===null&&(Na=[]),t=yp(Na,t,r),r=Ce,(_t===null?r.memoizedState:_t.next)===null&&(r=r.alternate,$.H=r===null||r.memoizedState===null?iy:ay),t}function Kc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ol(t);if(t.$$typeof===re)return Qt(t)}throw Error(i(438,String(t)))}function If(t){var r=null,a=Ce.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=Ce.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(h){return h.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=Nf(),Ce.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(t),l=0;l<t;l++)a[l]=D;return r.index++,a}function Vr(t,r){return typeof r=="function"?r(t):r}function Xc(t){var r=bt();return Df(r,$e,t)}function Df(t,r,a){var l=t.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var E=h.next;h.next=d.next,d.next=E}r.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{r=h.next;var T=E=null,N=null,H=r,K=!1;do{var J=H.lane&-536870913;if(J!==H.lane?(ke&J)===J:(Es&J)===J){var G=H.revertLane;if(G===0)N!==null&&(N=N.next={lane:0,revertLane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),J===Sa&&(K=!0);else if((Es&G)===G){H=H.next,G===Sa&&(K=!0);continue}else J={lane:0,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},N===null?(T=N=J,E=d):N=N.next=J,Ce.lanes|=G,Cs|=G;J=H.action,Mi&&a(d,J),d=H.hasEagerState?H.eagerState:a(d,J)}else G={lane:J,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},N===null?(T=N=G,E=d):N=N.next=G,Ce.lanes|=J,Cs|=J;H=H.next}while(H!==null&&H!==r);if(N===null?E=d:N.next=T,!un(d,t.memoizedState)&&(jt=!0,K&&(a=Aa,a!==null)))throw a;t.memoizedState=d,t.baseState=E,t.baseQueue=N,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function jf(t){var r=bt(),a=r.queue;if(a===null)throw Error(i(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=r.memoizedState;if(h!==null){a.pending=null;var E=h=h.next;do d=t(d,E.action),E=E.next;while(E!==h);un(d,r.memoizedState)||(jt=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),a.lastRenderedState=d}return[d,l]}function Sp(t,r,a){var l=Ce,h=bt(),d=ze;if(d){if(a===void 0)throw Error(i(407));a=a()}else a=r();var E=!un(($e||h).memoizedState,a);E&&(h.memoizedState=a,jt=!0),h=h.queue;var T=Cp.bind(null,l,h,t);if(ll(2048,8,T,[t]),h.getSnapshot!==r||E||_t!==null&&_t.memoizedState.tag&1){if(l.flags|=2048,Ia(9,Zc(),Rp.bind(null,l,h,a,r),null),et===null)throw Error(i(349));d||(Es&124)!==0||Ap(l,r,a)}return a}function Ap(t,r,a){t.flags|=16384,t={getSnapshot:r,value:a},r=Ce.updateQueue,r===null?(r=Nf(),Ce.updateQueue=r,r.stores=[t]):(a=r.stores,a===null?r.stores=[t]:a.push(t))}function Rp(t,r,a,l){r.value=a,r.getSnapshot=l,Np(r)&&Ip(t)}function Cp(t,r,a){return a(function(){Np(r)&&Ip(t)})}function Np(t){var r=t.getSnapshot;t=t.value;try{var a=r();return!un(t,a)}catch{return!0}}function Ip(t){var r=Ea(t,2);r!==null&&pn(r,t,2)}function Of(t){var r=sn();if(typeof t=="function"){var a=t;if(t=a(),Mi){yn(!0);try{a()}finally{yn(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vr,lastRenderedState:t},r}function Dp(t,r,a,l){return t.baseState=a,Df(t,$e,typeof l=="function"?l:Vr)}function sx(t,r,a,l,h){if(Jc(t))throw Error(i(485));if(t=r.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){d.listeners.push(E)}};$.T!==null?a(!0):d.isTransition=!1,l(d),a=r.pending,a===null?(d.next=r.pending=d,jp(r,d)):(d.next=a.next,r.pending=a.next=d)}}function jp(t,r){var a=r.action,l=r.payload,h=t.state;if(r.isTransition){var d=$.T,E={};$.T=E;try{var T=a(h,l),N=$.S;N!==null&&N(E,T),Op(t,r,T)}catch(H){Mf(t,r,H)}finally{$.T=d}}else try{d=a(h,l),Op(t,r,d)}catch(H){Mf(t,r,H)}}function Op(t,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Mp(t,r,l)},function(l){return Mf(t,r,l)}):Mp(t,r,a)}function Mp(t,r,a){r.status="fulfilled",r.value=a,Vp(r),t.state=a,r=t.pending,r!==null&&(a=r.next,a===r?t.pending=null:(a=a.next,r.next=a,jp(t,a)))}function Mf(t,r,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,Vp(r),r=r.next;while(r!==l)}t.action=null}function Vp(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function kp(t,r){return r}function Pp(t,r){if(ze){var a=et.formState;if(a!==null){e:{var l=Ce;if(ze){if(ut){t:{for(var h=ut,d=lr;h.nodeType!==8;){if(!d){h=null;break t}if(h=Hn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){ut=Hn(h.nextSibling),l=h.data==="F!";break e}}Ii(l)}l=!1}l&&(r=a[0])}}return a=sn(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:kp,lastRenderedState:r},a.queue=l,a=ny.bind(null,Ce,l),l.dispatch=a,l=Of(!1),d=Uf.bind(null,Ce,!1,l.queue),l=sn(),h={state:r,dispatch:null,action:t,pending:null},l.queue=h,a=sx.bind(null,Ce,h,d,a),h.dispatch=a,l.memoizedState=t,[r,a,!1]}function Lp(t){var r=bt();return Up(r,$e,t)}function Up(t,r,a){if(r=Df(t,r,kp)[0],t=Xc(Vr)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=ol(r)}catch(E){throw E===tl?Fc:E}else l=r;r=bt();var h=r.queue,d=h.dispatch;return a!==r.memoizedState&&(Ce.flags|=2048,Ia(9,Zc(),ix.bind(null,h,a),null)),[l,d,t]}function ix(t,r){t.action=r}function zp(t){var r=bt(),a=$e;if(a!==null)return Up(r,a,t);bt(),r=r.memoizedState,a=bt();var l=a.queue.dispatch;return a.memoizedState=t,[r,l,!1]}function Ia(t,r,a,l){return t={tag:t,create:a,deps:l,inst:r,next:null},r=Ce.updateQueue,r===null&&(r=Nf(),Ce.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,r.lastEffect=t),t}function Zc(){return{destroy:void 0,resource:void 0}}function Bp(){return bt().memoizedState}function Wc(t,r,a,l){var h=sn();l=l===void 0?null:l,Ce.flags|=t,h.memoizedState=Ia(1|r,Zc(),a,l)}function ll(t,r,a,l){var h=bt();l=l===void 0?null:l;var d=h.memoizedState.inst;$e!==null&&l!==null&&wf(l,$e.memoizedState.deps)?h.memoizedState=Ia(r,d,a,l):(Ce.flags|=t,h.memoizedState=Ia(1|r,d,a,l))}function qp(t,r){Wc(8390656,8,t,r)}function Hp(t,r){ll(2048,8,t,r)}function Fp(t,r){return ll(4,2,t,r)}function Gp(t,r){return ll(4,4,t,r)}function Qp(t,r){if(typeof r=="function"){t=t();var a=r(t);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function Yp(t,r,a){a=a!=null?a.concat([t]):null,ll(4,4,Qp.bind(null,r,t),a)}function Vf(){}function $p(t,r){var a=bt();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&wf(r,l[1])?l[0]:(a.memoizedState=[t,r],t)}function Kp(t,r){var a=bt();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&wf(r,l[1]))return l[0];if(l=t(),Mi){yn(!0);try{t()}finally{yn(!1)}}return a.memoizedState=[l,r],l}function kf(t,r,a){return a===void 0||(Es&1073741824)!==0?t.memoizedState=r:(t.memoizedState=a,t=Wy(),Ce.lanes|=t,Cs|=t,a)}function Xp(t,r,a,l){return un(a,r)?a:Ra.current!==null?(t=kf(t,a,l),un(t,r)||(jt=!0),t):(Es&42)===0?(jt=!0,t.memoizedState=a):(t=Wy(),Ce.lanes|=t,Cs|=t,r)}function Zp(t,r,a,l,h){var d=ae.p;ae.p=d!==0&&8>d?d:8;var E=$.T,T={};$.T=T,Uf(t,!1,r,a);try{var N=h(),H=$.S;if(H!==null&&H(T,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var K=tx(N,l);cl(t,r,K,gn(t))}else cl(t,r,l,gn(t))}catch(J){cl(t,r,{then:function(){},status:"rejected",reason:J},gn())}finally{ae.p=d,$.T=E}}function ax(){}function Pf(t,r,a,l){if(t.tag!==5)throw Error(i(476));var h=Wp(t).queue;Zp(t,h,r,pe,a===null?ax:function(){return Jp(t),a(l)})}function Wp(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vr,lastRenderedState:pe},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vr,lastRenderedState:a},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function Jp(t){var r=Wp(t).next.queue;cl(t,r,{},gn())}function Lf(){return Qt(Rl)}function ey(){return bt().memoizedState}function ty(){return bt().memoizedState}function ox(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var a=gn();t=_s(a);var l=bs(r,t,a);l!==null&&(pn(l,r,a),rl(l,r,a)),r={cache:mf()},t.payload=r;return}r=r.return}}function lx(t,r,a){var l=gn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Jc(t)?ry(r,a):(a=rf(t,r,a,l),a!==null&&(pn(a,t,l),sy(a,r,l)))}function ny(t,r,a){var l=gn();cl(t,r,a,l)}function cl(t,r,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Jc(t))ry(r,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var E=r.lastRenderedState,T=d(E,a);if(h.hasEagerState=!0,h.eagerState=T,un(T,E))return kc(t,r,h,0),et===null&&Vc(),!1}catch{}finally{}if(a=rf(t,r,h,l),a!==null)return pn(a,t,l),sy(a,r,l),!0}return!1}function Uf(t,r,a,l){if(l={lane:2,revertLane:yd(),action:l,hasEagerState:!1,eagerState:null,next:null},Jc(t)){if(r)throw Error(i(479))}else r=rf(t,a,l,2),r!==null&&pn(r,t,2)}function Jc(t){var r=t.alternate;return t===Ce||r!==null&&r===Ce}function ry(t,r){Ca=Yc=!0;var a=t.pending;a===null?r.next=r:(r.next=a.next,a.next=r),t.pending=r}function sy(t,r,a){if((a&4194048)!==0){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,as(t,a)}}var eu={readContext:Qt,use:Kc,useCallback:pt,useContext:pt,useEffect:pt,useImperativeHandle:pt,useLayoutEffect:pt,useInsertionEffect:pt,useMemo:pt,useReducer:pt,useRef:pt,useState:pt,useDebugValue:pt,useDeferredValue:pt,useTransition:pt,useSyncExternalStore:pt,useId:pt,useHostTransitionStatus:pt,useFormState:pt,useActionState:pt,useOptimistic:pt,useMemoCache:pt,useCacheRefresh:pt},iy={readContext:Qt,use:Kc,useCallback:function(t,r){return sn().memoizedState=[t,r===void 0?null:r],t},useContext:Qt,useEffect:qp,useImperativeHandle:function(t,r,a){a=a!=null?a.concat([t]):null,Wc(4194308,4,Qp.bind(null,r,t),a)},useLayoutEffect:function(t,r){return Wc(4194308,4,t,r)},useInsertionEffect:function(t,r){Wc(4,2,t,r)},useMemo:function(t,r){var a=sn();r=r===void 0?null:r;var l=t();if(Mi){yn(!0);try{t()}finally{yn(!1)}}return a.memoizedState=[l,r],l},useReducer:function(t,r,a){var l=sn();if(a!==void 0){var h=a(r);if(Mi){yn(!0);try{a(r)}finally{yn(!1)}}}else h=r;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=lx.bind(null,Ce,t),[l.memoizedState,t]},useRef:function(t){var r=sn();return t={current:t},r.memoizedState=t},useState:function(t){t=Of(t);var r=t.queue,a=ny.bind(null,Ce,r);return r.dispatch=a,[t.memoizedState,a]},useDebugValue:Vf,useDeferredValue:function(t,r){var a=sn();return kf(a,t,r)},useTransition:function(){var t=Of(!1);return t=Zp.bind(null,Ce,t.queue,!0,!1),sn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,a){var l=Ce,h=sn();if(ze){if(a===void 0)throw Error(i(407));a=a()}else{if(a=r(),et===null)throw Error(i(349));(ke&124)!==0||Ap(l,r,a)}h.memoizedState=a;var d={value:a,getSnapshot:r};return h.queue=d,qp(Cp.bind(null,l,d,t),[t]),l.flags|=2048,Ia(9,Zc(),Rp.bind(null,l,d,a,r),null),a},useId:function(){var t=sn(),r=et.identifierPrefix;if(ze){var a=jr,l=Dr;a=(l&~(1<<32-Wt(l)-1)).toString(32)+a,r="«"+r+"R"+a,a=$c++,0<a&&(r+="H"+a.toString(32)),r+="»"}else a=nx++,r="«"+r+"r"+a.toString(32)+"»";return t.memoizedState=r},useHostTransitionStatus:Lf,useFormState:Pp,useActionState:Pp,useOptimistic:function(t){var r=sn();r.memoizedState=r.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=Uf.bind(null,Ce,!0,a),a.dispatch=r,[t,r]},useMemoCache:If,useCacheRefresh:function(){return sn().memoizedState=ox.bind(null,Ce)}},ay={readContext:Qt,use:Kc,useCallback:$p,useContext:Qt,useEffect:Hp,useImperativeHandle:Yp,useInsertionEffect:Fp,useLayoutEffect:Gp,useMemo:Kp,useReducer:Xc,useRef:Bp,useState:function(){return Xc(Vr)},useDebugValue:Vf,useDeferredValue:function(t,r){var a=bt();return Xp(a,$e.memoizedState,t,r)},useTransition:function(){var t=Xc(Vr)[0],r=bt().memoizedState;return[typeof t=="boolean"?t:ol(t),r]},useSyncExternalStore:Sp,useId:ey,useHostTransitionStatus:Lf,useFormState:Lp,useActionState:Lp,useOptimistic:function(t,r){var a=bt();return Dp(a,$e,t,r)},useMemoCache:If,useCacheRefresh:ty},cx={readContext:Qt,use:Kc,useCallback:$p,useContext:Qt,useEffect:Hp,useImperativeHandle:Yp,useInsertionEffect:Fp,useLayoutEffect:Gp,useMemo:Kp,useReducer:jf,useRef:Bp,useState:function(){return jf(Vr)},useDebugValue:Vf,useDeferredValue:function(t,r){var a=bt();return $e===null?kf(a,t,r):Xp(a,$e.memoizedState,t,r)},useTransition:function(){var t=jf(Vr)[0],r=bt().memoizedState;return[typeof t=="boolean"?t:ol(t),r]},useSyncExternalStore:Sp,useId:ey,useHostTransitionStatus:Lf,useFormState:zp,useActionState:zp,useOptimistic:function(t,r){var a=bt();return $e!==null?Dp(a,$e,t,r):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:If,useCacheRefresh:ty},Da=null,ul=0;function tu(t){var r=ul;return ul+=1,Da===null&&(Da=[]),yp(Da,t,r)}function hl(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function nu(t,r){throw r.$$typeof===x?Error(i(525)):(t=Object.prototype.toString.call(r),Error(i(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function oy(t){var r=t._init;return r(t._payload)}function ly(t){function r(L,M){if(t){var z=L.deletions;z===null?(L.deletions=[M],L.flags|=16):z.push(M)}}function a(L,M){if(!t)return null;for(;M!==null;)r(L,M),M=M.sibling;return null}function l(L){for(var M=new Map;L!==null;)L.key!==null?M.set(L.key,L):M.set(L.index,L),L=L.sibling;return M}function h(L,M){return L=Ir(L,M),L.index=0,L.sibling=null,L}function d(L,M,z){return L.index=z,t?(z=L.alternate,z!==null?(z=z.index,z<M?(L.flags|=67108866,M):z):(L.flags|=67108866,M)):(L.flags|=1048576,M)}function E(L){return t&&L.alternate===null&&(L.flags|=67108866),L}function T(L,M,z,Z){return M===null||M.tag!==6?(M=af(z,L.mode,Z),M.return=L,M):(M=h(M,z),M.return=L,M)}function N(L,M,z,Z){var ue=z.type;return ue===q?K(L,M,z.props.children,Z,z.key):M!==null&&(M.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===S&&oy(ue)===M.type)?(M=h(M,z.props),hl(M,z),M.return=L,M):(M=Lc(z.type,z.key,z.props,null,L.mode,Z),hl(M,z),M.return=L,M)}function H(L,M,z,Z){return M===null||M.tag!==4||M.stateNode.containerInfo!==z.containerInfo||M.stateNode.implementation!==z.implementation?(M=of(z,L.mode,Z),M.return=L,M):(M=h(M,z.children||[]),M.return=L,M)}function K(L,M,z,Z,ue){return M===null||M.tag!==7?(M=Ai(z,L.mode,Z,ue),M.return=L,M):(M=h(M,z),M.return=L,M)}function J(L,M,z){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=af(""+M,L.mode,z),M.return=L,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case A:return z=Lc(M.type,M.key,M.props,null,L.mode,z),hl(z,M),z.return=L,z;case V:return M=of(M,L.mode,z),M.return=L,M;case S:var Z=M._init;return M=Z(M._payload),J(L,M,z)}if(st(M)||k(M))return M=Ai(M,L.mode,z,null),M.return=L,M;if(typeof M.then=="function")return J(L,tu(M),z);if(M.$$typeof===re)return J(L,qc(L,M),z);nu(L,M)}return null}function G(L,M,z,Z){var ue=M!==null?M.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return ue!==null?null:T(L,M,""+z,Z);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case A:return z.key===ue?N(L,M,z,Z):null;case V:return z.key===ue?H(L,M,z,Z):null;case S:return ue=z._init,z=ue(z._payload),G(L,M,z,Z)}if(st(z)||k(z))return ue!==null?null:K(L,M,z,Z,null);if(typeof z.then=="function")return G(L,M,tu(z),Z);if(z.$$typeof===re)return G(L,M,qc(L,z),Z);nu(L,z)}return null}function Q(L,M,z,Z,ue){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return L=L.get(z)||null,T(M,L,""+Z,ue);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case A:return L=L.get(Z.key===null?z:Z.key)||null,N(M,L,Z,ue);case V:return L=L.get(Z.key===null?z:Z.key)||null,H(M,L,Z,ue);case S:var Ne=Z._init;return Z=Ne(Z._payload),Q(L,M,z,Z,ue)}if(st(Z)||k(Z))return L=L.get(z)||null,K(M,L,Z,ue,null);if(typeof Z.then=="function")return Q(L,M,z,tu(Z),ue);if(Z.$$typeof===re)return Q(L,M,z,qc(M,Z),ue);nu(M,Z)}return null}function Ee(L,M,z,Z){for(var ue=null,Ne=null,de=M,ve=M=0,Mt=null;de!==null&&ve<z.length;ve++){de.index>ve?(Mt=de,de=null):Mt=de.sibling;var Ue=G(L,de,z[ve],Z);if(Ue===null){de===null&&(de=Mt);break}t&&de&&Ue.alternate===null&&r(L,de),M=d(Ue,M,ve),Ne===null?ue=Ue:Ne.sibling=Ue,Ne=Ue,de=Mt}if(ve===z.length)return a(L,de),ze&&Ci(L,ve),ue;if(de===null){for(;ve<z.length;ve++)de=J(L,z[ve],Z),de!==null&&(M=d(de,M,ve),Ne===null?ue=de:Ne.sibling=de,Ne=de);return ze&&Ci(L,ve),ue}for(de=l(de);ve<z.length;ve++)Mt=Q(de,L,ve,z[ve],Z),Mt!==null&&(t&&Mt.alternate!==null&&de.delete(Mt.key===null?ve:Mt.key),M=d(Mt,M,ve),Ne===null?ue=Mt:Ne.sibling=Mt,Ne=Mt);return t&&de.forEach(function(Ps){return r(L,Ps)}),ze&&Ci(L,ve),ue}function ye(L,M,z,Z){if(z==null)throw Error(i(151));for(var ue=null,Ne=null,de=M,ve=M=0,Mt=null,Ue=z.next();de!==null&&!Ue.done;ve++,Ue=z.next()){de.index>ve?(Mt=de,de=null):Mt=de.sibling;var Ps=G(L,de,Ue.value,Z);if(Ps===null){de===null&&(de=Mt);break}t&&de&&Ps.alternate===null&&r(L,de),M=d(Ps,M,ve),Ne===null?ue=Ps:Ne.sibling=Ps,Ne=Ps,de=Mt}if(Ue.done)return a(L,de),ze&&Ci(L,ve),ue;if(de===null){for(;!Ue.done;ve++,Ue=z.next())Ue=J(L,Ue.value,Z),Ue!==null&&(M=d(Ue,M,ve),Ne===null?ue=Ue:Ne.sibling=Ue,Ne=Ue);return ze&&Ci(L,ve),ue}for(de=l(de);!Ue.done;ve++,Ue=z.next())Ue=Q(de,L,ve,Ue.value,Z),Ue!==null&&(t&&Ue.alternate!==null&&de.delete(Ue.key===null?ve:Ue.key),M=d(Ue,M,ve),Ne===null?ue=Ue:Ne.sibling=Ue,Ne=Ue);return t&&de.forEach(function(u2){return r(L,u2)}),ze&&Ci(L,ve),ue}function Xe(L,M,z,Z){if(typeof z=="object"&&z!==null&&z.type===q&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case A:e:{for(var ue=z.key;M!==null;){if(M.key===ue){if(ue=z.type,ue===q){if(M.tag===7){a(L,M.sibling),Z=h(M,z.props.children),Z.return=L,L=Z;break e}}else if(M.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===S&&oy(ue)===M.type){a(L,M.sibling),Z=h(M,z.props),hl(Z,z),Z.return=L,L=Z;break e}a(L,M);break}else r(L,M);M=M.sibling}z.type===q?(Z=Ai(z.props.children,L.mode,Z,z.key),Z.return=L,L=Z):(Z=Lc(z.type,z.key,z.props,null,L.mode,Z),hl(Z,z),Z.return=L,L=Z)}return E(L);case V:e:{for(ue=z.key;M!==null;){if(M.key===ue)if(M.tag===4&&M.stateNode.containerInfo===z.containerInfo&&M.stateNode.implementation===z.implementation){a(L,M.sibling),Z=h(M,z.children||[]),Z.return=L,L=Z;break e}else{a(L,M);break}else r(L,M);M=M.sibling}Z=of(z,L.mode,Z),Z.return=L,L=Z}return E(L);case S:return ue=z._init,z=ue(z._payload),Xe(L,M,z,Z)}if(st(z))return Ee(L,M,z,Z);if(k(z)){if(ue=k(z),typeof ue!="function")throw Error(i(150));return z=ue.call(z),ye(L,M,z,Z)}if(typeof z.then=="function")return Xe(L,M,tu(z),Z);if(z.$$typeof===re)return Xe(L,M,qc(L,z),Z);nu(L,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,M!==null&&M.tag===6?(a(L,M.sibling),Z=h(M,z),Z.return=L,L=Z):(a(L,M),Z=af(z,L.mode,Z),Z.return=L,L=Z),E(L)):a(L,M)}return function(L,M,z,Z){try{ul=0;var ue=Xe(L,M,z,Z);return Da=null,ue}catch(de){if(de===tl||de===Fc)throw de;var Ne=hn(29,de,null,L.mode);return Ne.lanes=Z,Ne.return=L,Ne}finally{}}}var ja=ly(!0),cy=ly(!1),An=ne(null),cr=null;function xs(t){var r=t.alternate;ie(Ct,Ct.current&1),ie(An,t),cr===null&&(r===null||Ra.current!==null||r.memoizedState!==null)&&(cr=t)}function uy(t){if(t.tag===22){if(ie(Ct,Ct.current),ie(An,t),cr===null){var r=t.alternate;r!==null&&r.memoizedState!==null&&(cr=t)}}else Ts()}function Ts(){ie(Ct,Ct.current),ie(An,An.current)}function kr(t){le(An),cr===t&&(cr=null),le(Ct)}var Ct=ne(0);function ru(t){for(var r=t;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Nd(a)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function zf(t,r,a,l){r=t.memoizedState,a=a(l,r),a=a==null?r:b({},r,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Bf={enqueueSetState:function(t,r,a){t=t._reactInternals;var l=gn(),h=_s(l);h.payload=r,a!=null&&(h.callback=a),r=bs(t,h,l),r!==null&&(pn(r,t,l),rl(r,t,l))},enqueueReplaceState:function(t,r,a){t=t._reactInternals;var l=gn(),h=_s(l);h.tag=1,h.payload=r,a!=null&&(h.callback=a),r=bs(t,h,l),r!==null&&(pn(r,t,l),rl(r,t,l))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var a=gn(),l=_s(a);l.tag=2,r!=null&&(l.callback=r),r=bs(t,l,a),r!==null&&(pn(r,t,a),rl(r,t,a))}};function hy(t,r,a,l,h,d,E){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,E):r.prototype&&r.prototype.isPureReactComponent?!Yo(a,l)||!Yo(h,d):!0}function fy(t,r,a,l){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==t&&Bf.enqueueReplaceState(r,r.state,null)}function Vi(t,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(t=t.defaultProps){a===r&&(a=b({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}var su=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function dy(t){su(t)}function my(t){console.error(t)}function gy(t){su(t)}function iu(t,r){try{var a=t.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function py(t,r,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function qf(t,r,a){return a=_s(a),a.tag=3,a.payload={element:null},a.callback=function(){iu(t,r)},a}function yy(t){return t=_s(t),t.tag=3,t}function vy(t,r,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){py(r,a,l)}}var E=a.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(t.callback=function(){py(r,a,l),typeof h!="function"&&(Ns===null?Ns=new Set([this]):Ns.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function ux(t,r,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&Wo(r,a,h,!0),a=An.current,a!==null){switch(a.tag){case 13:return cr===null?fd():a.alternate===null&&ht===0&&(ht=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===yf?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),md(t,l,h)),!1;case 22:return a.flags|=65536,l===yf?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),md(t,l,h)),!1}throw Error(i(435,a.tag))}return md(t,l,h),fd(),!1}if(ze)return r=An.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=h,l!==uf&&(t=Error(i(422),{cause:l}),Zo(xn(t,a)))):(l!==uf&&(r=Error(i(423),{cause:l}),Zo(xn(r,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=xn(l,a),h=qf(t.stateNode,l,h),bf(t,h),ht!==4&&(ht=2)),!1;var d=Error(i(520),{cause:l});if(d=xn(d,a),vl===null?vl=[d]:vl.push(d),ht!==4&&(ht=2),r===null)return!0;l=xn(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=qf(a.stateNode,l,t),bf(a,t),!1;case 1:if(r=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Ns===null||!Ns.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=yy(h),vy(h,t,a,l),bf(a,h),!1}a=a.return}while(a!==null);return!1}var _y=Error(i(461)),jt=!1;function Lt(t,r,a,l){r.child=t===null?cy(r,null,a,l):ja(r,t.child,a,l)}function by(t,r,a,l,h){a=a.render;var d=r.ref;if("ref"in l){var E={};for(var T in l)T!=="ref"&&(E[T]=l[T])}else E=l;return ji(r),l=Sf(t,r,a,E,d,h),T=Af(),t!==null&&!jt?(Rf(t,r,h),Pr(t,r,h)):(ze&&T&&lf(r),r.flags|=1,Lt(t,r,l,h),r.child)}function Ey(t,r,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!sf(d)&&d.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=d,xy(t,r,d,l,h)):(t=Lc(a.type,null,l,r,r.mode,h),t.ref=r.ref,t.return=r,r.child=t)}if(d=t.child,!Xf(t,h)){var E=d.memoizedProps;if(a=a.compare,a=a!==null?a:Yo,a(E,l)&&t.ref===r.ref)return Pr(t,r,h)}return r.flags|=1,t=Ir(d,l),t.ref=r.ref,t.return=r,r.child=t}function xy(t,r,a,l,h){if(t!==null){var d=t.memoizedProps;if(Yo(d,l)&&t.ref===r.ref)if(jt=!1,r.pendingProps=l=d,Xf(t,h))(t.flags&131072)!==0&&(jt=!0);else return r.lanes=t.lanes,Pr(t,r,h)}return Hf(t,r,a,l,h)}function Ty(t,r,a){var l=r.pendingProps,h=l.children,d=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((r.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,t!==null){for(h=r.child=t.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;r.childLanes=d&~l}else r.childLanes=0,r.child=null;return wy(t,r,l,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&Hc(r,d!==null?d.cachePool:null),d!==null?xp(r,d):xf(),uy(r);else return r.lanes=r.childLanes=536870912,wy(t,r,d!==null?d.baseLanes|a:a,a)}else d!==null?(Hc(r,d.cachePool),xp(r,d),Ts(),r.memoizedState=null):(t!==null&&Hc(r,null),xf(),Ts());return Lt(t,r,h,a),r.child}function wy(t,r,a,l){var h=pf();return h=h===null?null:{parent:Rt._currentValue,pool:h},r.memoizedState={baseLanes:a,cachePool:h},t!==null&&Hc(r,null),xf(),uy(r),t!==null&&Wo(t,r,l,!0),null}function au(t,r){var a=r.ref;if(a===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(i(284));(t===null||t.ref!==a)&&(r.flags|=4194816)}}function Hf(t,r,a,l,h){return ji(r),a=Sf(t,r,a,l,void 0,h),l=Af(),t!==null&&!jt?(Rf(t,r,h),Pr(t,r,h)):(ze&&l&&lf(r),r.flags|=1,Lt(t,r,a,h),r.child)}function Sy(t,r,a,l,h,d){return ji(r),r.updateQueue=null,a=wp(r,l,a,h),Tp(t),l=Af(),t!==null&&!jt?(Rf(t,r,d),Pr(t,r,d)):(ze&&l&&lf(r),r.flags|=1,Lt(t,r,a,d),r.child)}function Ay(t,r,a,l,h){if(ji(r),r.stateNode===null){var d=xa,E=a.contextType;typeof E=="object"&&E!==null&&(d=Qt(E)),d=new a(l,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Bf,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=l,d.state=r.memoizedState,d.refs={},vf(r),E=a.contextType,d.context=typeof E=="object"&&E!==null?Qt(E):xa,d.state=r.memoizedState,E=a.getDerivedStateFromProps,typeof E=="function"&&(zf(r,a,E,l),d.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(E=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),E!==d.state&&Bf.enqueueReplaceState(d,d.state,null),il(r,l,d,h),sl(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(t===null){d=r.stateNode;var T=r.memoizedProps,N=Vi(a,T);d.props=N;var H=d.context,K=a.contextType;E=xa,typeof K=="object"&&K!==null&&(E=Qt(K));var J=a.getDerivedStateFromProps;K=typeof J=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=r.pendingProps!==T,K||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||H!==E)&&fy(r,d,l,E),vs=!1;var G=r.memoizedState;d.state=G,il(r,l,d,h),sl(),H=r.memoizedState,T||G!==H||vs?(typeof J=="function"&&(zf(r,a,J,l),H=r.memoizedState),(N=vs||hy(r,a,N,l,G,H,E))?(K||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=H),d.props=l,d.state=H,d.context=E,l=N):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{d=r.stateNode,_f(t,r),E=r.memoizedProps,K=Vi(a,E),d.props=K,J=r.pendingProps,G=d.context,H=a.contextType,N=xa,typeof H=="object"&&H!==null&&(N=Qt(H)),T=a.getDerivedStateFromProps,(H=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E!==J||G!==N)&&fy(r,d,l,N),vs=!1,G=r.memoizedState,d.state=G,il(r,l,d,h),sl();var Q=r.memoizedState;E!==J||G!==Q||vs||t!==null&&t.dependencies!==null&&Bc(t.dependencies)?(typeof T=="function"&&(zf(r,a,T,l),Q=r.memoizedState),(K=vs||hy(r,a,K,l,G,Q,N)||t!==null&&t.dependencies!==null&&Bc(t.dependencies))?(H||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Q,N),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Q,N)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||E===t.memoizedProps&&G===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&G===t.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=Q),d.props=l,d.state=Q,d.context=N,l=K):(typeof d.componentDidUpdate!="function"||E===t.memoizedProps&&G===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&G===t.memoizedState||(r.flags|=1024),l=!1)}return d=l,au(t,r),l=(r.flags&128)!==0,d||l?(d=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,t!==null&&l?(r.child=ja(r,t.child,null,h),r.child=ja(r,null,a,h)):Lt(t,r,a,h),r.memoizedState=d.state,t=r.child):t=Pr(t,r,h),t}function Ry(t,r,a,l){return Xo(),r.flags|=256,Lt(t,r,a,l),r.child}var Ff={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Gf(t){return{baseLanes:t,cachePool:mp()}}function Qf(t,r,a){return t=t!==null?t.childLanes&~a:0,r&&(t|=Rn),t}function Cy(t,r,a){var l=r.pendingProps,h=!1,d=(r.flags&128)!==0,E;if((E=d)||(E=t!==null&&t.memoizedState===null?!1:(Ct.current&2)!==0),E&&(h=!0,r.flags&=-129),E=(r.flags&32)!==0,r.flags&=-33,t===null){if(ze){if(h?xs(r):Ts(),ze){var T=ut,N;if(N=T){e:{for(N=T,T=lr;N.nodeType!==8;){if(!T){T=null;break e}if(N=Hn(N.nextSibling),N===null){T=null;break e}}T=N}T!==null?(r.memoizedState={dehydrated:T,treeContext:Ri!==null?{id:Dr,overflow:jr}:null,retryLane:536870912,hydrationErrors:null},N=hn(18,null,null,0),N.stateNode=T,N.return=r,r.child=N,nn=r,ut=null,N=!0):N=!1}N||Ii(r)}if(T=r.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return Nd(T)?r.lanes=32:r.lanes=536870912,null;kr(r)}return T=l.children,l=l.fallback,h?(Ts(),h=r.mode,T=ou({mode:"hidden",children:T},h),l=Ai(l,h,a,null),T.return=r,l.return=r,T.sibling=l,r.child=T,h=r.child,h.memoizedState=Gf(a),h.childLanes=Qf(t,E,a),r.memoizedState=Ff,l):(xs(r),Yf(r,T))}if(N=t.memoizedState,N!==null&&(T=N.dehydrated,T!==null)){if(d)r.flags&256?(xs(r),r.flags&=-257,r=$f(t,r,a)):r.memoizedState!==null?(Ts(),r.child=t.child,r.flags|=128,r=null):(Ts(),h=l.fallback,T=r.mode,l=ou({mode:"visible",children:l.children},T),h=Ai(h,T,a,null),h.flags|=2,l.return=r,h.return=r,l.sibling=h,r.child=l,ja(r,t.child,null,a),l=r.child,l.memoizedState=Gf(a),l.childLanes=Qf(t,E,a),r.memoizedState=Ff,r=h);else if(xs(r),Nd(T)){if(E=T.nextSibling&&T.nextSibling.dataset,E)var H=E.dgst;E=H,l=Error(i(419)),l.stack="",l.digest=E,Zo({value:l,source:null,stack:null}),r=$f(t,r,a)}else if(jt||Wo(t,r,a,!1),E=(a&t.childLanes)!==0,jt||E){if(E=et,E!==null&&(l=a&-a,l=(l&42)!==0?1:Io(l),l=(l&(E.suspendedLanes|a))!==0?0:l,l!==0&&l!==N.retryLane))throw N.retryLane=l,Ea(t,l),pn(E,t,l),_y;T.data==="$?"||fd(),r=$f(t,r,a)}else T.data==="$?"?(r.flags|=192,r.child=t.child,r=null):(t=N.treeContext,ut=Hn(T.nextSibling),nn=r,ze=!0,Ni=null,lr=!1,t!==null&&(wn[Sn++]=Dr,wn[Sn++]=jr,wn[Sn++]=Ri,Dr=t.id,jr=t.overflow,Ri=r),r=Yf(r,l.children),r.flags|=4096);return r}return h?(Ts(),h=l.fallback,T=r.mode,N=t.child,H=N.sibling,l=Ir(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&65011712,H!==null?h=Ir(H,h):(h=Ai(h,T,a,null),h.flags|=2),h.return=r,l.return=r,l.sibling=h,r.child=l,l=h,h=r.child,T=t.child.memoizedState,T===null?T=Gf(a):(N=T.cachePool,N!==null?(H=Rt._currentValue,N=N.parent!==H?{parent:H,pool:H}:N):N=mp(),T={baseLanes:T.baseLanes|a,cachePool:N}),h.memoizedState=T,h.childLanes=Qf(t,E,a),r.memoizedState=Ff,l):(xs(r),a=t.child,t=a.sibling,a=Ir(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,t!==null&&(E=r.deletions,E===null?(r.deletions=[t],r.flags|=16):E.push(t)),r.child=a,r.memoizedState=null,a)}function Yf(t,r){return r=ou({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function ou(t,r){return t=hn(22,t,null,r),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function $f(t,r,a){return ja(r,t.child,null,a),t=Yf(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function Ny(t,r,a){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r),ff(t.return,r,a)}function Kf(t,r,a,l,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=r,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function Iy(t,r,a){var l=r.pendingProps,h=l.revealOrder,d=l.tail;if(Lt(t,r,l.children,a),l=Ct.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ny(t,a,r);else if(t.tag===19)Ny(t,a,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(ie(Ct,l),h){case"forwards":for(a=r.child,h=null;a!==null;)t=a.alternate,t!==null&&ru(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=r.child,r.child=null):(h=a.sibling,a.sibling=null),Kf(r,!1,h,a,d);break;case"backwards":for(a=null,h=r.child,r.child=null;h!==null;){if(t=h.alternate,t!==null&&ru(t)===null){r.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}Kf(r,!0,a,null,d);break;case"together":Kf(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Pr(t,r,a){if(t!==null&&(r.dependencies=t.dependencies),Cs|=r.lanes,(a&r.childLanes)===0)if(t!==null){if(Wo(t,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(i(153));if(r.child!==null){for(t=r.child,a=Ir(t,t.pendingProps),r.child=a,a.return=r;t.sibling!==null;)t=t.sibling,a=a.sibling=Ir(t,t.pendingProps),a.return=r;a.sibling=null}return r.child}function Xf(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&Bc(t)))}function hx(t,r,a){switch(r.tag){case 3:Qe(r,r.stateNode.containerInfo),ys(r,Rt,t.memoizedState.cache),Xo();break;case 27:case 5:Ao(r);break;case 4:Qe(r,r.stateNode.containerInfo);break;case 10:ys(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(xs(r),r.flags|=128,null):(a&r.child.childLanes)!==0?Cy(t,r,a):(xs(r),t=Pr(t,r,a),t!==null?t.sibling:null);xs(r);break;case 19:var h=(t.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(Wo(t,r,a,!1),l=(a&r.childLanes)!==0),h){if(l)return Iy(t,r,a);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ie(Ct,Ct.current),l)break;return null;case 22:case 23:return r.lanes=0,Ty(t,r,a);case 24:ys(r,Rt,t.memoizedState.cache)}return Pr(t,r,a)}function Dy(t,r,a){if(t!==null)if(t.memoizedProps!==r.pendingProps)jt=!0;else{if(!Xf(t,a)&&(r.flags&128)===0)return jt=!1,hx(t,r,a);jt=(t.flags&131072)!==0}else jt=!1,ze&&(r.flags&1048576)!==0&&op(r,zc,r.index);switch(r.lanes=0,r.tag){case 16:e:{t=r.pendingProps;var l=r.elementType,h=l._init;if(l=h(l._payload),r.type=l,typeof l=="function")sf(l)?(t=Vi(l,t),r.tag=1,r=Ay(null,r,l,t,a)):(r.tag=0,r=Hf(null,r,l,t,a));else{if(l!=null){if(h=l.$$typeof,h===xe){r.tag=11,r=by(null,r,l,t,a);break e}else if(h===I){r.tag=14,r=Ey(null,r,l,t,a);break e}}throw r=Be(l)||l,Error(i(306,r,""))}}return r;case 0:return Hf(t,r,r.type,r.pendingProps,a);case 1:return l=r.type,h=Vi(l,r.pendingProps),Ay(t,r,l,h,a);case 3:e:{if(Qe(r,r.stateNode.containerInfo),t===null)throw Error(i(387));l=r.pendingProps;var d=r.memoizedState;h=d.element,_f(t,r),il(r,l,null,a);var E=r.memoizedState;if(l=E.cache,ys(r,Rt,l),l!==d.cache&&df(r,[Rt],a,!0),sl(),l=E.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:E.cache},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){r=Ry(t,r,l,a);break e}else if(l!==h){h=xn(Error(i(424)),r),Zo(h),r=Ry(t,r,l,a);break e}else{switch(t=r.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ut=Hn(t.firstChild),nn=r,ze=!0,Ni=null,lr=!0,a=cy(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Xo(),l===h){r=Pr(t,r,a);break e}Lt(t,r,l,a)}r=r.child}return r;case 26:return au(t,r),t===null?(a=V0(r.type,null,r.pendingProps,null))?r.memoizedState=a:ze||(a=r.type,t=r.pendingProps,l=Eu(be.current).createElement(a),l[dt]=r,l[Pt]=t,zt(l,a,t),mt(l),r.stateNode=l):r.memoizedState=V0(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return Ao(r),t===null&&ze&&(l=r.stateNode=j0(r.type,r.pendingProps,be.current),nn=r,lr=!0,h=ut,js(r.type)?(Id=h,ut=Hn(l.firstChild)):ut=h),Lt(t,r,r.pendingProps.children,a),au(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&ze&&((h=l=ut)&&(l=Ux(l,r.type,r.pendingProps,lr),l!==null?(r.stateNode=l,nn=r,ut=Hn(l.firstChild),lr=!1,h=!0):h=!1),h||Ii(r)),Ao(r),h=r.type,d=r.pendingProps,E=t!==null?t.memoizedProps:null,l=d.children,Ad(h,d)?l=null:E!==null&&Ad(h,E)&&(r.flags|=32),r.memoizedState!==null&&(h=Sf(t,r,rx,null,null,a),Rl._currentValue=h),au(t,r),Lt(t,r,l,a),r.child;case 6:return t===null&&ze&&((t=a=ut)&&(a=zx(a,r.pendingProps,lr),a!==null?(r.stateNode=a,nn=r,ut=null,t=!0):t=!1),t||Ii(r)),null;case 13:return Cy(t,r,a);case 4:return Qe(r,r.stateNode.containerInfo),l=r.pendingProps,t===null?r.child=ja(r,null,l,a):Lt(t,r,l,a),r.child;case 11:return by(t,r,r.type,r.pendingProps,a);case 7:return Lt(t,r,r.pendingProps,a),r.child;case 8:return Lt(t,r,r.pendingProps.children,a),r.child;case 12:return Lt(t,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,ys(r,r.type,l.value),Lt(t,r,l.children,a),r.child;case 9:return h=r.type._context,l=r.pendingProps.children,ji(r),h=Qt(h),l=l(h),r.flags|=1,Lt(t,r,l,a),r.child;case 14:return Ey(t,r,r.type,r.pendingProps,a);case 15:return xy(t,r,r.type,r.pendingProps,a);case 19:return Iy(t,r,a);case 31:return l=r.pendingProps,a=r.mode,l={mode:l.mode,children:l.children},t===null?(a=ou(l,a),a.ref=r.ref,r.child=a,a.return=r,r=a):(a=Ir(t.child,l),a.ref=r.ref,r.child=a,a.return=r,r=a),r;case 22:return Ty(t,r,a);case 24:return ji(r),l=Qt(Rt),t===null?(h=pf(),h===null&&(h=et,d=mf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),r.memoizedState={parent:l,cache:h},vf(r),ys(r,Rt,h)):((t.lanes&a)!==0&&(_f(t,r),il(r,null,null,a),sl()),h=t.memoizedState,d=r.memoizedState,h.parent!==l?(h={parent:l,cache:l},r.memoizedState=h,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=h),ys(r,Rt,l)):(l=d.cache,ys(r,Rt,l),l!==h.cache&&df(r,[Rt],a,!0))),Lt(t,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(i(156,r.tag))}function Lr(t){t.flags|=4}function jy(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!z0(r)){if(r=An.current,r!==null&&((ke&4194048)===ke?cr!==null:(ke&62914560)!==ke&&(ke&536870912)===0||r!==cr))throw nl=yf,gp;t.flags|=8192}}function lu(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?ss():536870912,t.lanes|=r,ka|=r)}function fl(t,r){if(!ze)switch(t.tailMode){case"hidden":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function lt(t){var r=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(r)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,r}function fx(t,r,a){var l=r.pendingProps;switch(cf(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lt(r),null;case 1:return lt(r),null;case 3:return a=r.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),Mr(Rt),On(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Ko(r)?Lr(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,up())),lt(r),null;case 26:return a=r.memoizedState,t===null?(Lr(r),a!==null?(lt(r),jy(r,a)):(lt(r),r.flags&=-16777217)):a?a!==t.memoizedState?(Lr(r),lt(r),jy(r,a)):(lt(r),r.flags&=-16777217):(t.memoizedProps!==l&&Lr(r),lt(r),r.flags&=-16777217),null;case 27:ta(r),a=be.current;var h=r.type;if(t!==null&&r.stateNode!=null)t.memoizedProps!==l&&Lr(r);else{if(!l){if(r.stateNode===null)throw Error(i(166));return lt(r),null}t=me.current,Ko(r)?lp(r):(t=j0(h,l,a),r.stateNode=t,Lr(r))}return lt(r),null;case 5:if(ta(r),a=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&Lr(r);else{if(!l){if(r.stateNode===null)throw Error(i(166));return lt(r),null}if(t=me.current,Ko(r))lp(r);else{switch(h=Eu(be.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}t[dt]=r,t[Pt]=l;e:for(h=r.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===r)break e;for(;h.sibling===null;){if(h.return===null||h.return===r)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}r.stateNode=t;e:switch(zt(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Lr(r)}}return lt(r),r.flags&=-16777217,null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==l&&Lr(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(i(166));if(t=be.current,Ko(r)){if(t=r.stateNode,a=r.memoizedProps,l=null,h=nn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[dt]=r,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||S0(t.nodeValue,a)),t||Ii(r)}else t=Eu(t).createTextNode(l),t[dt]=r,r.stateNode=t}return lt(r),null;case 13:if(l=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Ko(r),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(i(318));if(h=r.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(i(317));h[dt]=r}else Xo(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;lt(r),h=!1}else h=up(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return r.flags&256?(kr(r),r):(kr(r),null)}if(kr(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=r.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==t&&a&&(r.child.flags|=8192),lu(r,r.updateQueue),lt(r),null;case 4:return On(),t===null&&Ed(r.stateNode.containerInfo),lt(r),null;case 10:return Mr(r.type),lt(r),null;case 19:if(le(Ct),h=r.memoizedState,h===null)return lt(r),null;if(l=(r.flags&128)!==0,d=h.rendering,d===null)if(l)fl(h,!1);else{if(ht!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(d=ru(t),d!==null){for(r.flags|=128,fl(h,!1),t=d.updateQueue,r.updateQueue=t,lu(r,t),r.subtreeFlags=0,t=a,a=r.child;a!==null;)ap(a,t),a=a.sibling;return ie(Ct,Ct.current&1|2),r.child}t=t.sibling}h.tail!==null&&rn()>hu&&(r.flags|=128,l=!0,fl(h,!1),r.lanes=4194304)}else{if(!l)if(t=ru(d),t!==null){if(r.flags|=128,l=!0,t=t.updateQueue,r.updateQueue=t,lu(r,t),fl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!ze)return lt(r),null}else 2*rn()-h.renderingStartTime>hu&&a!==536870912&&(r.flags|=128,l=!0,fl(h,!1),r.lanes=4194304);h.isBackwards?(d.sibling=r.child,r.child=d):(t=h.last,t!==null?t.sibling=d:r.child=d,h.last=d)}return h.tail!==null?(r=h.tail,h.rendering=r,h.tail=r.sibling,h.renderingStartTime=rn(),r.sibling=null,t=Ct.current,ie(Ct,l?t&1|2:t&1),r):(lt(r),null);case 22:case 23:return kr(r),Tf(),l=r.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(lt(r),r.subtreeFlags&6&&(r.flags|=8192)):lt(r),a=r.updateQueue,a!==null&&lu(r,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),t!==null&&le(Oi),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),Mr(Rt),lt(r),null;case 25:return null;case 30:return null}throw Error(i(156,r.tag))}function dx(t,r){switch(cf(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return Mr(Rt),On(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return ta(r),null;case 13:if(kr(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(i(340));Xo()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return le(Ct),null;case 4:return On(),null;case 10:return Mr(r.type),null;case 22:case 23:return kr(r),Tf(),t!==null&&le(Oi),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return Mr(Rt),null;case 25:return null;default:return null}}function Oy(t,r){switch(cf(r),r.tag){case 3:Mr(Rt),On();break;case 26:case 27:case 5:ta(r);break;case 4:On();break;case 13:kr(r);break;case 19:le(Ct);break;case 10:Mr(r.type);break;case 22:case 23:kr(r),Tf(),t!==null&&le(Oi);break;case 24:Mr(Rt)}}function dl(t,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,E=a.inst;l=d(),E.destroy=l}a=a.next}while(a!==h)}}catch(T){Ze(r,r.return,T)}}function ws(t,r,a){try{var l=r.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var E=l.inst,T=E.destroy;if(T!==void 0){E.destroy=void 0,h=r;var N=a,H=T;try{H()}catch(K){Ze(h,N,K)}}}l=l.next}while(l!==d)}}catch(K){Ze(r,r.return,K)}}function My(t){var r=t.updateQueue;if(r!==null){var a=t.stateNode;try{Ep(r,a)}catch(l){Ze(t,t.return,l)}}}function Vy(t,r,a){a.props=Vi(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Ze(t,r,l)}}function ml(t,r){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){Ze(t,r,h)}}function ur(t,r){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Ze(t,r,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Ze(t,r,h)}else a.current=null}function ky(t){var r=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Ze(t,t.return,h)}}function Zf(t,r,a){try{var l=t.stateNode;Mx(l,t.type,a,r),l[Pt]=r}catch(h){Ze(t,t.return,h)}}function Py(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&js(t.type)||t.tag===4}function Wf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Py(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&js(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Jf(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(t),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=bu));else if(l!==4&&(l===27&&js(t.type)&&(a=t.stateNode,r=null),t=t.child,t!==null))for(Jf(t,r,a),t=t.sibling;t!==null;)Jf(t,r,a),t=t.sibling}function cu(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?a.insertBefore(t,r):a.appendChild(t);else if(l!==4&&(l===27&&js(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(cu(t,r,a),t=t.sibling;t!==null;)cu(t,r,a),t=t.sibling}function Ly(t){var r=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=r.attributes;h.length;)r.removeAttributeNode(h[0]);zt(r,l,a),r[dt]=t,r[Pt]=a}catch(d){Ze(t,t.return,d)}}var Ur=!1,yt=!1,ed=!1,Uy=typeof WeakSet=="function"?WeakSet:Set,Ot=null;function mx(t,r){if(t=t.containerInfo,wd=Ru,t=Xg(t),Zh(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var E=0,T=-1,N=-1,H=0,K=0,J=t,G=null;t:for(;;){for(var Q;J!==a||h!==0&&J.nodeType!==3||(T=E+h),J!==d||l!==0&&J.nodeType!==3||(N=E+l),J.nodeType===3&&(E+=J.nodeValue.length),(Q=J.firstChild)!==null;)G=J,J=Q;for(;;){if(J===t)break t;if(G===a&&++H===h&&(T=E),G===d&&++K===l&&(N=E),(Q=J.nextSibling)!==null)break;J=G,G=J.parentNode}J=Q}a=T===-1||N===-1?null:{start:T,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(Sd={focusedElem:t,selectionRange:a},Ru=!1,Ot=r;Ot!==null;)if(r=Ot,t=r.child,(r.subtreeFlags&1024)!==0&&t!==null)t.return=r,Ot=t;else for(;Ot!==null;){switch(r=Ot,d=r.alternate,t=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=r,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var Ee=Vi(a.type,h,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(Ee,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(ye){Ze(a,a.return,ye)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,a=t.nodeType,a===9)Cd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Cd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(i(163))}if(t=r.sibling,t!==null){t.return=r.return,Ot=t;break}Ot=r.return}}function zy(t,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Ss(t,a),l&4&&dl(5,a);break;case 1:if(Ss(t,a),l&4)if(t=a.stateNode,r===null)try{t.componentDidMount()}catch(E){Ze(a,a.return,E)}else{var h=Vi(a.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(h,r,t.__reactInternalSnapshotBeforeUpdate)}catch(E){Ze(a,a.return,E)}}l&64&&My(a),l&512&&ml(a,a.return);break;case 3:if(Ss(t,a),l&64&&(t=a.updateQueue,t!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{Ep(t,r)}catch(E){Ze(a,a.return,E)}}break;case 27:r===null&&l&4&&Ly(a);case 26:case 5:Ss(t,a),r===null&&l&4&&ky(a),l&512&&ml(a,a.return);break;case 12:Ss(t,a);break;case 13:Ss(t,a),l&4&&Hy(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=Tx.bind(null,a),Bx(t,a))));break;case 22:if(l=a.memoizedState!==null||Ur,!l){r=r!==null&&r.memoizedState!==null||yt,h=Ur;var d=yt;Ur=l,(yt=r)&&!d?As(t,a,(a.subtreeFlags&8772)!==0):Ss(t,a),Ur=h,yt=d}break;case 30:break;default:Ss(t,a)}}function By(t){var r=t.alternate;r!==null&&(t.alternate=null,By(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&aa(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var it=null,an=!1;function zr(t,r,a){for(a=a.child;a!==null;)qy(t,r,a),a=a.sibling}function qy(t,r,a){if(Ft&&typeof Ft.onCommitFiberUnmount=="function")try{Ft.onCommitFiberUnmount(ts,a)}catch{}switch(a.tag){case 26:yt||ur(a,r),zr(t,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:yt||ur(a,r);var l=it,h=an;js(a.type)&&(it=a.stateNode,an=!1),zr(t,r,a),Tl(a.stateNode),it=l,an=h;break;case 5:yt||ur(a,r);case 6:if(l=it,h=an,it=null,zr(t,r,a),it=l,an=h,it!==null)if(an)try{(it.nodeType===9?it.body:it.nodeName==="HTML"?it.ownerDocument.body:it).removeChild(a.stateNode)}catch(d){Ze(a,r,d)}else try{it.removeChild(a.stateNode)}catch(d){Ze(a,r,d)}break;case 18:it!==null&&(an?(t=it,I0(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Dl(t)):I0(it,a.stateNode));break;case 4:l=it,h=an,it=a.stateNode.containerInfo,an=!0,zr(t,r,a),it=l,an=h;break;case 0:case 11:case 14:case 15:yt||ws(2,a,r),yt||ws(4,a,r),zr(t,r,a);break;case 1:yt||(ur(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Vy(a,r,l)),zr(t,r,a);break;case 21:zr(t,r,a);break;case 22:yt=(l=yt)||a.memoizedState!==null,zr(t,r,a),yt=l;break;default:zr(t,r,a)}}function Hy(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Dl(t)}catch(a){Ze(r,r.return,a)}}function gx(t){switch(t.tag){case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new Uy),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new Uy),r;default:throw Error(i(435,t.tag))}}function td(t,r){var a=gx(t);r.forEach(function(l){var h=wx.bind(null,t,l);a.has(l)||(a.add(l),l.then(h,h))})}function fn(t,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,E=r,T=E;e:for(;T!==null;){switch(T.tag){case 27:if(js(T.type)){it=T.stateNode,an=!1;break e}break;case 5:it=T.stateNode,an=!1;break e;case 3:case 4:it=T.stateNode.containerInfo,an=!0;break e}T=T.return}if(it===null)throw Error(i(160));qy(d,E,h),it=null,an=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)Fy(r,t),r=r.sibling}var qn=null;function Fy(t,r){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:fn(r,t),dn(t),l&4&&(ws(3,t,t.return),dl(3,t),ws(5,t,t.return));break;case 1:fn(r,t),dn(t),l&512&&(yt||a===null||ur(a,a.return)),l&64&&Ur&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=qn;if(fn(r,t),dn(t),l&512&&(yt||a===null||ur(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[os]||d[dt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),zt(d,l,a),d[dt]=t,mt(d),l=d;break e;case"link":var E=L0("link","href",h).get(l+(a.href||""));if(E){for(var T=0;T<E.length;T++)if(d=E[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){E.splice(T,1);break t}}d=h.createElement(l),zt(d,l,a),h.head.appendChild(d);break;case"meta":if(E=L0("meta","content",h).get(l+(a.content||""))){for(T=0;T<E.length;T++)if(d=E[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){E.splice(T,1);break t}}d=h.createElement(l),zt(d,l,a),h.head.appendChild(d);break;default:throw Error(i(468,l))}d[dt]=t,mt(d),l=d}t.stateNode=l}else U0(h,t.type,t.stateNode);else t.stateNode=P0(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?U0(h,t.type,t.stateNode):P0(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Zf(t,t.memoizedProps,a.memoizedProps)}break;case 27:fn(r,t),dn(t),l&512&&(yt||a===null||ur(a,a.return)),a!==null&&l&4&&Zf(t,t.memoizedProps,a.memoizedProps);break;case 5:if(fn(r,t),dn(t),l&512&&(yt||a===null||ur(a,a.return)),t.flags&32){h=t.stateNode;try{bn(h,"")}catch(Q){Ze(t,t.return,Q)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Zf(t,h,a!==null?a.memoizedProps:h)),l&1024&&(ed=!0);break;case 6:if(fn(r,t),dn(t),l&4){if(t.stateNode===null)throw Error(i(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(Q){Ze(t,t.return,Q)}}break;case 3:if(wu=null,h=qn,qn=xu(r.containerInfo),fn(r,t),qn=h,dn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Dl(r.containerInfo)}catch(Q){Ze(t,t.return,Q)}ed&&(ed=!1,Gy(t));break;case 4:l=qn,qn=xu(t.stateNode.containerInfo),fn(r,t),dn(t),qn=l;break;case 12:fn(r,t),dn(t);break;case 13:fn(r,t),dn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(od=rn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,td(t,l)));break;case 22:h=t.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,H=Ur,K=yt;if(Ur=H||h,yt=K||N,fn(r,t),yt=K,Ur=H,dn(t),l&8192)e:for(r=t.stateNode,r._visibility=h?r._visibility&-2:r._visibility|1,h&&(a===null||N||Ur||yt||ki(t)),a=null,r=t;;){if(r.tag===5||r.tag===26){if(a===null){N=a=r;try{if(d=N.stateNode,h)E=d.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{T=N.stateNode;var J=N.memoizedProps.style,G=J!=null&&J.hasOwnProperty("display")?J.display:null;T.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(Q){Ze(N,N.return,Q)}}}else if(r.tag===6){if(a===null){N=r;try{N.stateNode.nodeValue=h?"":N.memoizedProps}catch(Q){Ze(N,N.return,Q)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,td(t,a))));break;case 19:fn(r,t),dn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,td(t,l)));break;case 30:break;case 21:break;default:fn(r,t),dn(t)}}function dn(t){var r=t.flags;if(r&2){try{for(var a,l=t.return;l!==null;){if(Py(l)){a=l;break}l=l.return}if(a==null)throw Error(i(160));switch(a.tag){case 27:var h=a.stateNode,d=Wf(t);cu(t,d,h);break;case 5:var E=a.stateNode;a.flags&32&&(bn(E,""),a.flags&=-33);var T=Wf(t);cu(t,T,E);break;case 3:case 4:var N=a.stateNode.containerInfo,H=Wf(t);Jf(t,H,N);break;default:throw Error(i(161))}}catch(K){Ze(t,t.return,K)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function Gy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;Gy(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function Ss(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)zy(t,r.alternate,r),r=r.sibling}function ki(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:ws(4,r,r.return),ki(r);break;case 1:ur(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&Vy(r,r.return,a),ki(r);break;case 27:Tl(r.stateNode);case 26:case 5:ur(r,r.return),ki(r);break;case 22:r.memoizedState===null&&ki(r);break;case 30:ki(r);break;default:ki(r)}t=t.sibling}}function As(t,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,h=t,d=r,E=d.flags;switch(d.tag){case 0:case 11:case 15:As(h,d,a),dl(4,d);break;case 1:if(As(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(H){Ze(l,l.return,H)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var N=h.shared.hiddenCallbacks;if(N!==null)for(h.shared.hiddenCallbacks=null,h=0;h<N.length;h++)bp(N[h],T)}catch(H){Ze(l,l.return,H)}}a&&E&64&&My(d),ml(d,d.return);break;case 27:Ly(d);case 26:case 5:As(h,d,a),a&&l===null&&E&4&&ky(d),ml(d,d.return);break;case 12:As(h,d,a);break;case 13:As(h,d,a),a&&E&4&&Hy(h,d);break;case 22:d.memoizedState===null&&As(h,d,a),ml(d,d.return);break;case 30:break;default:As(h,d,a)}r=r.sibling}}function nd(t,r){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Jo(a))}function rd(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&Jo(t))}function hr(t,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Qy(t,r,a,l),r=r.sibling}function Qy(t,r,a,l){var h=r.flags;switch(r.tag){case 0:case 11:case 15:hr(t,r,a,l),h&2048&&dl(9,r);break;case 1:hr(t,r,a,l);break;case 3:hr(t,r,a,l),h&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&Jo(t)));break;case 12:if(h&2048){hr(t,r,a,l),t=r.stateNode;try{var d=r.memoizedProps,E=d.id,T=d.onPostCommit;typeof T=="function"&&T(E,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(N){Ze(r,r.return,N)}}else hr(t,r,a,l);break;case 13:hr(t,r,a,l);break;case 23:break;case 22:d=r.stateNode,E=r.alternate,r.memoizedState!==null?d._visibility&2?hr(t,r,a,l):gl(t,r):d._visibility&2?hr(t,r,a,l):(d._visibility|=2,Oa(t,r,a,l,(r.subtreeFlags&10256)!==0)),h&2048&&nd(E,r);break;case 24:hr(t,r,a,l),h&2048&&rd(r.alternate,r);break;default:hr(t,r,a,l)}}function Oa(t,r,a,l,h){for(h=h&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var d=t,E=r,T=a,N=l,H=E.flags;switch(E.tag){case 0:case 11:case 15:Oa(d,E,T,N,h),dl(8,E);break;case 23:break;case 22:var K=E.stateNode;E.memoizedState!==null?K._visibility&2?Oa(d,E,T,N,h):gl(d,E):(K._visibility|=2,Oa(d,E,T,N,h)),h&&H&2048&&nd(E.alternate,E);break;case 24:Oa(d,E,T,N,h),h&&H&2048&&rd(E.alternate,E);break;default:Oa(d,E,T,N,h)}r=r.sibling}}function gl(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=t,l=r,h=l.flags;switch(l.tag){case 22:gl(a,l),h&2048&&nd(l.alternate,l);break;case 24:gl(a,l),h&2048&&rd(l.alternate,l);break;default:gl(a,l)}r=r.sibling}}var pl=8192;function Ma(t){if(t.subtreeFlags&pl)for(t=t.child;t!==null;)Yy(t),t=t.sibling}function Yy(t){switch(t.tag){case 26:Ma(t),t.flags&pl&&t.memoizedState!==null&&e2(qn,t.memoizedState,t.memoizedProps);break;case 5:Ma(t);break;case 3:case 4:var r=qn;qn=xu(t.stateNode.containerInfo),Ma(t),qn=r;break;case 22:t.memoizedState===null&&(r=t.alternate,r!==null&&r.memoizedState!==null?(r=pl,pl=16777216,Ma(t),pl=r):Ma(t));break;default:Ma(t)}}function $y(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function yl(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Ot=l,Xy(l,t)}$y(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Ky(t),t=t.sibling}function Ky(t){switch(t.tag){case 0:case 11:case 15:yl(t),t.flags&2048&&ws(9,t,t.return);break;case 3:yl(t);break;case 12:yl(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,uu(t)):yl(t);break;default:yl(t)}}function uu(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Ot=l,Xy(l,t)}$y(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:ws(8,r,r.return),uu(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,uu(r));break;default:uu(r)}t=t.sibling}}function Xy(t,r){for(;Ot!==null;){var a=Ot;switch(a.tag){case 0:case 11:case 15:ws(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Jo(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ot=l;else e:for(a=t;Ot!==null;){l=Ot;var h=l.sibling,d=l.return;if(By(l),l===a){Ot=null;break e}if(h!==null){h.return=d,Ot=h;break e}Ot=d}}}var px={getCacheForType:function(t){var r=Qt(Rt),a=r.data.get(t);return a===void 0&&(a=t(),r.data.set(t,a)),a}},yx=typeof WeakMap=="function"?WeakMap:Map,Fe=0,et=null,Ie=null,ke=0,Ge=0,mn=null,Rs=!1,Va=!1,sd=!1,Br=0,ht=0,Cs=0,Pi=0,id=0,Rn=0,ka=0,vl=null,on=null,ad=!1,od=0,hu=1/0,fu=null,Ns=null,Ut=0,Is=null,Pa=null,La=0,ld=0,cd=null,Zy=null,_l=0,ud=null;function gn(){if((Fe&2)!==0&&ke!==0)return ke&-ke;if($.T!==null){var t=Sa;return t!==0?t:yd()}return Tr()}function Wy(){Rn===0&&(Rn=(ke&536870912)===0||ze?No():536870912);var t=An.current;return t!==null&&(t.flags|=32),Rn}function pn(t,r,a){(t===et&&(Ge===2||Ge===9)||t.cancelPendingCommit!==null)&&(Ua(t,0),Ds(t,ke,Rn,!1)),ft(t,a),((Fe&2)===0||t!==et)&&(t===et&&((Fe&2)===0&&(Pi|=a),ht===4&&Ds(t,ke,Rn,!1)),fr(t))}function Jy(t,r,a){if((Fe&6)!==0)throw Error(i(327));var l=!a&&(r&124)===0&&(r&t.expiredLanes)===0||rs(t,r),h=l?bx(t,r):dd(t,r,!0),d=l;do{if(h===0){Va&&!l&&Ds(t,r,0,!1);break}else{if(a=t.current.alternate,d&&!vx(a)){h=dd(t,r,!1),d=!1;continue}if(h===2){if(d=r,t.errorRecoveryDisabledLanes&d)var E=0;else E=t.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){r=E;e:{var T=t;h=vl;var N=T.current.memoizedState.isDehydrated;if(N&&(Ua(T,E).flags|=256),E=dd(T,E,!1),E!==2){if(sd&&!N){T.errorRecoveryDisabledLanes|=d,Pi|=d,h=4;break e}d=on,on=h,d!==null&&(on===null?on=d:on.push.apply(on,d))}h=E}if(d=!1,h!==2)continue}}if(h===1){Ua(t,0),Ds(t,r,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(i(345));case 4:if((r&4194048)!==r)break;case 6:Ds(l,r,Rn,!Rs);break e;case 2:on=null;break;case 3:case 5:break;default:throw Error(i(329))}if((r&62914560)===r&&(h=od+300-rn(),10<h)){if(Ds(l,r,Rn,!Rs),vn(l,0,!0)!==0)break e;l.timeoutHandle=C0(e0.bind(null,l,a,on,fu,ad,r,Rn,Pi,ka,Rs,d,2,-0,0),h);break e}e0(l,a,on,fu,ad,r,Rn,Pi,ka,Rs,d,0,-0,0)}}break}while(!0);fr(t)}function e0(t,r,a,l,h,d,E,T,N,H,K,J,G,Q){if(t.timeoutHandle=-1,J=r.subtreeFlags,(J&8192||(J&16785408)===16785408)&&(Al={stylesheets:null,count:0,unsuspend:Jx},Yy(r),J=t2(),J!==null)){t.cancelPendingCommit=J(o0.bind(null,t,r,d,a,l,h,E,T,N,K,1,G,Q)),Ds(t,d,E,!H);return}o0(t,r,d,a,l,h,E,T,N)}function vx(t){for(var r=t;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!un(d(),h))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Ds(t,r,a,l){r&=~id,r&=~Pi,t.suspendedLanes|=r,t.pingedLanes&=~r,l&&(t.warmLanes|=r),l=t.expirationTimes;for(var h=r;0<h;){var d=31-Wt(h),E=1<<d;l[d]=-1,h&=~E}a!==0&&is(t,a,r)}function du(){return(Fe&6)===0?(bl(0),!1):!0}function hd(){if(Ie!==null){if(Ge===0)var t=Ie.return;else t=Ie,Or=Di=null,Cf(t),Da=null,ul=0,t=Ie;for(;t!==null;)Oy(t.alternate,t),t=t.return;Ie=null}}function Ua(t,r){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,kx(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),hd(),et=t,Ie=a=Ir(t.current,null),ke=r,Ge=0,mn=null,Rs=!1,Va=rs(t,r),sd=!1,ka=Rn=id=Pi=Cs=ht=0,on=vl=null,ad=!1,(r&8)!==0&&(r|=r&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=r;0<l;){var h=31-Wt(l),d=1<<h;r|=t[h],l&=~d}return Br=r,Vc(),a}function t0(t,r){Ce=null,$.H=eu,r===tl||r===Fc?(r=vp(),Ge=3):r===gp?(r=vp(),Ge=4):Ge=r===_y?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,mn=r,Ie===null&&(ht=1,iu(t,xn(r,t.current)))}function n0(){var t=$.H;return $.H=eu,t===null?eu:t}function r0(){var t=$.A;return $.A=px,t}function fd(){ht=4,Rs||(ke&4194048)!==ke&&An.current!==null||(Va=!0),(Cs&134217727)===0&&(Pi&134217727)===0||et===null||Ds(et,ke,Rn,!1)}function dd(t,r,a){var l=Fe;Fe|=2;var h=n0(),d=r0();(et!==t||ke!==r)&&(fu=null,Ua(t,r)),r=!1;var E=ht;e:do try{if(Ge!==0&&Ie!==null){var T=Ie,N=mn;switch(Ge){case 8:hd(),E=6;break e;case 3:case 2:case 9:case 6:An.current===null&&(r=!0);var H=Ge;if(Ge=0,mn=null,za(t,T,N,H),a&&Va){E=0;break e}break;default:H=Ge,Ge=0,mn=null,za(t,T,N,H)}}_x(),E=ht;break}catch(K){t0(t,K)}while(!0);return r&&t.shellSuspendCounter++,Or=Di=null,Fe=l,$.H=h,$.A=d,Ie===null&&(et=null,ke=0,Vc()),E}function _x(){for(;Ie!==null;)s0(Ie)}function bx(t,r){var a=Fe;Fe|=2;var l=n0(),h=r0();et!==t||ke!==r?(fu=null,hu=rn()+500,Ua(t,r)):Va=rs(t,r);e:do try{if(Ge!==0&&Ie!==null){r=Ie;var d=mn;t:switch(Ge){case 1:Ge=0,mn=null,za(t,r,d,1);break;case 2:case 9:if(pp(d)){Ge=0,mn=null,i0(r);break}r=function(){Ge!==2&&Ge!==9||et!==t||(Ge=7),fr(t)},d.then(r,r);break e;case 3:Ge=7;break e;case 4:Ge=5;break e;case 7:pp(d)?(Ge=0,mn=null,i0(r)):(Ge=0,mn=null,za(t,r,d,7));break;case 5:var E=null;switch(Ie.tag){case 26:E=Ie.memoizedState;case 5:case 27:var T=Ie;if(!E||z0(E)){Ge=0,mn=null;var N=T.sibling;if(N!==null)Ie=N;else{var H=T.return;H!==null?(Ie=H,mu(H)):Ie=null}break t}}Ge=0,mn=null,za(t,r,d,5);break;case 6:Ge=0,mn=null,za(t,r,d,6);break;case 8:hd(),ht=6;break e;default:throw Error(i(462))}}Ex();break}catch(K){t0(t,K)}while(!0);return Or=Di=null,$.H=l,$.A=h,Fe=a,Ie!==null?0:(et=null,ke=0,Vc(),ht)}function Ex(){for(;Ie!==null&&!zh();)s0(Ie)}function s0(t){var r=Dy(t.alternate,t,Br);t.memoizedProps=t.pendingProps,r===null?mu(t):Ie=r}function i0(t){var r=t,a=r.alternate;switch(r.tag){case 15:case 0:r=Sy(a,r,r.pendingProps,r.type,void 0,ke);break;case 11:r=Sy(a,r,r.pendingProps,r.type.render,r.ref,ke);break;case 5:Cf(r);default:Oy(a,r),r=Ie=ap(r,Br),r=Dy(a,r,Br)}t.memoizedProps=t.pendingProps,r===null?mu(t):Ie=r}function za(t,r,a,l){Or=Di=null,Cf(r),Da=null,ul=0;var h=r.return;try{if(ux(t,h,r,a,ke)){ht=1,iu(t,xn(a,t.current)),Ie=null;return}}catch(d){if(h!==null)throw Ie=h,d;ht=1,iu(t,xn(a,t.current)),Ie=null;return}r.flags&32768?(ze||l===1?t=!0:Va||(ke&536870912)!==0?t=!1:(Rs=t=!0,(l===2||l===9||l===3||l===6)&&(l=An.current,l!==null&&l.tag===13&&(l.flags|=16384))),a0(r,t)):mu(r)}function mu(t){var r=t;do{if((r.flags&32768)!==0){a0(r,Rs);return}t=r.return;var a=fx(r.alternate,r,Br);if(a!==null){Ie=a;return}if(r=r.sibling,r!==null){Ie=r;return}Ie=r=t}while(r!==null);ht===0&&(ht=5)}function a0(t,r){do{var a=dx(t.alternate,t);if(a!==null){a.flags&=32767,Ie=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(t=t.sibling,t!==null)){Ie=t;return}Ie=t=a}while(t!==null);ht=6,Ie=null}function o0(t,r,a,l,h,d,E,T,N){t.cancelPendingCommit=null;do gu();while(Ut!==0);if((Fe&6)!==0)throw Error(i(327));if(r!==null){if(r===t.current)throw Error(i(177));if(d=r.lanes|r.childLanes,d|=nf,vc(t,a,d,E,T,N),t===et&&(Ie=et=null,ke=0),Pa=r,Is=t,La=a,ld=d,cd=h,Zy=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Sx(xr,function(){return f0(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=$.T,$.T=null,h=ae.p,ae.p=2,E=Fe,Fe|=4;try{mx(t,r,a)}finally{Fe=E,ae.p=h,$.T=l}}Ut=1,l0(),c0(),u0()}}function l0(){if(Ut===1){Ut=0;var t=Is,r=Pa,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=$.T,$.T=null;var l=ae.p;ae.p=2;var h=Fe;Fe|=4;try{Fy(r,t);var d=Sd,E=Xg(t.containerInfo),T=d.focusedElem,N=d.selectionRange;if(E!==T&&T&&T.ownerDocument&&Kg(T.ownerDocument.documentElement,T)){if(N!==null&&Zh(T)){var H=N.start,K=N.end;if(K===void 0&&(K=H),"selectionStart"in T)T.selectionStart=H,T.selectionEnd=Math.min(K,T.value.length);else{var J=T.ownerDocument||document,G=J&&J.defaultView||window;if(G.getSelection){var Q=G.getSelection(),Ee=T.textContent.length,ye=Math.min(N.start,Ee),Xe=N.end===void 0?ye:Math.min(N.end,Ee);!Q.extend&&ye>Xe&&(E=Xe,Xe=ye,ye=E);var L=$g(T,ye),M=$g(T,Xe);if(L&&M&&(Q.rangeCount!==1||Q.anchorNode!==L.node||Q.anchorOffset!==L.offset||Q.focusNode!==M.node||Q.focusOffset!==M.offset)){var z=J.createRange();z.setStart(L.node,L.offset),Q.removeAllRanges(),ye>Xe?(Q.addRange(z),Q.extend(M.node,M.offset)):(z.setEnd(M.node,M.offset),Q.addRange(z))}}}}for(J=[],Q=T;Q=Q.parentNode;)Q.nodeType===1&&J.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<J.length;T++){var Z=J[T];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}Ru=!!wd,Sd=wd=null}finally{Fe=h,ae.p=l,$.T=a}}t.current=r,Ut=2}}function c0(){if(Ut===2){Ut=0;var t=Is,r=Pa,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=$.T,$.T=null;var l=ae.p;ae.p=2;var h=Fe;Fe|=4;try{zy(t,r.alternate,r)}finally{Fe=h,ae.p=l,$.T=a}}Ut=3}}function u0(){if(Ut===4||Ut===3){Ut=0,Ro();var t=Is,r=Pa,a=La,l=Zy;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Ut=5:(Ut=0,Pa=Is=null,h0(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Ns=null),Do(a),r=r.stateNode,Ft&&typeof Ft.onCommitFiberRoot=="function")try{Ft.onCommitFiberRoot(ts,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=$.T,h=ae.p,ae.p=2,$.T=null;try{for(var d=t.onRecoverableError,E=0;E<l.length;E++){var T=l[E];d(T.value,{componentStack:T.stack})}}finally{$.T=r,ae.p=h}}(La&3)!==0&&gu(),fr(t),h=t.pendingLanes,(a&4194090)!==0&&(h&42)!==0?t===ud?_l++:(_l=0,ud=t):_l=0,bl(0)}}function h0(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,Jo(r)))}function gu(t){return l0(),c0(),u0(),f0()}function f0(){if(Ut!==5)return!1;var t=Is,r=ld;ld=0;var a=Do(La),l=$.T,h=ae.p;try{ae.p=32>a?32:a,$.T=null,a=cd,cd=null;var d=Is,E=La;if(Ut=0,Pa=Is=null,La=0,(Fe&6)!==0)throw Error(i(331));var T=Fe;if(Fe|=4,Ky(d.current),Qy(d,d.current,E,a),Fe=T,bl(0,!1),Ft&&typeof Ft.onPostCommitFiberRoot=="function")try{Ft.onPostCommitFiberRoot(ts,d)}catch{}return!0}finally{ae.p=h,$.T=l,h0(t,r)}}function d0(t,r,a){r=xn(a,r),r=qf(t.stateNode,r,2),t=bs(t,r,2),t!==null&&(ft(t,2),fr(t))}function Ze(t,r,a){if(t.tag===3)d0(t,t,a);else for(;r!==null;){if(r.tag===3){d0(r,t,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ns===null||!Ns.has(l))){t=xn(a,t),a=yy(2),l=bs(r,a,2),l!==null&&(vy(a,l,r,t),ft(l,2),fr(l));break}}r=r.return}}function md(t,r,a){var l=t.pingCache;if(l===null){l=t.pingCache=new yx;var h=new Set;l.set(r,h)}else h=l.get(r),h===void 0&&(h=new Set,l.set(r,h));h.has(a)||(sd=!0,h.add(a),t=xx.bind(null,t,r,a),r.then(t,t))}function xx(t,r,a){var l=t.pingCache;l!==null&&l.delete(r),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,et===t&&(ke&a)===a&&(ht===4||ht===3&&(ke&62914560)===ke&&300>rn()-od?(Fe&2)===0&&Ua(t,0):id|=a,ka===ke&&(ka=0)),fr(t)}function m0(t,r){r===0&&(r=ss()),t=Ea(t,r),t!==null&&(ft(t,r),fr(t))}function Tx(t){var r=t.memoizedState,a=0;r!==null&&(a=r.retryLane),m0(t,a)}function wx(t,r){var a=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(i(314))}l!==null&&l.delete(r),m0(t,a)}function Sx(t,r){return ni(t,r)}var pu=null,Ba=null,gd=!1,yu=!1,pd=!1,Li=0;function fr(t){t!==Ba&&t.next===null&&(Ba===null?pu=Ba=t:Ba=Ba.next=t),yu=!0,gd||(gd=!0,Rx())}function bl(t,r){if(!pd&&yu){pd=!0;do for(var a=!1,l=pu;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var E=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-Wt(42|t)+1)-1,d&=h&~(E&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,v0(l,d))}else d=ke,d=vn(l,l===et?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||rs(l,d)||(a=!0,v0(l,d));l=l.next}while(a);pd=!1}}function Ax(){g0()}function g0(){yu=gd=!1;var t=0;Li!==0&&(Vx()&&(t=Li),Li=0);for(var r=rn(),a=null,l=pu;l!==null;){var h=l.next,d=p0(l,r);d===0?(l.next=null,a===null?pu=h:a.next=h,h===null&&(Ba=a)):(a=l,(t!==0||(d&3)!==0)&&(yu=!0)),l=h}bl(t)}function p0(t,r){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var E=31-Wt(d),T=1<<E,N=h[E];N===-1?((T&a)===0||(T&l)!==0)&&(h[E]=sa(T,r)):N<=r&&(t.expiredLanes|=T),d&=~T}if(r=et,a=ke,a=vn(t,t===r?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===r&&(Ge===2||Ge===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&ra(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||rs(t,a)){if(r=a&-a,r===t.callbackPriority)return r;switch(l!==null&&ra(l),Do(a)){case 2:case 8:a=It;break;case 32:a=xr;break;case 268435456:a=Co;break;default:a=xr}return l=y0.bind(null,t),a=ni(a,l),t.callbackPriority=r,t.callbackNode=a,r}return l!==null&&l!==null&&ra(l),t.callbackPriority=2,t.callbackNode=null,2}function y0(t,r){if(Ut!==0&&Ut!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(gu()&&t.callbackNode!==a)return null;var l=ke;return l=vn(t,t===et?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Jy(t,l,r),p0(t,rn()),t.callbackNode!=null&&t.callbackNode===a?y0.bind(null,t):null)}function v0(t,r){if(gu())return null;Jy(t,r,!0)}function Rx(){Px(function(){(Fe&6)!==0?ni(St,Ax):g0()})}function yd(){return Li===0&&(Li=No()),Li}function _0(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Pn(""+t)}function b0(t,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,t.id&&a.setAttribute("form",t.id),r.parentNode.insertBefore(a,r),t=new FormData(t),a.parentNode.removeChild(a),t}function Cx(t,r,a,l,h){if(r==="submit"&&a&&a.stateNode===h){var d=_0((h[Pt]||null).action),E=l.submitter;E&&(r=(r=E[Pt]||null)?_0(r.formAction):E.getAttribute("formAction"),r!==null&&(d=r,E=null));var T=new yi("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Li!==0){var N=E?b0(h,E):new FormData(h);Pf(a,{pending:!0,data:N,method:h.method,action:d},null,N)}}else typeof d=="function"&&(T.preventDefault(),N=E?b0(h,E):new FormData(h),Pf(a,{pending:!0,data:N,method:h.method,action:d},d,N))},currentTarget:h}]})}}for(var vd=0;vd<tf.length;vd++){var _d=tf[vd],Nx=_d.toLowerCase(),Ix=_d[0].toUpperCase()+_d.slice(1);Bn(Nx,"on"+Ix)}Bn(Jg,"onAnimationEnd"),Bn(ep,"onAnimationIteration"),Bn(tp,"onAnimationStart"),Bn("dblclick","onDoubleClick"),Bn("focusin","onFocus"),Bn("focusout","onBlur"),Bn(YE,"onTransitionRun"),Bn($E,"onTransitionStart"),Bn(KE,"onTransitionCancel"),Bn(np,"onTransitionEnd"),sr("onMouseEnter",["mouseout","mouseover"]),sr("onMouseLeave",["mouseout","mouseover"]),sr("onPointerEnter",["pointerout","pointerover"]),sr("onPointerLeave",["pointerout","pointerover"]),rr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),rr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),rr("onBeforeInput",["compositionend","keypress","textInput","paste"]),rr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),rr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),rr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var El="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Dx=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(El));function E0(t,r){r=(r&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(r)for(var E=l.length-1;0<=E;E--){var T=l[E],N=T.instance,H=T.currentTarget;if(T=T.listener,N!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=H;try{d(h)}catch(K){su(K)}h.currentTarget=null,d=N}else for(E=0;E<l.length;E++){if(T=l[E],N=T.instance,H=T.currentTarget,T=T.listener,N!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=H;try{d(h)}catch(K){su(K)}h.currentTarget=null,d=N}}}}function De(t,r){var a=r[si];a===void 0&&(a=r[si]=new Set);var l=t+"__bubble";a.has(l)||(x0(r,t,2,!1),a.add(l))}function bd(t,r,a){var l=0;r&&(l|=4),x0(a,t,l,r)}var vu="_reactListening"+Math.random().toString(36).slice(2);function Ed(t){if(!t[vu]){t[vu]=!0,_c.forEach(function(a){a!=="selectionchange"&&(Dx.has(a)||bd(a,!1,t),bd(a,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[vu]||(r[vu]=!0,bd("selectionchange",!1,r))}}function x0(t,r,a,l){switch(Q0(r)){case 2:var h=s2;break;case 8:h=i2;break;default:h=Vd}a=h.bind(null,r,a,t),h=void 0,!Cr||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(r,a,{capture:!0,passive:h}):t.addEventListener(r,a,!0):h!==void 0?t.addEventListener(r,a,{passive:h}):t.addEventListener(r,a,!1)}function xd(t,r,a,l,h){var d=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var E=l.tag;if(E===3||E===4){var T=l.stateNode.containerInfo;if(T===h)break;if(E===4)for(E=l.return;E!==null;){var N=E.tag;if((N===3||N===4)&&E.stateNode.containerInfo===h)return;E=E.return}for(;T!==null;){if(E=tr(T),E===null)return;if(N=E.tag,N===5||N===6||N===26||N===27){l=d=E;continue e}T=T.parentNode}}l=l.return}mi(function(){var H=d,K=Lo(a),J=[];e:{var G=rp.get(t);if(G!==void 0){var Q=yi,Ee=t;switch(t){case"keypress":if(gi(a)===0)break e;case"keydown":case"keyup":Q=ya;break;case"focusin":Ee="focus",Q=ma;break;case"focusout":Ee="blur",Q=ma;break;case"beforeblur":case"afterblur":Q=ma;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=xi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=Ac;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=ps;break;case Jg:case ep:case tp:Q=zo;break;case np:Q=v;break;case"scroll":case"scrollend":Q=_i;break;case"wheel":Q=w;break;case"copy":case"cut":case"paste":Q=Cc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=Ho;break;case"toggle":case"beforetoggle":Q=Y}var ye=(r&4)!==0,Xe=!ye&&(t==="scroll"||t==="scrollend"),L=ye?G!==null?G+"Capture":null:G;ye=[];for(var M=H,z;M!==null;){var Z=M;if(z=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||z===null||L===null||(Z=ms(M,L),Z!=null&&ye.push(xl(M,Z,z))),Xe)break;M=M.return}0<ye.length&&(G=new Q(G,Ee,null,a,K),J.push({event:G,listeners:ye}))}}if((r&7)===0){e:{if(G=t==="mouseover"||t==="pointerover",Q=t==="mouseout"||t==="pointerout",G&&a!==Po&&(Ee=a.relatedTarget||a.fromElement)&&(tr(Ee)||Ee[wr]))break e;if((Q||G)&&(G=K.window===K?K:(G=K.ownerDocument)?G.defaultView||G.parentWindow:window,Q?(Ee=a.relatedTarget||a.toElement,Q=H,Ee=Ee?tr(Ee):null,Ee!==null&&(Xe=c(Ee),ye=Ee.tag,Ee!==Xe||ye!==5&&ye!==27&&ye!==6)&&(Ee=null)):(Q=null,Ee=H),Q!==Ee)){if(ye=xi,Z="onMouseLeave",L="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(ye=Ho,Z="onPointerLeave",L="onPointerEnter",M="pointer"),Xe=Q==null?G:ls(Q),z=Ee==null?G:ls(Ee),G=new ye(Z,M+"leave",Q,a,K),G.target=Xe,G.relatedTarget=z,Z=null,tr(K)===H&&(ye=new ye(L,M+"enter",Ee,a,K),ye.target=z,ye.relatedTarget=Xe,Z=ye),Xe=Z,Q&&Ee)t:{for(ye=Q,L=Ee,M=0,z=ye;z;z=qa(z))M++;for(z=0,Z=L;Z;Z=qa(Z))z++;for(;0<M-z;)ye=qa(ye),M--;for(;0<z-M;)L=qa(L),z--;for(;M--;){if(ye===L||L!==null&&ye===L.alternate)break t;ye=qa(ye),L=qa(L)}ye=null}else ye=null;Q!==null&&T0(J,G,Q,ye,!1),Ee!==null&&Xe!==null&&T0(J,Xe,Ee,ye,!0)}}e:{if(G=H?ls(H):window,Q=G.nodeName&&G.nodeName.toLowerCase(),Q==="select"||Q==="input"&&G.type==="file")var ue=qg;else if(zg(G))if(Hg)ue=FE;else{ue=qE;var Ne=BE}else Q=G.nodeName,!Q||Q.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?H&&ha(H.elementType)&&(ue=qg):ue=HE;if(ue&&(ue=ue(t,H))){Bg(J,ue,a,K);break e}Ne&&Ne(t,G,H),t==="focusout"&&H&&G.type==="number"&&H.memoizedProps.value!=null&&Mo(G,"number",G.value)}switch(Ne=H?ls(H):window,t){case"focusin":(zg(Ne)||Ne.contentEditable==="true")&&(va=Ne,Wh=H,$o=null);break;case"focusout":$o=Wh=va=null;break;case"mousedown":Jh=!0;break;case"contextmenu":case"mouseup":case"dragend":Jh=!1,Zg(J,a,K);break;case"selectionchange":if(QE)break;case"keydown":case"keyup":Zg(J,a,K)}var de;if(Se)e:{switch(t){case"compositionstart":var ve="onCompositionStart";break e;case"compositionend":ve="onCompositionEnd";break e;case"compositionupdate":ve="onCompositionUpdate";break e}ve=void 0}else zn?Ln(t,a)&&(ve="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(ve="onCompositionStart");ve&&(gt&&a.locale!=="ko"&&(zn||ve!=="onCompositionStart"?ve==="onCompositionEnd"&&zn&&(de=Sc()):(En=K,Je="value"in En?En.value:En.textContent,zn=!0)),Ne=_u(H,ve),0<Ne.length&&(ve=new qo(ve,t,null,a,K),J.push({event:ve,listeners:Ne}),de?ve.data=de:(de=Un(a),de!==null&&(ve.data=de)))),(de=He?Fo(t,a):LE(t,a))&&(ve=_u(H,"onBeforeInput"),0<ve.length&&(Ne=new qo("onBeforeInput","beforeinput",null,a,K),J.push({event:Ne,listeners:ve}),Ne.data=de)),Cx(J,t,H,a,K)}E0(J,r)})}function xl(t,r,a){return{instance:t,listener:r,currentTarget:a}}function _u(t,r){for(var a=r+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=ms(t,a),h!=null&&l.unshift(xl(t,h,d)),h=ms(t,r),h!=null&&l.push(xl(t,h,d))),t.tag===3)return l;t=t.return}return[]}function qa(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function T0(t,r,a,l,h){for(var d=r._reactName,E=[];a!==null&&a!==l;){var T=a,N=T.alternate,H=T.stateNode;if(T=T.tag,N!==null&&N===l)break;T!==5&&T!==26&&T!==27||H===null||(N=H,h?(H=ms(a,d),H!=null&&E.unshift(xl(a,H,N))):h||(H=ms(a,d),H!=null&&E.push(xl(a,H,N)))),a=a.return}E.length!==0&&t.push({event:r,listeners:E})}var jx=/\r\n?/g,Ox=/\u0000|\uFFFD/g;function w0(t){return(typeof t=="string"?t:""+t).replace(jx,`
`).replace(Ox,"")}function S0(t,r){return r=w0(r),w0(t)===r}function bu(){}function Ke(t,r,a,l,h,d){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||bn(t,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&bn(t,""+l);break;case"className":ci(t,"class",l);break;case"tabIndex":ci(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":ci(t,a,l);break;case"style":ko(t,l,d);break;case"data":if(r!=="object"){ci(t,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Pn(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(r!=="input"&&Ke(t,r,"name",h.name,h,null),Ke(t,r,"formEncType",h.formEncType,h,null),Ke(t,r,"formMethod",h.formMethod,h,null),Ke(t,r,"formTarget",h.formTarget,h,null)):(Ke(t,r,"encType",h.encType,h,null),Ke(t,r,"method",h.method,h,null),Ke(t,r,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Pn(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=bu);break;case"onScroll":l!=null&&De("scroll",t);break;case"onScrollEnd":l!=null&&De("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(i(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Pn(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":De("beforetoggle",t),De("toggle",t),li(t,"popover",l);break;case"xlinkActuate":_n(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":_n(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":_n(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":_n(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":_n(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":_n(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":_n(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":_n(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":_n(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":li(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=xc.get(a)||a,li(t,a,l))}}function Td(t,r,a,l,h,d){switch(a){case"style":ko(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(i(60));t.innerHTML=a}}break;case"children":typeof l=="string"?bn(t,l):(typeof l=="number"||typeof l=="bigint")&&bn(t,""+l);break;case"onScroll":l!=null&&De("scroll",t);break;case"onScrollEnd":l!=null&&De("scrollend",t);break;case"onClick":l!=null&&(t.onclick=bu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ai.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),r=a.slice(2,h?a.length-7:void 0),d=t[Pt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(r,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(r,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):li(t,a,l)}}}function zt(t,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":De("error",t),De("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var E=a[d];if(E!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:Ke(t,r,d,E,a,null)}}h&&Ke(t,r,"srcSet",a.srcSet,a,null),l&&Ke(t,r,"src",a.src,a,null);return;case"input":De("invalid",t);var T=d=E=h=null,N=null,H=null;for(l in a)if(a.hasOwnProperty(l)){var K=a[l];if(K!=null)switch(l){case"name":h=K;break;case"type":E=K;break;case"checked":N=K;break;case"defaultChecked":H=K;break;case"value":d=K;break;case"defaultValue":T=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(i(137,r));break;default:Ke(t,r,l,K,a,null)}}Oo(t,d,T,N,H,E,h,!1),hs(t);return;case"select":De("invalid",t),l=E=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":E=T;break;case"multiple":l=T;default:Ke(t,r,h,T,a,null)}r=d,a=E,t.multiple=!!l,r!=null?fs(t,!!l,r,!1):a!=null&&fs(t,!!l,a,!0);return;case"textarea":De("invalid",t),d=h=l=null;for(E in a)if(a.hasOwnProperty(E)&&(T=a[E],T!=null))switch(E){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(i(91));break;default:Ke(t,r,E,T,a,null)}Ec(t,l,h,d),hs(t);return;case"option":for(N in a)if(a.hasOwnProperty(N)&&(l=a[N],l!=null))switch(N){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ke(t,r,N,l,a,null)}return;case"dialog":De("beforetoggle",t),De("toggle",t),De("cancel",t),De("close",t);break;case"iframe":case"object":De("load",t);break;case"video":case"audio":for(l=0;l<El.length;l++)De(El[l],t);break;case"image":De("error",t),De("load",t);break;case"details":De("toggle",t);break;case"embed":case"source":case"link":De("error",t),De("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in a)if(a.hasOwnProperty(H)&&(l=a[H],l!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:Ke(t,r,H,l,a,null)}return;default:if(ha(r)){for(K in a)a.hasOwnProperty(K)&&(l=a[K],l!==void 0&&Td(t,r,K,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&Ke(t,r,T,l,a,null))}function Mx(t,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,E=null,T=null,N=null,H=null,K=null;for(Q in a){var J=a[Q];if(a.hasOwnProperty(Q)&&J!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":N=J;default:l.hasOwnProperty(Q)||Ke(t,r,Q,null,l,J)}}for(var G in l){var Q=l[G];if(J=a[G],l.hasOwnProperty(G)&&(Q!=null||J!=null))switch(G){case"type":d=Q;break;case"name":h=Q;break;case"checked":H=Q;break;case"defaultChecked":K=Q;break;case"value":E=Q;break;case"defaultValue":T=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(i(137,r));break;default:Q!==J&&Ke(t,r,G,Q,l,J)}}jo(t,E,T,N,H,K,d,h);return;case"select":Q=E=T=G=null;for(d in a)if(N=a[d],a.hasOwnProperty(d)&&N!=null)switch(d){case"value":break;case"multiple":Q=N;default:l.hasOwnProperty(d)||Ke(t,r,d,null,l,N)}for(h in l)if(d=l[h],N=a[h],l.hasOwnProperty(h)&&(d!=null||N!=null))switch(h){case"value":G=d;break;case"defaultValue":T=d;break;case"multiple":E=d;default:d!==N&&Ke(t,r,h,d,l,N)}r=T,a=E,l=Q,G!=null?fs(t,!!a,G,!1):!!l!=!!a&&(r!=null?fs(t,!!a,r,!0):fs(t,!!a,a?[]:"",!1));return;case"textarea":Q=G=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Ke(t,r,T,null,l,h)}for(E in l)if(h=l[E],d=a[E],l.hasOwnProperty(E)&&(h!=null||d!=null))switch(E){case"value":G=h;break;case"defaultValue":Q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(i(91));break;default:h!==d&&Ke(t,r,E,h,l,d)}bc(t,G,Q);return;case"option":for(var Ee in a)if(G=a[Ee],a.hasOwnProperty(Ee)&&G!=null&&!l.hasOwnProperty(Ee))switch(Ee){case"selected":t.selected=!1;break;default:Ke(t,r,Ee,null,l,G)}for(N in l)if(G=l[N],Q=a[N],l.hasOwnProperty(N)&&G!==Q&&(G!=null||Q!=null))switch(N){case"selected":t.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:Ke(t,r,N,G,l,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ye in a)G=a[ye],a.hasOwnProperty(ye)&&G!=null&&!l.hasOwnProperty(ye)&&Ke(t,r,ye,null,l,G);for(H in l)if(G=l[H],Q=a[H],l.hasOwnProperty(H)&&G!==Q&&(G!=null||Q!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(i(137,r));break;default:Ke(t,r,H,G,l,Q)}return;default:if(ha(r)){for(var Xe in a)G=a[Xe],a.hasOwnProperty(Xe)&&G!==void 0&&!l.hasOwnProperty(Xe)&&Td(t,r,Xe,void 0,l,G);for(K in l)G=l[K],Q=a[K],!l.hasOwnProperty(K)||G===Q||G===void 0&&Q===void 0||Td(t,r,K,G,l,Q);return}}for(var L in a)G=a[L],a.hasOwnProperty(L)&&G!=null&&!l.hasOwnProperty(L)&&Ke(t,r,L,null,l,G);for(J in l)G=l[J],Q=a[J],!l.hasOwnProperty(J)||G===Q||G==null&&Q==null||Ke(t,r,J,G,l,Q)}var wd=null,Sd=null;function Eu(t){return t.nodeType===9?t:t.ownerDocument}function A0(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function R0(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function Ad(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Rd=null;function Vx(){var t=window.event;return t&&t.type==="popstate"?t===Rd?!1:(Rd=t,!0):(Rd=null,!1)}var C0=typeof setTimeout=="function"?setTimeout:void 0,kx=typeof clearTimeout=="function"?clearTimeout:void 0,N0=typeof Promise=="function"?Promise:void 0,Px=typeof queueMicrotask=="function"?queueMicrotask:typeof N0<"u"?function(t){return N0.resolve(null).then(t).catch(Lx)}:C0;function Lx(t){setTimeout(function(){throw t})}function js(t){return t==="head"}function I0(t,r){var a=r,l=0,h=0;do{var d=a.nextSibling;if(t.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var E=t.ownerDocument;if(a&1&&Tl(E.documentElement),a&2&&Tl(E.body),a&4)for(a=E.head,Tl(a),E=a.firstChild;E;){var T=E.nextSibling,N=E.nodeName;E[os]||N==="SCRIPT"||N==="STYLE"||N==="LINK"&&E.rel.toLowerCase()==="stylesheet"||a.removeChild(E),E=T}}if(h===0){t.removeChild(d),Dl(r);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);Dl(r)}function Cd(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Cd(a),aa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function Ux(t,r,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[os])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Hn(t.nextSibling),t===null)break}return null}function zx(t,r,a){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Hn(t.nextSibling),t===null))return null;return t}function Nd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function Bx(t,r){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Hn(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return t}var Id=null;function D0(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return t;r--}else a==="/$"&&r++}t=t.previousSibling}return null}function j0(t,r,a){switch(r=Eu(a),t){case"html":if(t=r.documentElement,!t)throw Error(i(452));return t;case"head":if(t=r.head,!t)throw Error(i(453));return t;case"body":if(t=r.body,!t)throw Error(i(454));return t;default:throw Error(i(451))}}function Tl(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);aa(t)}var Cn=new Map,O0=new Set;function xu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var qr=ae.d;ae.d={f:qx,r:Hx,D:Fx,C:Gx,L:Qx,m:Yx,X:Kx,S:$x,M:Xx};function qx(){var t=qr.f(),r=du();return t||r}function Hx(t){var r=nr(t);r!==null&&r.tag===5&&r.type==="form"?Jp(r):qr.r(t)}var Ha=typeof document>"u"?null:document;function M0(t,r,a){var l=Ha;if(l&&typeof r=="string"&&r){var h=Dt(r);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),O0.has(h)||(O0.add(h),t={rel:t,crossOrigin:a,href:r},l.querySelector(h)===null&&(r=l.createElement("link"),zt(r,"link",t),mt(r),l.head.appendChild(r)))}}function Fx(t){qr.D(t),M0("dns-prefetch",t,null)}function Gx(t,r){qr.C(t,r),M0("preconnect",t,r)}function Qx(t,r,a){qr.L(t,r,a);var l=Ha;if(l&&t&&r){var h='link[rel="preload"][as="'+Dt(r)+'"]';r==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+Dt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+Dt(a.imageSizes)+'"]')):h+='[href="'+Dt(t)+'"]';var d=h;switch(r){case"style":d=Fa(t);break;case"script":d=Ga(t)}Cn.has(d)||(t=b({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:t,as:r},a),Cn.set(d,t),l.querySelector(h)!==null||r==="style"&&l.querySelector(wl(d))||r==="script"&&l.querySelector(Sl(d))||(r=l.createElement("link"),zt(r,"link",t),mt(r),l.head.appendChild(r)))}}function Yx(t,r){qr.m(t,r);var a=Ha;if(a&&t){var l=r&&typeof r.as=="string"?r.as:"script",h='link[rel="modulepreload"][as="'+Dt(l)+'"][href="'+Dt(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ga(t)}if(!Cn.has(d)&&(t=b({rel:"modulepreload",href:t},r),Cn.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Sl(d)))return}l=a.createElement("link"),zt(l,"link",t),mt(l),a.head.appendChild(l)}}}function $x(t,r,a){qr.S(t,r,a);var l=Ha;if(l&&t){var h=cs(l).hoistableStyles,d=Fa(t);r=r||"default";var E=h.get(d);if(!E){var T={loading:0,preload:null};if(E=l.querySelector(wl(d)))T.loading=5;else{t=b({rel:"stylesheet",href:t,"data-precedence":r},a),(a=Cn.get(d))&&Dd(t,a);var N=E=l.createElement("link");mt(N),zt(N,"link",t),N._p=new Promise(function(H,K){N.onload=H,N.onerror=K}),N.addEventListener("load",function(){T.loading|=1}),N.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Tu(E,r,l)}E={type:"stylesheet",instance:E,count:1,state:T},h.set(d,E)}}}function Kx(t,r){qr.X(t,r);var a=Ha;if(a&&t){var l=cs(a).hoistableScripts,h=Ga(t),d=l.get(h);d||(d=a.querySelector(Sl(h)),d||(t=b({src:t,async:!0},r),(r=Cn.get(h))&&jd(t,r),d=a.createElement("script"),mt(d),zt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function Xx(t,r){qr.M(t,r);var a=Ha;if(a&&t){var l=cs(a).hoistableScripts,h=Ga(t),d=l.get(h);d||(d=a.querySelector(Sl(h)),d||(t=b({src:t,async:!0,type:"module"},r),(r=Cn.get(h))&&jd(t,r),d=a.createElement("script"),mt(d),zt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function V0(t,r,a,l){var h=(h=be.current)?xu(h):null;if(!h)throw Error(i(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=Fa(a.href),a=cs(h).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Fa(a.href);var d=cs(h).hoistableStyles,E=d.get(t);if(E||(h=h.ownerDocument||h,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,E),(d=h.querySelector(wl(t)))&&!d._p&&(E.instance=d,E.state.loading=5),Cn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Cn.set(t,a),d||Zx(h,t,a,E.state))),r&&l===null)throw Error(i(528,""));return E}if(r&&l!==null)throw Error(i(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Ga(a),a=cs(h).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,t))}}function Fa(t){return'href="'+Dt(t)+'"'}function wl(t){return'link[rel="stylesheet"]['+t+"]"}function k0(t){return b({},t,{"data-precedence":t.precedence,precedence:null})}function Zx(t,r,a,l){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=t.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),zt(r,"link",a),mt(r),t.head.appendChild(r))}function Ga(t){return'[src="'+Dt(t)+'"]'}function Sl(t){return"script[async]"+t}function P0(t,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=t.querySelector('style[data-href~="'+Dt(a.href)+'"]');if(l)return r.instance=l,mt(l),l;var h=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),mt(l),zt(l,"style",h),Tu(l,a.precedence,t),r.instance=l;case"stylesheet":h=Fa(a.href);var d=t.querySelector(wl(h));if(d)return r.state.loading|=4,r.instance=d,mt(d),d;l=k0(a),(h=Cn.get(h))&&Dd(l,h),d=(t.ownerDocument||t).createElement("link"),mt(d);var E=d;return E._p=new Promise(function(T,N){E.onload=T,E.onerror=N}),zt(d,"link",l),r.state.loading|=4,Tu(d,a.precedence,t),r.instance=d;case"script":return d=Ga(a.src),(h=t.querySelector(Sl(d)))?(r.instance=h,mt(h),h):(l=a,(h=Cn.get(d))&&(l=b({},a),jd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),mt(h),zt(h,"link",l),t.head.appendChild(h),r.instance=h);case"void":return null;default:throw Error(i(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,Tu(l,a.precedence,t));return r.instance}function Tu(t,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,E=0;E<l.length;E++){var T=l[E];if(T.dataset.precedence===r)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(t,r.firstChild))}function Dd(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function jd(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var wu=null;function L0(t,r,a){if(wu===null){var l=new Map,h=wu=new Map;h.set(a,l)}else h=wu,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[os]||d[dt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var E=d.getAttribute(r)||"";E=t+E;var T=l.get(E);T?T.push(d):l.set(E,[d])}}return l}function U0(t,r,a){t=t.ownerDocument||t,t.head.insertBefore(a,r==="title"?t.querySelector("head > title"):null)}function Wx(t,r,a){if(a===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return t=r.disabled,typeof r.precedence=="string"&&t==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function z0(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Al=null;function Jx(){}function e2(t,r,a){if(Al===null)throw Error(i(475));var l=Al;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=Fa(a.href),d=t.querySelector(wl(h));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Su.bind(l),t.then(l,l)),r.state.loading|=4,r.instance=d,mt(d);return}d=t.ownerDocument||t,a=k0(a),(h=Cn.get(h))&&Dd(a,h),d=d.createElement("link"),mt(d);var E=d;E._p=new Promise(function(T,N){E.onload=T,E.onerror=N}),zt(d,"link",a),r.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,t),(t=r.state.preload)&&(r.state.loading&3)===0&&(l.count++,r=Su.bind(l),t.addEventListener("load",r),t.addEventListener("error",r))}}function t2(){if(Al===null)throw Error(i(475));var t=Al;return t.stylesheets&&t.count===0&&Od(t,t.stylesheets),0<t.count?function(r){var a=setTimeout(function(){if(t.stylesheets&&Od(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(a)}}:null}function Su(){if(this.count--,this.count===0){if(this.stylesheets)Od(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Au=null;function Od(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Au=new Map,r.forEach(n2,t),Au=null,Su.call(t))}function n2(t,r){if(!(r.state.loading&4)){var a=Au.get(t);if(a)var l=a.get(null);else{a=new Map,Au.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var E=h[d];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(a.set(E.dataset.precedence,E),l=E)}l&&a.set(null,l)}h=r.instance,E=h.getAttribute("data-precedence"),d=a.get(E)||l,d===l&&a.set(null,h),a.set(E,h),this.count++,l=Su.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),r.state.loading|=4}}var Rl={$$typeof:re,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function r2(t,r,a,l,h,d,E,T){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ia(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ia(0),this.hiddenUpdates=ia(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function B0(t,r,a,l,h,d,E,T,N,H,K,J){return t=new r2(t,r,a,E,T,N,H,J),r=1,d===!0&&(r|=24),d=hn(3,null,null,r),t.current=d,d.stateNode=t,r=mf(),r.refCount++,t.pooledCache=r,r.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:r},vf(d),t}function q0(t){return t?(t=xa,t):xa}function H0(t,r,a,l,h,d){h=q0(h),l.context===null?l.context=h:l.pendingContext=h,l=_s(r),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=bs(t,l,r),a!==null&&(pn(a,t,r),rl(a,t,r))}function F0(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<r?a:r}}function Md(t,r){F0(t,r),(t=t.alternate)&&F0(t,r)}function G0(t){if(t.tag===13){var r=Ea(t,67108864);r!==null&&pn(r,t,67108864),Md(t,67108864)}}var Ru=!0;function s2(t,r,a,l){var h=$.T;$.T=null;var d=ae.p;try{ae.p=2,Vd(t,r,a,l)}finally{ae.p=d,$.T=h}}function i2(t,r,a,l){var h=$.T;$.T=null;var d=ae.p;try{ae.p=8,Vd(t,r,a,l)}finally{ae.p=d,$.T=h}}function Vd(t,r,a,l){if(Ru){var h=kd(l);if(h===null)xd(t,r,l,Cu,a),Y0(t,l);else if(o2(h,t,r,a,l))l.stopPropagation();else if(Y0(t,l),r&4&&-1<a2.indexOf(t)){for(;h!==null;){var d=nr(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var E=Mn(d.pendingLanes);if(E!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;E;){var N=1<<31-Wt(E);T.entanglements[1]|=N,E&=~N}fr(d),(Fe&6)===0&&(hu=rn()+500,bl(0))}}break;case 13:T=Ea(d,2),T!==null&&pn(T,d,2),du(),Md(d,2)}if(d=kd(l),d===null&&xd(t,r,l,Cu,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else xd(t,r,l,null,a)}}function kd(t){return t=Lo(t),Pd(t)}var Cu=null;function Pd(t){if(Cu=null,t=tr(t),t!==null){var r=c(t);if(r===null)t=null;else{var a=r.tag;if(a===13){if(t=f(r),t!==null)return t;t=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return Cu=t,null}function Q0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(gc()){case St:return 2;case It:return 8;case xr:case Bh:return 32;case Co:return 268435456;default:return 32}default:return 32}}var Ld=!1,Os=null,Ms=null,Vs=null,Cl=new Map,Nl=new Map,ks=[],a2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Y0(t,r){switch(t){case"focusin":case"focusout":Os=null;break;case"dragenter":case"dragleave":Ms=null;break;case"mouseover":case"mouseout":Vs=null;break;case"pointerover":case"pointerout":Cl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nl.delete(r.pointerId)}}function Il(t,r,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},r!==null&&(r=nr(r),r!==null&&G0(r)),t):(t.eventSystemFlags|=l,r=t.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),t)}function o2(t,r,a,l,h){switch(r){case"focusin":return Os=Il(Os,t,r,a,l,h),!0;case"dragenter":return Ms=Il(Ms,t,r,a,l,h),!0;case"mouseover":return Vs=Il(Vs,t,r,a,l,h),!0;case"pointerover":var d=h.pointerId;return Cl.set(d,Il(Cl.get(d)||null,t,r,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Nl.set(d,Il(Nl.get(d)||null,t,r,a,l,h)),!0}return!1}function $0(t){var r=tr(t.target);if(r!==null){var a=c(r);if(a!==null){if(r=a.tag,r===13){if(r=f(a),r!==null){t.blockedOn=r,Fh(t.priority,function(){if(a.tag===13){var l=gn();l=Io(l);var h=Ea(a,l);h!==null&&pn(h,a,l),Md(a,l)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Nu(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var a=kd(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Po=l,a.target.dispatchEvent(l),Po=null}else return r=nr(a),r!==null&&G0(r),t.blockedOn=a,!1;r.shift()}return!0}function K0(t,r,a){Nu(t)&&a.delete(r)}function l2(){Ld=!1,Os!==null&&Nu(Os)&&(Os=null),Ms!==null&&Nu(Ms)&&(Ms=null),Vs!==null&&Nu(Vs)&&(Vs=null),Cl.forEach(K0),Nl.forEach(K0)}function Iu(t,r){t.blockedOn===r&&(t.blockedOn=null,Ld||(Ld=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,l2)))}var Du=null;function X0(t){Du!==t&&(Du=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Du===t&&(Du=null);for(var r=0;r<t.length;r+=3){var a=t[r],l=t[r+1],h=t[r+2];if(typeof l!="function"){if(Pd(l||a)===null)continue;break}var d=nr(a);d!==null&&(t.splice(r,3),r-=3,Pf(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Dl(t){function r(N){return Iu(N,t)}Os!==null&&Iu(Os,t),Ms!==null&&Iu(Ms,t),Vs!==null&&Iu(Vs,t),Cl.forEach(r),Nl.forEach(r);for(var a=0;a<ks.length;a++){var l=ks[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<ks.length&&(a=ks[0],a.blockedOn===null);)$0(a),a.blockedOn===null&&ks.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],E=h[Pt]||null;if(typeof d=="function")E||X0(a);else if(E){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,E=d[Pt]||null)T=E.formAction;else if(Pd(h)!==null)continue}else T=E.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),X0(a)}}}function Ud(t){this._internalRoot=t}ju.prototype.render=Ud.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(i(409));var a=r.current,l=gn();H0(a,l,t,r,null,null)},ju.prototype.unmount=Ud.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;H0(t.current,2,null,t,null,null),du(),r[wr]=null}};function ju(t){this._internalRoot=t}ju.prototype.unstable_scheduleHydration=function(t){if(t){var r=Tr();t={blockedOn:null,target:t,priority:r};for(var a=0;a<ks.length&&r!==0&&r<ks[a].priority;a++);ks.splice(a,0,t),a===0&&$0(t)}};var Z0=e.version;if(Z0!=="19.1.1")throw Error(i(527,Z0,"19.1.1"));ae.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(i(188)):(t=Object.keys(t).join(","),Error(i(268,t)));return t=p(r),t=t!==null?y(t):null,t=t===null?null:t.stateNode,t};var c2={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ou=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ou.isDisabled&&Ou.supportsFiber)try{ts=Ou.inject(c2),Ft=Ou}catch{}}return Ol.createRoot=function(t,r){if(!o(t))throw Error(i(299));var a=!1,l="",h=dy,d=my,E=gy,T=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(T=r.unstable_transitionCallbacks)),r=B0(t,1,!1,null,null,a,l,h,d,E,T,null),t[wr]=r.current,Ed(t),new Ud(r)},Ol.hydrateRoot=function(t,r,a){if(!o(t))throw Error(i(299));var l=!1,h="",d=dy,E=my,T=gy,N=null,H=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(E=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(N=a.unstable_transitionCallbacks),a.formState!==void 0&&(H=a.formState)),r=B0(t,1,!0,r,a??null,l,h,d,E,T,N,H),r.context=q0(null),a=r.current,l=gn(),l=Io(l),h=_s(l),h.callback=null,bs(a,h,l),a=l,r.current.lanes=a,ft(r,a),fr(r),t[wr]=r.current,Ed(t),new ju(r)},Ol.version="19.1.1",Ol}var ov;function b2(){if(ov)return qd.exports;ov=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),qd.exports=_2(),qd.exports}var E2=b2();const x2=H_(E2);/**
 * react-router v7.9.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var lv="popstate";function T2(s={}){function e(i,o){let{pathname:c,search:f,hash:g}=i.location;return om("",{pathname:c,search:f,hash:g},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){return typeof o=="string"?o:Ql(o)}return S2(e,n,null,s)}function at(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function Kn(s,e){if(!s){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function w2(){return Math.random().toString(36).substring(2,10)}function cv(s,e){return{usr:s.state,key:s.key,idx:e}}function om(s,e,n=null,i){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof e=="string"?mo(e):e,state:n,key:e&&e.key||i||w2()}}function Ql({pathname:s="/",search:e="",hash:n=""}){return e&&e!=="?"&&(s+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(s+=n.charAt(0)==="#"?n:"#"+n),s}function mo(s){let e={};if(s){let n=s.indexOf("#");n>=0&&(e.hash=s.substring(n),s=s.substring(0,n));let i=s.indexOf("?");i>=0&&(e.search=s.substring(i),s=s.substring(0,i)),s&&(e.pathname=s)}return e}function S2(s,e,n,i={}){let{window:o=document.defaultView,v5Compat:c=!1}=i,f=o.history,g="POP",p=null,y=b();y==null&&(y=0,f.replaceState({...f.state,idx:y},""));function b(){return(f.state||{idx:null}).idx}function x(){g="POP";let F=b(),te=F==null?null:F-y;y=F,p&&p({action:g,location:U.location,delta:te})}function A(F,te){g="PUSH";let X=om(U.location,F,te);y=b()+1;let re=cv(X,y),xe=U.createHref(X);try{f.pushState(re,"",xe)}catch(fe){if(fe instanceof DOMException&&fe.name==="DataCloneError")throw fe;o.location.assign(xe)}c&&p&&p({action:g,location:U.location,delta:1})}function V(F,te){g="REPLACE";let X=om(U.location,F,te);y=b();let re=cv(X,y),xe=U.createHref(X);f.replaceState(re,"",xe),c&&p&&p({action:g,location:U.location,delta:0})}function q(F){return A2(F)}let U={get action(){return g},get location(){return s(o,f)},listen(F){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(lv,x),p=F,()=>{o.removeEventListener(lv,x),p=null}},createHref(F){return e(o,F)},createURL:q,encodeLocation(F){let te=q(F);return{pathname:te.pathname,search:te.search,hash:te.hash}},push:A,replace:V,go(F){return f.go(F)}};return U}function A2(s,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),at(n,"No window.location.(origin|href) available to create URL");let i=typeof s=="string"?s:Ql(s);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function F_(s,e,n="/"){return R2(s,e,n,!1)}function R2(s,e,n,i){let o=typeof e=="string"?mo(e):e,c=Yr(o.pathname||"/",n);if(c==null)return null;let f=G_(s);C2(f);let g=null;for(let p=0;g==null&&p<f.length;++p){let y=U2(c);g=P2(f[p],y,i)}return g}function G_(s,e=[],n=[],i="",o=!1){let c=(f,g,p=o,y)=>{let b={relativePath:y===void 0?f.path||"":y,caseSensitive:f.caseSensitive===!0,childrenIndex:g,route:f};if(b.relativePath.startsWith("/")){if(!b.relativePath.startsWith(i)&&p)return;at(b.relativePath.startsWith(i),`Absolute route path "${b.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),b.relativePath=b.relativePath.slice(i.length)}let x=Gr([i,b.relativePath]),A=n.concat(b);f.children&&f.children.length>0&&(at(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${x}".`),G_(f.children,e,A,x,p)),!(f.path==null&&!f.index)&&e.push({path:x,score:V2(x,f.index),routesMeta:A})};return s.forEach((f,g)=>{if(f.path===""||!f.path?.includes("?"))c(f,g);else for(let p of Q_(f.path))c(f,g,!0,p)}),e}function Q_(s){let e=s.split("/");if(e.length===0)return[];let[n,...i]=e,o=n.endsWith("?"),c=n.replace(/\?$/,"");if(i.length===0)return o?[c,""]:[c];let f=Q_(i.join("/")),g=[];return g.push(...f.map(p=>p===""?c:[c,p].join("/"))),o&&g.push(...f),g.map(p=>s.startsWith("/")&&p===""?"/":p)}function C2(s){s.sort((e,n)=>e.score!==n.score?n.score-e.score:k2(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var N2=/^:[\w-]+$/,I2=3,D2=2,j2=1,O2=10,M2=-2,uv=s=>s==="*";function V2(s,e){let n=s.split("/"),i=n.length;return n.some(uv)&&(i+=M2),e&&(i+=D2),n.filter(o=>!uv(o)).reduce((o,c)=>o+(N2.test(c)?I2:c===""?j2:O2),i)}function k2(s,e){return s.length===e.length&&s.slice(0,-1).every((i,o)=>i===e[o])?s[s.length-1]-e[e.length-1]:0}function P2(s,e,n=!1){let{routesMeta:i}=s,o={},c="/",f=[];for(let g=0;g<i.length;++g){let p=i[g],y=g===i.length-1,b=c==="/"?e:e.slice(c.length)||"/",x=eh({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},b),A=p.route;if(!x&&y&&n&&!i[i.length-1].route.index&&(x=eh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},b)),!x)return null;Object.assign(o,x.params),f.push({params:o,pathname:Gr([c,x.pathname]),pathnameBase:H2(Gr([c,x.pathnameBase])),route:A}),x.pathnameBase!=="/"&&(c=Gr([c,x.pathnameBase]))}return f}function eh(s,e){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[n,i]=L2(s.path,s.caseSensitive,s.end),o=e.match(n);if(!o)return null;let c=o[0],f=c.replace(/(.)\/+$/,"$1"),g=o.slice(1);return{params:i.reduce((y,{paramName:b,isOptional:x},A)=>{if(b==="*"){let q=g[A]||"";f=c.slice(0,c.length-q.length).replace(/(.)\/+$/,"$1")}const V=g[A];return x&&!V?y[b]=void 0:y[b]=(V||"").replace(/%2F/g,"/"),y},{}),pathname:c,pathnameBase:f,pattern:s}}function L2(s,e=!1,n=!0){Kn(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let i=[],o="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,g,p)=>(i.push({paramName:g,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return s.endsWith("*")?(i.push({paramName:"*"}),o+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":s!==""&&s!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function U2(s){try{return s.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Kn(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),s}}function Yr(s,e){if(e==="/")return s;if(!s.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=s.charAt(n);return i&&i!=="/"?null:s.slice(n)||"/"}function z2(s,e="/"){let{pathname:n,search:i="",hash:o=""}=typeof s=="string"?mo(s):s;return{pathname:n?n.startsWith("/")?n:B2(n,e):e,search:F2(i),hash:G2(o)}}function B2(s,e){let n=e.replace(/\/+$/,"").split("/");return s.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Qd(s,e,n,i){return`Cannot include a '${s}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function q2(s){return s.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Vm(s){let e=q2(s);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function km(s,e,n,i=!1){let o;typeof s=="string"?o=mo(s):(o={...s},at(!o.pathname||!o.pathname.includes("?"),Qd("?","pathname","search",o)),at(!o.pathname||!o.pathname.includes("#"),Qd("#","pathname","hash",o)),at(!o.search||!o.search.includes("#"),Qd("#","search","hash",o)));let c=s===""||o.pathname==="",f=c?"/":o.pathname,g;if(f==null)g=n;else{let x=e.length-1;if(!i&&f.startsWith("..")){let A=f.split("/");for(;A[0]==="..";)A.shift(),x-=1;o.pathname=A.join("/")}g=x>=0?e[x]:"/"}let p=z2(o,g),y=f&&f!=="/"&&f.endsWith("/"),b=(c||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(y||b)&&(p.pathname+="/"),p}var Gr=s=>s.join("/").replace(/\/\/+/g,"/"),H2=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),F2=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,G2=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function Q2(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}var Y_=["POST","PUT","PATCH","DELETE"];new Set(Y_);var Y2=["GET",...Y_];new Set(Y2);var go=P.createContext(null);go.displayName="DataRouter";var bh=P.createContext(null);bh.displayName="DataRouterState";P.createContext(!1);var $_=P.createContext({isTransitioning:!1});$_.displayName="ViewTransition";var $2=P.createContext(new Map);$2.displayName="Fetchers";var K2=P.createContext(null);K2.displayName="Await";var Zn=P.createContext(null);Zn.displayName="Navigation";var rc=P.createContext(null);rc.displayName="Location";var Wn=P.createContext({outlet:null,matches:[],isDataRoute:!1});Wn.displayName="Route";var Pm=P.createContext(null);Pm.displayName="RouteError";function X2(s,{relative:e}={}){at(po(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=P.useContext(Zn),{hash:o,pathname:c,search:f}=sc(s,{relative:e}),g=c;return n!=="/"&&(g=c==="/"?n:Gr([n,c])),i.createHref({pathname:g,search:f,hash:o})}function po(){return P.useContext(rc)!=null}function jn(){return at(po(),"useLocation() may be used only in the context of a <Router> component."),P.useContext(rc).location}var K_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function X_(s){P.useContext(Zn).static||P.useLayoutEffect(s)}function $i(){let{isDataRoute:s}=P.useContext(Wn);return s?cT():Z2()}function Z2(){at(po(),"useNavigate() may be used only in the context of a <Router> component.");let s=P.useContext(go),{basename:e,navigator:n}=P.useContext(Zn),{matches:i}=P.useContext(Wn),{pathname:o}=jn(),c=JSON.stringify(Vm(i)),f=P.useRef(!1);return X_(()=>{f.current=!0}),P.useCallback((p,y={})=>{if(Kn(f.current,K_),!f.current)return;if(typeof p=="number"){n.go(p);return}let b=km(p,JSON.parse(c),o,y.relative==="path");s==null&&e!=="/"&&(b.pathname=b.pathname==="/"?e:Gr([e,b.pathname])),(y.replace?n.replace:n.push)(b,y.state,y)},[e,n,c,o,s])}P.createContext(null);function Z_(){let{matches:s}=P.useContext(Wn),e=s[s.length-1];return e?e.params:{}}function sc(s,{relative:e}={}){let{matches:n}=P.useContext(Wn),{pathname:i}=jn(),o=JSON.stringify(Vm(n));return P.useMemo(()=>km(s,JSON.parse(o),i,e==="path"),[s,o,i,e])}function W2(s,e){return W_(s,e)}function W_(s,e,n,i,o){at(po(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=P.useContext(Zn),{matches:f}=P.useContext(Wn),g=f[f.length-1],p=g?g.params:{},y=g?g.pathname:"/",b=g?g.pathnameBase:"/",x=g&&g.route;{let X=x&&x.path||"";J_(y,!x||X.endsWith("*")||X.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${X}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${X}"> to <Route path="${X==="/"?"*":`${X}/*`}">.`)}let A=jn(),V;if(e){let X=typeof e=="string"?mo(e):e;at(b==="/"||X.pathname?.startsWith(b),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${b}" but pathname "${X.pathname}" was given in the \`location\` prop.`),V=X}else V=A;let q=V.pathname||"/",U=q;if(b!=="/"){let X=b.replace(/^\//,"").split("/");U="/"+q.replace(/^\//,"").split("/").slice(X.length).join("/")}let F=F_(s,{pathname:U});Kn(x||F!=null,`No routes matched location "${V.pathname}${V.search}${V.hash}" `),Kn(F==null||F[F.length-1].route.element!==void 0||F[F.length-1].route.Component!==void 0||F[F.length-1].route.lazy!==void 0,`Matched leaf route at location "${V.pathname}${V.search}${V.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let te=rT(F&&F.map(X=>Object.assign({},X,{params:Object.assign({},p,X.params),pathname:Gr([b,c.encodeLocation?c.encodeLocation(X.pathname).pathname:X.pathname]),pathnameBase:X.pathnameBase==="/"?b:Gr([b,c.encodeLocation?c.encodeLocation(X.pathnameBase).pathname:X.pathnameBase])})),f,n,i,o);return e&&te?P.createElement(rc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...V},navigationType:"POP"}},te):te}function J2(){let s=lT(),e=Q2(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),n=s instanceof Error?s.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},c={padding:"2px 4px",backgroundColor:i},f=null;return console.error("Error handled by React Router default ErrorBoundary:",s),f=P.createElement(P.Fragment,null,P.createElement("p",null,"💿 Hey developer 👋"),P.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",P.createElement("code",{style:c},"ErrorBoundary")," or"," ",P.createElement("code",{style:c},"errorElement")," prop on your route.")),P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},e),n?P.createElement("pre",{style:o},n):null,f)}var eT=P.createElement(J2,null),tT=class extends P.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,e){return e.location!==s.location||e.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:e.error,location:e.location,revalidation:s.revalidation||e.revalidation}}componentDidCatch(s,e){this.props.unstable_onError?this.props.unstable_onError(s,e):console.error("React Router caught the following error during render",s)}render(){return this.state.error!==void 0?P.createElement(Wn.Provider,{value:this.props.routeContext},P.createElement(Pm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function nT({routeContext:s,match:e,children:n}){let i=P.useContext(go);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),P.createElement(Wn.Provider,{value:s},n)}function rT(s,e=[],n=null,i=null,o=null){if(s==null){if(!n)return null;if(n.errors)s=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)s=n.matches;else return null}let c=s,f=n?.errors;if(f!=null){let y=c.findIndex(b=>b.route.id&&f?.[b.route.id]!==void 0);at(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),c=c.slice(0,Math.min(c.length,y+1))}let g=!1,p=-1;if(n)for(let y=0;y<c.length;y++){let b=c[y];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(p=y),b.route.id){let{loaderData:x,errors:A}=n,V=b.route.loader&&!x.hasOwnProperty(b.route.id)&&(!A||A[b.route.id]===void 0);if(b.route.lazy||V){g=!0,p>=0?c=c.slice(0,p+1):c=[c[0]];break}}}return c.reduceRight((y,b,x)=>{let A,V=!1,q=null,U=null;n&&(A=f&&b.route.id?f[b.route.id]:void 0,q=b.route.errorElement||eT,g&&(p<0&&x===0?(J_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),V=!0,U=null):p===x&&(V=!0,U=b.route.hydrateFallbackElement||null)));let F=e.concat(c.slice(0,x+1)),te=()=>{let X;return A?X=q:V?X=U:b.route.Component?X=P.createElement(b.route.Component,null):b.route.element?X=b.route.element:X=y,P.createElement(nT,{match:b,routeContext:{outlet:y,matches:F,isDataRoute:n!=null},children:X})};return n&&(b.route.ErrorBoundary||b.route.errorElement||x===0)?P.createElement(tT,{location:n.location,revalidation:n.revalidation,component:q,error:A,children:te(),routeContext:{outlet:null,matches:F,isDataRoute:!0},unstable_onError:i}):te()},null)}function Lm(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function sT(s){let e=P.useContext(go);return at(e,Lm(s)),e}function iT(s){let e=P.useContext(bh);return at(e,Lm(s)),e}function aT(s){let e=P.useContext(Wn);return at(e,Lm(s)),e}function Um(s){let e=aT(s),n=e.matches[e.matches.length-1];return at(n.route.id,`${s} can only be used on routes that contain a unique "id"`),n.route.id}function oT(){return Um("useRouteId")}function lT(){let s=P.useContext(Pm),e=iT("useRouteError"),n=Um("useRouteError");return s!==void 0?s:e.errors?.[n]}function cT(){let{router:s}=sT("useNavigate"),e=Um("useNavigate"),n=P.useRef(!1);return X_(()=>{n.current=!0}),P.useCallback(async(o,c={})=>{Kn(n.current,K_),n.current&&(typeof o=="number"?s.navigate(o):await s.navigate(o,{fromRouteId:e,...c}))},[s,e])}var hv={};function J_(s,e,n){!e&&!hv[s]&&(hv[s]=!0,Kn(!1,n))}P.memo(uT);function uT({routes:s,future:e,state:n,unstable_onError:i}){return W_(s,void 0,n,i,e)}function hT({to:s,replace:e,state:n,relative:i}){at(po(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=P.useContext(Zn);Kn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=P.useContext(Wn),{pathname:f}=jn(),g=$i(),p=km(s,Vm(c),f,i==="path"),y=JSON.stringify(p);return P.useEffect(()=>{g(JSON.parse(y),{replace:e,state:n,relative:i})},[g,y,i,e,n]),null}function Fn(s){at(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function fT({basename:s="/",children:e=null,location:n,navigationType:i="POP",navigator:o,static:c=!1}){at(!po(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=s.replace(/^\/*/,"/"),g=P.useMemo(()=>({basename:f,navigator:o,static:c,future:{}}),[f,o,c]);typeof n=="string"&&(n=mo(n));let{pathname:p="/",search:y="",hash:b="",state:x=null,key:A="default"}=n,V=P.useMemo(()=>{let q=Yr(p,f);return q==null?null:{location:{pathname:q,search:y,hash:b,state:x,key:A},navigationType:i}},[f,p,y,b,x,A,i]);return Kn(V!=null,`<Router basename="${f}"> is not able to match the URL "${p}${y}${b}" because it does not start with the basename, so the <Router> won't render anything.`),V==null?null:P.createElement(Zn.Provider,{value:g},P.createElement(rc.Provider,{children:e,value:V}))}function dT({children:s,location:e}){return W2(lm(s),e)}function lm(s,e=[]){let n=[];return P.Children.forEach(s,(i,o)=>{if(!P.isValidElement(i))return;let c=[...e,o];if(i.type===P.Fragment){n.push.apply(n,lm(i.props.children,c));return}at(i.type===Fn,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),at(!i.props.index||!i.props.children,"An index route cannot have child routes.");let f={id:i.props.id||c.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(f.children=lm(i.props.children,c)),n.push(f)}),n}var qu="get",Hu="application/x-www-form-urlencoded";function Eh(s){return s!=null&&typeof s.tagName=="string"}function mT(s){return Eh(s)&&s.tagName.toLowerCase()==="button"}function gT(s){return Eh(s)&&s.tagName.toLowerCase()==="form"}function pT(s){return Eh(s)&&s.tagName.toLowerCase()==="input"}function yT(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function vT(s,e){return s.button===0&&(!e||e==="_self")&&!yT(s)}var Mu=null;function _T(){if(Mu===null)try{new FormData(document.createElement("form"),0),Mu=!1}catch{Mu=!0}return Mu}var bT=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Yd(s){return s!=null&&!bT.has(s)?(Kn(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Hu}"`),null):s}function ET(s,e){let n,i,o,c,f;if(gT(s)){let g=s.getAttribute("action");i=g?Yr(g,e):null,n=s.getAttribute("method")||qu,o=Yd(s.getAttribute("enctype"))||Hu,c=new FormData(s)}else if(mT(s)||pT(s)&&(s.type==="submit"||s.type==="image")){let g=s.form;if(g==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=s.getAttribute("formaction")||g.getAttribute("action");if(i=p?Yr(p,e):null,n=s.getAttribute("formmethod")||g.getAttribute("method")||qu,o=Yd(s.getAttribute("formenctype"))||Yd(g.getAttribute("enctype"))||Hu,c=new FormData(g,s),!_T()){let{name:y,type:b,value:x}=s;if(b==="image"){let A=y?`${y}.`:"";c.append(`${A}x`,"0"),c.append(`${A}y`,"0")}else y&&c.append(y,x)}}else{if(Eh(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=qu,i=null,o=Hu,f=s}return c&&o==="text/plain"&&(f=c,c=void 0),{action:i,method:n.toLowerCase(),encType:o,formData:c,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function zm(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function xT(s,e,n){let i=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return i.pathname==="/"?i.pathname=`_root.${n}`:e&&Yr(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${n}`,i}async function TT(s,e){if(s.id in e)return e[s.id];try{let n=await import(s.module);return e[s.id]=n,n}catch(n){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function wT(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function ST(s,e,n){let i=await Promise.all(s.map(async o=>{let c=e.routes[o.route.id];if(c){let f=await TT(c,n);return f.links?f.links():[]}return[]}));return NT(i.flat(1).filter(wT).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function fv(s,e,n,i,o,c){let f=(p,y)=>n[y]?p.route.id!==n[y].route.id:!0,g=(p,y)=>n[y].pathname!==p.pathname||n[y].route.path?.endsWith("*")&&n[y].params["*"]!==p.params["*"];return c==="assets"?e.filter((p,y)=>f(p,y)||g(p,y)):c==="data"?e.filter((p,y)=>{let b=i.routes[p.route.id];if(!b||!b.hasLoader)return!1;if(f(p,y)||g(p,y))return!0;if(p.route.shouldRevalidate){let x=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(s,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function AT(s,e,{includeHydrateFallback:n}={}){return RT(s.map(i=>{let o=e.routes[i.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function RT(s){return[...new Set(s)]}function CT(s){let e={},n=Object.keys(s).sort();for(let i of n)e[i]=s[i];return e}function NT(s,e){let n=new Set;return new Set(e),s.reduce((i,o)=>{let c=JSON.stringify(CT(o));return n.has(c)||(n.add(c),i.push({key:c,link:o})),i},[])}function e1(){let s=P.useContext(go);return zm(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function IT(){let s=P.useContext(bh);return zm(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var Bm=P.createContext(void 0);Bm.displayName="FrameworkContext";function t1(){let s=P.useContext(Bm);return zm(s,"You must render this element inside a <HydratedRouter> element"),s}function DT(s,e){let n=P.useContext(Bm),[i,o]=P.useState(!1),[c,f]=P.useState(!1),{onFocus:g,onBlur:p,onMouseEnter:y,onMouseLeave:b,onTouchStart:x}=e,A=P.useRef(null);P.useEffect(()=>{if(s==="render"&&f(!0),s==="viewport"){let U=te=>{te.forEach(X=>{f(X.isIntersecting)})},F=new IntersectionObserver(U,{threshold:.5});return A.current&&F.observe(A.current),()=>{F.disconnect()}}},[s]),P.useEffect(()=>{if(i){let U=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(U)}}},[i]);let V=()=>{o(!0)},q=()=>{o(!1),f(!1)};return n?s!=="intent"?[c,A,{}]:[c,A,{onFocus:Ml(g,V),onBlur:Ml(p,q),onMouseEnter:Ml(y,V),onMouseLeave:Ml(b,q),onTouchStart:Ml(x,V)}]:[!1,A,{}]}function Ml(s,e){return n=>{s&&s(n),n.defaultPrevented||e(n)}}function jT({page:s,...e}){let{router:n}=e1(),i=P.useMemo(()=>F_(n.routes,s,n.basename),[n.routes,s,n.basename]);return i?P.createElement(MT,{page:s,matches:i,...e}):null}function OT(s){let{manifest:e,routeModules:n}=t1(),[i,o]=P.useState([]);return P.useEffect(()=>{let c=!1;return ST(s,e,n).then(f=>{c||o(f)}),()=>{c=!0}},[s,e,n]),i}function MT({page:s,matches:e,...n}){let i=jn(),{manifest:o,routeModules:c}=t1(),{basename:f}=e1(),{loaderData:g,matches:p}=IT(),y=P.useMemo(()=>fv(s,e,p,o,i,"data"),[s,e,p,o,i]),b=P.useMemo(()=>fv(s,e,p,o,i,"assets"),[s,e,p,o,i]),x=P.useMemo(()=>{if(s===i.pathname+i.search+i.hash)return[];let q=new Set,U=!1;if(e.forEach(te=>{let X=o.routes[te.route.id];!X||!X.hasLoader||(!y.some(re=>re.route.id===te.route.id)&&te.route.id in g&&c[te.route.id]?.shouldRevalidate||X.hasClientLoader?U=!0:q.add(te.route.id))}),q.size===0)return[];let F=xT(s,f,"data");return U&&q.size>0&&F.searchParams.set("_routes",e.filter(te=>q.has(te.route.id)).map(te=>te.route.id).join(",")),[F.pathname+F.search]},[f,g,i,o,y,e,s,c]),A=P.useMemo(()=>AT(b,o),[b,o]),V=OT(b);return P.createElement(P.Fragment,null,x.map(q=>P.createElement("link",{key:q,rel:"prefetch",as:"fetch",href:q,...n})),A.map(q=>P.createElement("link",{key:q,rel:"modulepreload",href:q,...n})),V.map(({key:q,link:U})=>P.createElement("link",{key:q,nonce:n.nonce,...U})))}function VT(...s){return e=>{s.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var n1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{n1&&(window.__reactRouterVersion="7.9.1")}catch{}function kT({basename:s,children:e,window:n}){let i=P.useRef();i.current==null&&(i.current=T2({window:n,v5Compat:!0}));let o=i.current,[c,f]=P.useState({action:o.action,location:o.location}),g=P.useCallback(p=>{P.startTransition(()=>f(p))},[f]);return P.useLayoutEffect(()=>o.listen(g),[o,g]),P.createElement(fT,{basename:s,children:e,location:c.location,navigationType:c.action,navigator:o})}var r1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,We=P.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:o,reloadDocument:c,replace:f,state:g,target:p,to:y,preventScrollReset:b,viewTransition:x,...A},V){let{basename:q}=P.useContext(Zn),U=typeof y=="string"&&r1.test(y),F,te=!1;if(typeof y=="string"&&U&&(F=y,n1))try{let R=new URL(window.location.href),D=y.startsWith("//")?new URL(R.protocol+y):new URL(y),j=Yr(D.pathname,q);D.origin===R.origin&&j!=null?y=j+D.search+D.hash:te=!0}catch{Kn(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let X=X2(y,{relative:o}),[re,xe,fe]=DT(i,A),he=zT(y,{replace:f,state:g,target:p,preventScrollReset:b,relative:o,viewTransition:x});function I(R){e&&e(R),R.defaultPrevented||he(R)}let S=P.createElement("a",{...A,...fe,href:F||X,onClick:te||c?e:I,ref:VT(V,xe),target:p,"data-discover":!U&&n==="render"?"true":void 0});return re&&!U?P.createElement(P.Fragment,null,S,P.createElement(jT,{page:X})):S});We.displayName="Link";var PT=P.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:o=!1,style:c,to:f,viewTransition:g,children:p,...y},b){let x=sc(f,{relative:y.relative}),A=jn(),V=P.useContext(bh),{navigator:q,basename:U}=P.useContext(Zn),F=V!=null&&GT(x)&&g===!0,te=q.encodeLocation?q.encodeLocation(x).pathname:x.pathname,X=A.pathname,re=V&&V.navigation&&V.navigation.location?V.navigation.location.pathname:null;n||(X=X.toLowerCase(),re=re?re.toLowerCase():null,te=te.toLowerCase()),re&&U&&(re=Yr(re,U)||re);const xe=te!=="/"&&te.endsWith("/")?te.length-1:te.length;let fe=X===te||!o&&X.startsWith(te)&&X.charAt(xe)==="/",he=re!=null&&(re===te||!o&&re.startsWith(te)&&re.charAt(te.length)==="/"),I={isActive:fe,isPending:he,isTransitioning:F},S=fe?e:void 0,R;typeof i=="function"?R=i(I):R=[i,fe?"active":null,he?"pending":null,F?"transitioning":null].filter(Boolean).join(" ");let D=typeof c=="function"?c(I):c;return P.createElement(We,{...y,"aria-current":S,className:R,ref:b,style:D,to:f,viewTransition:g},typeof p=="function"?p(I):p)});PT.displayName="NavLink";var LT=P.forwardRef(({discover:s="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:o,state:c,method:f=qu,action:g,onSubmit:p,relative:y,preventScrollReset:b,viewTransition:x,...A},V)=>{let q=HT(),U=FT(g,{relative:y}),F=f.toLowerCase()==="get"?"get":"post",te=typeof g=="string"&&r1.test(g),X=re=>{if(p&&p(re),re.defaultPrevented)return;re.preventDefault();let xe=re.nativeEvent.submitter,fe=xe?.getAttribute("formmethod")||f;q(xe||re.currentTarget,{fetcherKey:e,method:fe,navigate:n,replace:o,state:c,relative:y,preventScrollReset:b,viewTransition:x})};return P.createElement("form",{ref:V,method:F,action:U,onSubmit:i?p:X,...A,"data-discover":!te&&s==="render"?"true":void 0})});LT.displayName="Form";function UT(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function s1(s){let e=P.useContext(go);return at(e,UT(s)),e}function zT(s,{target:e,replace:n,state:i,preventScrollReset:o,relative:c,viewTransition:f}={}){let g=$i(),p=jn(),y=sc(s,{relative:c});return P.useCallback(b=>{if(vT(b,e)){b.preventDefault();let x=n!==void 0?n:Ql(p)===Ql(y);g(s,{replace:x,state:i,preventScrollReset:o,relative:c,viewTransition:f})}},[p,g,y,n,i,e,s,o,c,f])}var BT=0,qT=()=>`__${String(++BT)}__`;function HT(){let{router:s}=s1("useSubmit"),{basename:e}=P.useContext(Zn),n=oT();return P.useCallback(async(i,o={})=>{let{action:c,method:f,encType:g,formData:p,body:y}=ET(i,e);if(o.navigate===!1){let b=o.fetcherKey||qT();await s.fetch(b,n,o.action||c,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||f,formEncType:o.encType||g,flushSync:o.flushSync})}else await s.navigate(o.action||c,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||f,formEncType:o.encType||g,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[s,e,n])}function FT(s,{relative:e}={}){let{basename:n}=P.useContext(Zn),i=P.useContext(Wn);at(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),c={...sc(s||".",{relative:e})},f=jn();if(s==null){c.search=f.search;let g=new URLSearchParams(c.search),p=g.getAll("index");if(p.some(b=>b==="")){g.delete("index"),p.filter(x=>x).forEach(x=>g.append("index",x));let b=g.toString();c.search=b?`?${b}`:""}}return(!s||s===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(c.pathname=c.pathname==="/"?n:Gr([n,c.pathname])),Ql(c)}function GT(s,{relative:e}={}){let n=P.useContext($_);at(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=s1("useViewTransitionState"),o=sc(s,{relative:e});if(!n.isTransitioning)return!1;let c=Yr(n.currentLocation.pathname,i)||n.currentLocation.pathname,f=Yr(n.nextLocation.pathname,i)||n.nextLocation.pathname;return eh(o.pathname,f)!=null||eh(o.pathname,c)!=null}const i1=P.createContext();function xh(){const s=P.useContext(i1);if(!s)throw new Error("useCart debe ser usado dentro de CartProvider");return s}function QT({children:s}){const[e,n]=P.useState(()=>{try{const V=localStorage.getItem("catalog-cart");return V?JSON.parse(V):[]}catch(V){return console.error("Error loading cart from localStorage:",V),[]}}),[i,o]=P.useState(!1);P.useEffect(()=>{try{localStorage.setItem("catalog-cart",JSON.stringify(e))}catch(V){console.error("Error saving cart to localStorage:",V)}},[e]);const c=(V,q=1)=>{n(U=>U.find(te=>te.id===V.id)?U.map(te=>te.id===V.id?{...te,quantity:te.quantity+q}:te):[...U,{...V,quantity:q}])},f=V=>{n(q=>q.filter(U=>U.id!==V))},A={cart:e,addToCart:c,removeFromCart:f,updateQuantity:(V,q)=>{if(q<=0){f(V);return}n(U=>U.map(F=>F.id===V?{...F,quantity:q}:F))},clearCart:()=>{n([])},getCartTotal:()=>e.reduce((V,q)=>{const U=q.precio?parseFloat(q.precio.replace(/[.$,]/g,"")):q.price||0;return V+U*q.quantity},0),getCartItemsCount:()=>e.reduce((V,q)=>V+q.quantity,0),isCartOpen:i,toggleCart:()=>{o(!i)},setIsCartOpen:o};return m.jsx(i1.Provider,{value:A,children:s})}const a1=P.createContext();function qm(){const s=P.useContext(a1);if(!s)throw new Error("useTheme debe ser usado dentro de ThemeProvider");return s}const Vl={default:{name:"default",colors:{primary:"#000000",primaryHover:"#374151",background:"#ffffff",accent:"#f3f4f6",text:"#111827",textSecondary:"#6b7280",badgeText:"#ffffff",counterText:"#6b7280",buttonPrimary:"#000000",buttonPrimaryHover:"#374151",buttonText:"#ffffff"}},mujer:{name:"mujer",colors:{primary:"#EECBC8",primaryHover:"#E5B3AF",background:"#ffffff",accent:"#FDF2F1",text:"#8B5A5A",textSecondary:"#A67B7B",badgeText:"#ffffff",counterText:"#8B5A5A",buttonPrimary:"#EECBC8",buttonPrimaryHover:"#E5B3AF",buttonText:"#ffffff"}},hombre:{name:"hombre",colors:{primary:"#EDEDED",primaryHover:"#D1D1D1",background:"#ffffff",accent:"#F8F8F8",text:"#4A4A4A",textSecondary:"#6B6B6B",badgeText:"#2D2D2D",counterText:"#2D2D2D",buttonPrimary:"#4A4A4A",buttonPrimaryHover:"#2D2D2D",buttonText:"#ffffff"}}};function YT({children:s}){const[e,n]=P.useState(Vl.default),i=jn();P.useEffect(()=>{const f=new URLSearchParams(i.search).get("section");n(f==="mujer"?Vl.mujer:f==="hombre"?Vl.hombre:Vl.default)},[i]);const o={currentTheme:e,themes:Vl,setTheme:n,isDefaultTheme:e.name==="default",isMujerTheme:e.name==="mujer",isHombreTheme:e.name==="hombre"};return m.jsx(a1.Provider,{value:o,children:s})}const o1=P.createContext();function Hm(){const s=P.useContext(o1);if(!s)throw new Error("useAuth debe ser usado dentro de AuthProvider");return s}function $T({children:s}){const[e,n]=P.useState(!1),[i,o]=P.useState(!0),c="clery2025admin";P.useEffect(()=>{const y=localStorage.getItem("clery_admin_logged")==="true";n(y),o(!1)},[]);const p={isAuthenticated:e,login:y=>y===c?(n(!0),localStorage.setItem("clery_admin_logged","true"),!0):!1,logout:()=>{n(!1),localStorage.removeItem("clery_admin_logged")},loading:i};return m.jsx(o1.Provider,{value:p,children:s})}const KT=()=>{};var dv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l1=function(s){const e=[];let n=0;for(let i=0;i<s.length;i++){let o=s.charCodeAt(i);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&i+1<s.length&&(s.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++i)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},XT=function(s){const e=[];let n=0,i=0;for(;n<s.length;){const o=s[n++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const c=s[n++];e[i++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=s[n++],f=s[n++],g=s[n++],p=((o&7)<<18|(c&63)<<12|(f&63)<<6|g&63)-65536;e[i++]=String.fromCharCode(55296+(p>>10)),e[i++]=String.fromCharCode(56320+(p&1023))}else{const c=s[n++],f=s[n++];e[i++]=String.fromCharCode((o&15)<<12|(c&63)<<6|f&63)}}return e.join("")},c1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<s.length;o+=3){const c=s[o],f=o+1<s.length,g=f?s[o+1]:0,p=o+2<s.length,y=p?s[o+2]:0,b=c>>2,x=(c&3)<<4|g>>4;let A=(g&15)<<2|y>>6,V=y&63;p||(V=64,f||(A=64)),i.push(n[b],n[x],n[A],n[V])}return i.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(l1(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):XT(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<s.length;){const c=n[s.charAt(o++)],g=o<s.length?n[s.charAt(o)]:0;++o;const y=o<s.length?n[s.charAt(o)]:64;++o;const x=o<s.length?n[s.charAt(o)]:64;if(++o,c==null||g==null||y==null||x==null)throw new ZT;const A=c<<2|g>>4;if(i.push(A),y!==64){const V=g<<4&240|y>>2;if(i.push(V),x!==64){const q=y<<6&192|x;i.push(q)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class ZT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const WT=function(s){const e=l1(s);return c1.encodeByteArray(e,!0)},th=function(s){return WT(s).replace(/\./g,"")},u1=function(s){try{return c1.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ew=()=>JT().__FIREBASE_DEFAULTS__,tw=()=>{if(typeof process>"u"||typeof dv>"u")return;const s=dv.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},nw=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&u1(s[1]);return e&&JSON.parse(e)},Th=()=>{try{return KT()||ew()||tw()||nw()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},h1=s=>Th()?.emulatorHosts?.[s],rw=s=>{const e=h1(s);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},f1=()=>Th()?.config,d1=s=>Th()?.[`_${s}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yo(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function m1(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iw(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",o=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[th(JSON.stringify(n)),th(JSON.stringify(f)),""].join(".")}const zl={};function aw(){const s={prod:[],emulator:[]};for(const e of Object.keys(zl))zl[e]?s.emulator.push(e):s.prod.push(e);return s}function ow(s){let e=document.getElementById(s),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),n=!0),{created:n,element:e}}let mv=!1;function g1(s,e){if(typeof window>"u"||typeof document>"u"||!yo(window.location.host)||zl[s]===e||zl[s]||mv)return;zl[s]=e;function n(A){return`__firebase__banner__${A}`}const i="__firebase__banner",c=aw().prod.length>0;function f(){const A=document.getElementById(i);A&&A.remove()}function g(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function p(A,V){A.setAttribute("width","24"),A.setAttribute("id",V),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function y(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{mv=!0,f()},A}function b(A,V){A.setAttribute("id",V),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function x(){const A=ow(i),V=n("text"),q=document.getElementById(V)||document.createElement("span"),U=n("learnmore"),F=document.getElementById(U)||document.createElement("a"),te=n("preprendIcon"),X=document.getElementById(te)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const re=A.element;g(re),b(F,U);const xe=y();p(X,te),re.append(X,q,F,xe),document.body.appendChild(re)}c?(q.innerText="Preview backend disconnected.",X.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(X.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,q.innerText="Preview backend running in this workspace."),q.setAttribute("id",V)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",x):x()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function lw(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Zt())}function cw(){const s=Th()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function uw(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function hw(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function fw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function dw(){const s=Zt();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function mw(){return!cw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function gw(){try{return typeof indexedDB=="object"}catch{return!1}}function pw(){return new Promise((s,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(i),s(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yw="FirebaseError";class es extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=yw,Object.setPrototypeOf(this,es.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ic.prototype.create)}}class ic{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},o=`${this.service}/${e}`,c=this.errors[e],f=c?vw(c,i):"Error",g=`${this.serviceName}: ${f} (${o}).`;return new es(o,g,i)}}function vw(s,e){return s.replace(_w,(n,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const _w=/\{\$([^}]+)}/g;function bw(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function Hi(s,e){if(s===e)return!0;const n=Object.keys(s),i=Object.keys(e);for(const o of n){if(!i.includes(o))return!1;const c=s[o],f=e[o];if(gv(c)&&gv(f)){if(!Hi(c,f))return!1}else if(c!==f)return!1}for(const o of i)if(!n.includes(o))return!1;return!0}function gv(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ac(s){const e=[];for(const[n,i]of Object.entries(s))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Ew(s,e){const n=new xw(s,e);return n.subscribe.bind(n)}class xw{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let o;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");Tw(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:i},o.next===void 0&&(o.next=$d),o.error===void 0&&(o.error=$d),o.complete===void 0&&(o.complete=$d);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Tw(s,e){if(typeof s!="object"||s===null)return!1;for(const n of e)if(n in s&&typeof s[n]=="function")return!0;return!1}function $d(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dn(s){return s&&s._delegate?s._delegate:s}class Fi{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ui="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new sw;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Aw(e))try{this.getOrInitializeService({instanceIdentifier:Ui})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:o});i.resolve(c)}catch{}}}}clearInstance(e=Ui){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ui){return this.instances.has(e)}getOptions(e=Ui){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[c,f]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);i===g&&f.resolve(o)}return o}onInit(e,n){const i=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(i)??new Set;o.add(e),this.onInitCallbacks.set(i,o);const c=this.instances.get(i);return c&&e(c,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const o of i)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:Sw(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Ui){return this.component?this.component.multipleInstances?e:Ui:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Sw(s){return s===Ui?void 0:s}function Aw(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rw{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new ww(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oe;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Oe||(Oe={}));const Cw={debug:Oe.DEBUG,verbose:Oe.VERBOSE,info:Oe.INFO,warn:Oe.WARN,error:Oe.ERROR,silent:Oe.SILENT},Nw=Oe.INFO,Iw={[Oe.DEBUG]:"log",[Oe.VERBOSE]:"log",[Oe.INFO]:"info",[Oe.WARN]:"warn",[Oe.ERROR]:"error"},Dw=(s,e,...n)=>{if(e<s.logLevel)return;const i=new Date().toISOString(),o=Iw[e];if(o)console[o](`[${i}]  ${s.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Fm{constructor(e){this.name=e,this._logLevel=Nw,this._logHandler=Dw,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Cw[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Oe.DEBUG,...e),this._logHandler(this,Oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Oe.VERBOSE,...e),this._logHandler(this,Oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Oe.INFO,...e),this._logHandler(this,Oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Oe.WARN,...e),this._logHandler(this,Oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Oe.ERROR,...e),this._logHandler(this,Oe.ERROR,...e)}}const jw=(s,e)=>e.some(n=>s instanceof n);let pv,yv;function Ow(){return pv||(pv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Mw(){return yv||(yv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const p1=new WeakMap,cm=new WeakMap,y1=new WeakMap,Kd=new WeakMap,Gm=new WeakMap;function Vw(s){const e=new Promise((n,i)=>{const o=()=>{s.removeEventListener("success",c),s.removeEventListener("error",f)},c=()=>{n(Fs(s.result)),o()},f=()=>{i(s.error),o()};s.addEventListener("success",c),s.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&p1.set(n,s)}).catch(()=>{}),Gm.set(e,s),e}function kw(s){if(cm.has(s))return;const e=new Promise((n,i)=>{const o=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",f),s.removeEventListener("abort",f)},c=()=>{n(),o()},f=()=>{i(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",c),s.addEventListener("error",f),s.addEventListener("abort",f)});cm.set(s,e)}let um={get(s,e,n){if(s instanceof IDBTransaction){if(e==="done")return cm.get(s);if(e==="objectStoreNames")return s.objectStoreNames||y1.get(s);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Fs(s[e])},set(s,e,n){return s[e]=n,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function Pw(s){um=s(um)}function Lw(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=s.call(Xd(this),e,...n);return y1.set(i,e.sort?e.sort():[e]),Fs(i)}:Mw().includes(s)?function(...e){return s.apply(Xd(this),e),Fs(p1.get(this))}:function(...e){return Fs(s.apply(Xd(this),e))}}function Uw(s){return typeof s=="function"?Lw(s):(s instanceof IDBTransaction&&kw(s),jw(s,Ow())?new Proxy(s,um):s)}function Fs(s){if(s instanceof IDBRequest)return Vw(s);if(Kd.has(s))return Kd.get(s);const e=Uw(s);return e!==s&&(Kd.set(s,e),Gm.set(e,s)),e}const Xd=s=>Gm.get(s);function zw(s,e,{blocked:n,upgrade:i,blocking:o,terminated:c}={}){const f=indexedDB.open(s,e),g=Fs(f);return i&&f.addEventListener("upgradeneeded",p=>{i(Fs(f.result),p.oldVersion,p.newVersion,Fs(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),g.then(p=>{c&&p.addEventListener("close",()=>c()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),g}const Bw=["get","getKey","getAll","getAllKeys","count"],qw=["put","add","delete","clear"],Zd=new Map;function vv(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Zd.get(e))return Zd.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,o=qw.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(o||Bw.includes(n)))return;const c=async function(f,...g){const p=this.transaction(f,o?"readwrite":"readonly");let y=p.store;return i&&(y=y.index(g.shift())),(await Promise.all([y[n](...g),o&&p.done]))[0]};return Zd.set(e,c),c}Pw(s=>({...s,get:(e,n,i)=>vv(e,n)||s.get(e,n,i),has:(e,n)=>!!vv(e,n)||s.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Fw(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function Fw(s){return s.getComponent()?.type==="VERSION"}const hm="@firebase/app",_v="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $r=new Fm("@firebase/app"),Gw="@firebase/app-compat",Qw="@firebase/analytics-compat",Yw="@firebase/analytics",$w="@firebase/app-check-compat",Kw="@firebase/app-check",Xw="@firebase/auth",Zw="@firebase/auth-compat",Ww="@firebase/database",Jw="@firebase/data-connect",eS="@firebase/database-compat",tS="@firebase/functions",nS="@firebase/functions-compat",rS="@firebase/installations",sS="@firebase/installations-compat",iS="@firebase/messaging",aS="@firebase/messaging-compat",oS="@firebase/performance",lS="@firebase/performance-compat",cS="@firebase/remote-config",uS="@firebase/remote-config-compat",hS="@firebase/storage",fS="@firebase/storage-compat",dS="@firebase/firestore",mS="@firebase/ai",gS="@firebase/firestore-compat",pS="firebase",yS="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fm="[DEFAULT]",vS={[hm]:"fire-core",[Gw]:"fire-core-compat",[Yw]:"fire-analytics",[Qw]:"fire-analytics-compat",[Kw]:"fire-app-check",[$w]:"fire-app-check-compat",[Xw]:"fire-auth",[Zw]:"fire-auth-compat",[Ww]:"fire-rtdb",[Jw]:"fire-data-connect",[eS]:"fire-rtdb-compat",[tS]:"fire-fn",[nS]:"fire-fn-compat",[rS]:"fire-iid",[sS]:"fire-iid-compat",[iS]:"fire-fcm",[aS]:"fire-fcm-compat",[oS]:"fire-perf",[lS]:"fire-perf-compat",[cS]:"fire-rc",[uS]:"fire-rc-compat",[hS]:"fire-gcs",[fS]:"fire-gcs-compat",[dS]:"fire-fst",[gS]:"fire-fst-compat",[mS]:"fire-vertex","fire-js":"fire-js",[pS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nh=new Map,_S=new Map,dm=new Map;function bv(s,e){try{s.container.addComponent(e)}catch(n){$r.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,n)}}function io(s){const e=s.name;if(dm.has(e))return $r.debug(`There were multiple attempts to register component ${e}.`),!1;dm.set(e,s);for(const n of nh.values())bv(n,s);for(const n of _S.values())bv(n,s);return!0}function Qm(s,e){const n=s.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),s.container.getProvider(e)}function mr(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Gs=new ic("app","Firebase",bS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{constructor(e,n,i){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Fi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Gs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vo=yS;function v1(s,e={}){let n=s;typeof e!="object"&&(e={name:e});const i={name:fm,automaticDataCollectionEnabled:!0,...e},o=i.name;if(typeof o!="string"||!o)throw Gs.create("bad-app-name",{appName:String(o)});if(n||(n=f1()),!n)throw Gs.create("no-options");const c=nh.get(o);if(c){if(Hi(n,c.options)&&Hi(i,c.config))return c;throw Gs.create("duplicate-app",{appName:o})}const f=new Rw(o);for(const p of dm.values())f.addComponent(p);const g=new ES(n,i,f);return nh.set(o,g),g}function _1(s=fm){const e=nh.get(s);if(!e&&s===fm&&f1())return v1();if(!e)throw Gs.create("no-app",{appName:s});return e}function Qs(s,e,n){let i=vS[s]??s;n&&(i+=`-${n}`);const o=i.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const f=[`Unable to register library "${i}" with version "${e}":`];o&&f.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&c&&f.push("and"),c&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),$r.warn(f.join(" "));return}io(new Fi(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xS="firebase-heartbeat-database",TS=1,Yl="firebase-heartbeat-store";let Wd=null;function b1(){return Wd||(Wd=zw(xS,TS,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Yl)}catch(n){console.warn(n)}}}}).catch(s=>{throw Gs.create("idb-open",{originalErrorMessage:s.message})})),Wd}async function wS(s){try{const n=(await b1()).transaction(Yl),i=await n.objectStore(Yl).get(E1(s));return await n.done,i}catch(e){if(e instanceof es)$r.warn(e.message);else{const n=Gs.create("idb-get",{originalErrorMessage:e?.message});$r.warn(n.message)}}}async function Ev(s,e){try{const i=(await b1()).transaction(Yl,"readwrite");await i.objectStore(Yl).put(e,E1(s)),await i.done}catch(n){if(n instanceof es)$r.warn(n.message);else{const i=Gs.create("idb-set",{originalErrorMessage:n?.message});$r.warn(i.message)}}}function E1(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SS=1024,AS=30;class RS{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new NS(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=xv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats.length>AS){const o=IS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){$r.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=xv(),{heartbeatsToSend:n,unsentEntries:i}=CS(this._heartbeatsCache.heartbeats),o=th(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return $r.warn(e),""}}}function xv(){return new Date().toISOString().substring(0,10)}function CS(s,e=SS){const n=[];let i=s.slice();for(const o of s){const c=n.find(f=>f.agent===o.agent);if(c){if(c.dates.push(o.date),Tv(n)>e){c.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Tv(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class NS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return gw()?pw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await wS(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return Ev(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return Ev(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Tv(s){return th(JSON.stringify({version:2,heartbeats:s})).length}function IS(s){if(s.length===0)return-1;let e=0,n=s[0].date;for(let i=1;i<s.length;i++)s[i].date<n&&(n=s[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DS(s){io(new Fi("platform-logger",e=>new Hw(e),"PRIVATE")),io(new Fi("heartbeat",e=>new RS(e),"PRIVATE")),Qs(hm,_v,s),Qs(hm,_v,"esm2020"),Qs("fire-js","")}DS("");var wv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ys,x1;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,S){function R(){}R.prototype=S.prototype,I.F=S.prototype,I.prototype=new R,I.prototype.constructor=I,I.D=function(D,j,k){for(var C=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)C[Be-2]=arguments[Be];return S.prototype[j].apply(D,C)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,n),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,S,R){R||(R=0);const D=Array(16);if(typeof S=="string")for(var j=0;j<16;++j)D[j]=S.charCodeAt(R++)|S.charCodeAt(R++)<<8|S.charCodeAt(R++)<<16|S.charCodeAt(R++)<<24;else for(j=0;j<16;++j)D[j]=S[R++]|S[R++]<<8|S[R++]<<16|S[R++]<<24;S=I.g[0],R=I.g[1],j=I.g[2];let k=I.g[3],C;C=S+(k^R&(j^k))+D[0]+3614090360&4294967295,S=R+(C<<7&4294967295|C>>>25),C=k+(j^S&(R^j))+D[1]+3905402710&4294967295,k=S+(C<<12&4294967295|C>>>20),C=j+(R^k&(S^R))+D[2]+606105819&4294967295,j=k+(C<<17&4294967295|C>>>15),C=R+(S^j&(k^S))+D[3]+3250441966&4294967295,R=j+(C<<22&4294967295|C>>>10),C=S+(k^R&(j^k))+D[4]+4118548399&4294967295,S=R+(C<<7&4294967295|C>>>25),C=k+(j^S&(R^j))+D[5]+1200080426&4294967295,k=S+(C<<12&4294967295|C>>>20),C=j+(R^k&(S^R))+D[6]+2821735955&4294967295,j=k+(C<<17&4294967295|C>>>15),C=R+(S^j&(k^S))+D[7]+4249261313&4294967295,R=j+(C<<22&4294967295|C>>>10),C=S+(k^R&(j^k))+D[8]+1770035416&4294967295,S=R+(C<<7&4294967295|C>>>25),C=k+(j^S&(R^j))+D[9]+2336552879&4294967295,k=S+(C<<12&4294967295|C>>>20),C=j+(R^k&(S^R))+D[10]+4294925233&4294967295,j=k+(C<<17&4294967295|C>>>15),C=R+(S^j&(k^S))+D[11]+2304563134&4294967295,R=j+(C<<22&4294967295|C>>>10),C=S+(k^R&(j^k))+D[12]+1804603682&4294967295,S=R+(C<<7&4294967295|C>>>25),C=k+(j^S&(R^j))+D[13]+4254626195&4294967295,k=S+(C<<12&4294967295|C>>>20),C=j+(R^k&(S^R))+D[14]+2792965006&4294967295,j=k+(C<<17&4294967295|C>>>15),C=R+(S^j&(k^S))+D[15]+1236535329&4294967295,R=j+(C<<22&4294967295|C>>>10),C=S+(j^k&(R^j))+D[1]+4129170786&4294967295,S=R+(C<<5&4294967295|C>>>27),C=k+(R^j&(S^R))+D[6]+3225465664&4294967295,k=S+(C<<9&4294967295|C>>>23),C=j+(S^R&(k^S))+D[11]+643717713&4294967295,j=k+(C<<14&4294967295|C>>>18),C=R+(k^S&(j^k))+D[0]+3921069994&4294967295,R=j+(C<<20&4294967295|C>>>12),C=S+(j^k&(R^j))+D[5]+3593408605&4294967295,S=R+(C<<5&4294967295|C>>>27),C=k+(R^j&(S^R))+D[10]+38016083&4294967295,k=S+(C<<9&4294967295|C>>>23),C=j+(S^R&(k^S))+D[15]+3634488961&4294967295,j=k+(C<<14&4294967295|C>>>18),C=R+(k^S&(j^k))+D[4]+3889429448&4294967295,R=j+(C<<20&4294967295|C>>>12),C=S+(j^k&(R^j))+D[9]+568446438&4294967295,S=R+(C<<5&4294967295|C>>>27),C=k+(R^j&(S^R))+D[14]+3275163606&4294967295,k=S+(C<<9&4294967295|C>>>23),C=j+(S^R&(k^S))+D[3]+4107603335&4294967295,j=k+(C<<14&4294967295|C>>>18),C=R+(k^S&(j^k))+D[8]+1163531501&4294967295,R=j+(C<<20&4294967295|C>>>12),C=S+(j^k&(R^j))+D[13]+2850285829&4294967295,S=R+(C<<5&4294967295|C>>>27),C=k+(R^j&(S^R))+D[2]+4243563512&4294967295,k=S+(C<<9&4294967295|C>>>23),C=j+(S^R&(k^S))+D[7]+1735328473&4294967295,j=k+(C<<14&4294967295|C>>>18),C=R+(k^S&(j^k))+D[12]+2368359562&4294967295,R=j+(C<<20&4294967295|C>>>12),C=S+(R^j^k)+D[5]+4294588738&4294967295,S=R+(C<<4&4294967295|C>>>28),C=k+(S^R^j)+D[8]+2272392833&4294967295,k=S+(C<<11&4294967295|C>>>21),C=j+(k^S^R)+D[11]+1839030562&4294967295,j=k+(C<<16&4294967295|C>>>16),C=R+(j^k^S)+D[14]+4259657740&4294967295,R=j+(C<<23&4294967295|C>>>9),C=S+(R^j^k)+D[1]+2763975236&4294967295,S=R+(C<<4&4294967295|C>>>28),C=k+(S^R^j)+D[4]+1272893353&4294967295,k=S+(C<<11&4294967295|C>>>21),C=j+(k^S^R)+D[7]+4139469664&4294967295,j=k+(C<<16&4294967295|C>>>16),C=R+(j^k^S)+D[10]+3200236656&4294967295,R=j+(C<<23&4294967295|C>>>9),C=S+(R^j^k)+D[13]+681279174&4294967295,S=R+(C<<4&4294967295|C>>>28),C=k+(S^R^j)+D[0]+3936430074&4294967295,k=S+(C<<11&4294967295|C>>>21),C=j+(k^S^R)+D[3]+3572445317&4294967295,j=k+(C<<16&4294967295|C>>>16),C=R+(j^k^S)+D[6]+76029189&4294967295,R=j+(C<<23&4294967295|C>>>9),C=S+(R^j^k)+D[9]+3654602809&4294967295,S=R+(C<<4&4294967295|C>>>28),C=k+(S^R^j)+D[12]+3873151461&4294967295,k=S+(C<<11&4294967295|C>>>21),C=j+(k^S^R)+D[15]+530742520&4294967295,j=k+(C<<16&4294967295|C>>>16),C=R+(j^k^S)+D[2]+3299628645&4294967295,R=j+(C<<23&4294967295|C>>>9),C=S+(j^(R|~k))+D[0]+4096336452&4294967295,S=R+(C<<6&4294967295|C>>>26),C=k+(R^(S|~j))+D[7]+1126891415&4294967295,k=S+(C<<10&4294967295|C>>>22),C=j+(S^(k|~R))+D[14]+2878612391&4294967295,j=k+(C<<15&4294967295|C>>>17),C=R+(k^(j|~S))+D[5]+4237533241&4294967295,R=j+(C<<21&4294967295|C>>>11),C=S+(j^(R|~k))+D[12]+1700485571&4294967295,S=R+(C<<6&4294967295|C>>>26),C=k+(R^(S|~j))+D[3]+2399980690&4294967295,k=S+(C<<10&4294967295|C>>>22),C=j+(S^(k|~R))+D[10]+4293915773&4294967295,j=k+(C<<15&4294967295|C>>>17),C=R+(k^(j|~S))+D[1]+2240044497&4294967295,R=j+(C<<21&4294967295|C>>>11),C=S+(j^(R|~k))+D[8]+1873313359&4294967295,S=R+(C<<6&4294967295|C>>>26),C=k+(R^(S|~j))+D[15]+4264355552&4294967295,k=S+(C<<10&4294967295|C>>>22),C=j+(S^(k|~R))+D[6]+2734768916&4294967295,j=k+(C<<15&4294967295|C>>>17),C=R+(k^(j|~S))+D[13]+1309151649&4294967295,R=j+(C<<21&4294967295|C>>>11),C=S+(j^(R|~k))+D[4]+4149444226&4294967295,S=R+(C<<6&4294967295|C>>>26),C=k+(R^(S|~j))+D[11]+3174756917&4294967295,k=S+(C<<10&4294967295|C>>>22),C=j+(S^(k|~R))+D[2]+718787259&4294967295,j=k+(C<<15&4294967295|C>>>17),C=R+(k^(j|~S))+D[9]+3951481745&4294967295,I.g[0]=I.g[0]+S&4294967295,I.g[1]=I.g[1]+(j+(C<<21&4294967295|C>>>11))&4294967295,I.g[2]=I.g[2]+j&4294967295,I.g[3]=I.g[3]+k&4294967295}i.prototype.v=function(I,S){S===void 0&&(S=I.length);const R=S-this.blockSize,D=this.C;let j=this.h,k=0;for(;k<S;){if(j==0)for(;k<=R;)o(this,I,k),k+=this.blockSize;if(typeof I=="string"){for(;k<S;)if(D[j++]=I.charCodeAt(k++),j==this.blockSize){o(this,D),j=0;break}}else for(;k<S;)if(D[j++]=I[k++],j==this.blockSize){o(this,D),j=0;break}}this.h=j,this.o+=S},i.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var S=1;S<I.length-8;++S)I[S]=0;S=this.o*8;for(var R=I.length-8;R<I.length;++R)I[R]=S&255,S/=256;for(this.v(I),I=Array(16),S=0,R=0;R<4;++R)for(let D=0;D<32;D+=8)I[S++]=this.g[R]>>>D&255;return I};function c(I,S){var R=g;return Object.prototype.hasOwnProperty.call(R,I)?R[I]:R[I]=S(I)}function f(I,S){this.h=S;const R=[];let D=!0;for(let j=I.length-1;j>=0;j--){const k=I[j]|0;D&&k==S||(R[j]=k,D=!1)}this.g=R}var g={};function p(I){return-128<=I&&I<128?c(I,function(S){return new f([S|0],S<0?-1:0)}):new f([I|0],I<0?-1:0)}function y(I){if(isNaN(I)||!isFinite(I))return x;if(I<0)return F(y(-I));const S=[];let R=1;for(let D=0;I>=R;D++)S[D]=I/R|0,R*=4294967296;return new f(S,0)}function b(I,S){if(I.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(I.charAt(0)=="-")return F(b(I.substring(1),S));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=y(Math.pow(S,8));let D=x;for(let k=0;k<I.length;k+=8){var j=Math.min(8,I.length-k);const C=parseInt(I.substring(k,k+j),S);j<8?(j=y(Math.pow(S,j)),D=D.j(j).add(y(C))):(D=D.j(R),D=D.add(y(C)))}return D}var x=p(0),A=p(1),V=p(16777216);s=f.prototype,s.m=function(){if(U(this))return-F(this).m();let I=0,S=1;for(let R=0;R<this.g.length;R++){const D=this.i(R);I+=(D>=0?D:4294967296+D)*S,S*=4294967296}return I},s.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(q(this))return"0";if(U(this))return"-"+F(this).toString(I);const S=y(Math.pow(I,6));var R=this;let D="";for(;;){const j=xe(R,S).g;R=te(R,j.j(S));let k=((R.g.length>0?R.g[0]:R.h)>>>0).toString(I);if(R=j,q(R))return k+D;for(;k.length<6;)k="0"+k;D=k+D}},s.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function q(I){if(I.h!=0)return!1;for(let S=0;S<I.g.length;S++)if(I.g[S]!=0)return!1;return!0}function U(I){return I.h==-1}s.l=function(I){return I=te(this,I),U(I)?-1:q(I)?0:1};function F(I){const S=I.g.length,R=[];for(let D=0;D<S;D++)R[D]=~I.g[D];return new f(R,~I.h).add(A)}s.abs=function(){return U(this)?F(this):this},s.add=function(I){const S=Math.max(this.g.length,I.g.length),R=[];let D=0;for(let j=0;j<=S;j++){let k=D+(this.i(j)&65535)+(I.i(j)&65535),C=(k>>>16)+(this.i(j)>>>16)+(I.i(j)>>>16);D=C>>>16,k&=65535,C&=65535,R[j]=C<<16|k}return new f(R,R[R.length-1]&-2147483648?-1:0)};function te(I,S){return I.add(F(S))}s.j=function(I){if(q(this)||q(I))return x;if(U(this))return U(I)?F(this).j(F(I)):F(F(this).j(I));if(U(I))return F(this.j(F(I)));if(this.l(V)<0&&I.l(V)<0)return y(this.m()*I.m());const S=this.g.length+I.g.length,R=[];for(var D=0;D<2*S;D++)R[D]=0;for(D=0;D<this.g.length;D++)for(let j=0;j<I.g.length;j++){const k=this.i(D)>>>16,C=this.i(D)&65535,Be=I.i(j)>>>16,st=I.i(j)&65535;R[2*D+2*j]+=C*st,X(R,2*D+2*j),R[2*D+2*j+1]+=k*st,X(R,2*D+2*j+1),R[2*D+2*j+1]+=C*Be,X(R,2*D+2*j+1),R[2*D+2*j+2]+=k*Be,X(R,2*D+2*j+2)}for(I=0;I<S;I++)R[I]=R[2*I+1]<<16|R[2*I];for(I=S;I<2*S;I++)R[I]=0;return new f(R,0)};function X(I,S){for(;(I[S]&65535)!=I[S];)I[S+1]+=I[S]>>>16,I[S]&=65535,S++}function re(I,S){this.g=I,this.h=S}function xe(I,S){if(q(S))throw Error("division by zero");if(q(I))return new re(x,x);if(U(I))return S=xe(F(I),S),new re(F(S.g),F(S.h));if(U(S))return S=xe(I,F(S)),new re(F(S.g),S.h);if(I.g.length>30){if(U(I)||U(S))throw Error("slowDivide_ only works with positive integers.");for(var R=A,D=S;D.l(I)<=0;)R=fe(R),D=fe(D);var j=he(R,1),k=he(D,1);for(D=he(D,2),R=he(R,2);!q(D);){var C=k.add(D);C.l(I)<=0&&(j=j.add(R),k=C),D=he(D,1),R=he(R,1)}return S=te(I,j.j(S)),new re(j,S)}for(j=x;I.l(S)>=0;){for(R=Math.max(1,Math.floor(I.m()/S.m())),D=Math.ceil(Math.log(R)/Math.LN2),D=D<=48?1:Math.pow(2,D-48),k=y(R),C=k.j(S);U(C)||C.l(I)>0;)R-=D,k=y(R),C=k.j(S);q(k)&&(k=A),j=j.add(k),I=te(I,C)}return new re(j,I)}s.B=function(I){return xe(this,I).h},s.and=function(I){const S=Math.max(this.g.length,I.g.length),R=[];for(let D=0;D<S;D++)R[D]=this.i(D)&I.i(D);return new f(R,this.h&I.h)},s.or=function(I){const S=Math.max(this.g.length,I.g.length),R=[];for(let D=0;D<S;D++)R[D]=this.i(D)|I.i(D);return new f(R,this.h|I.h)},s.xor=function(I){const S=Math.max(this.g.length,I.g.length),R=[];for(let D=0;D<S;D++)R[D]=this.i(D)^I.i(D);return new f(R,this.h^I.h)};function fe(I){const S=I.g.length+1,R=[];for(let D=0;D<S;D++)R[D]=I.i(D)<<1|I.i(D-1)>>>31;return new f(R,I.h)}function he(I,S){const R=S>>5;S%=32;const D=I.g.length-R,j=[];for(let k=0;k<D;k++)j[k]=S>0?I.i(k+R)>>>S|I.i(k+R+1)<<32-S:I.i(k+R);return new f(j,I.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,x1=i,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=b,Ys=f}).apply(typeof wv<"u"?wv:typeof self<"u"?self:typeof window<"u"?window:{});var Vu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var T1,kl,w1,Fu,mm,S1,A1,R1;(function(){var s,e=Object.defineProperty;function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Vu=="object"&&Vu];for(var v=0;v<u.length;++v){var _=u[v];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var i=n(this);function o(u,v){if(v)e:{var _=i;u=u.split(".");for(var w=0;w<u.length-1;w++){var B=u[w];if(!(B in _))break e;_=_[B]}u=u[u.length-1],w=_[u],v=v(w),v!=w&&v!=null&&e(_,u,{configurable:!0,writable:!0,value:v})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(v){var _=[],w;for(w in v)Object.prototype.hasOwnProperty.call(v,w)&&_.push([w,v[w]]);return _}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},f=this||self;function g(u){var v=typeof u;return v=="object"&&u!=null||v=="function"}function p(u,v,_){return u.call.apply(u.bind,arguments)}function y(u,v,_){return y=p,y.apply(null,arguments)}function b(u,v){var _=Array.prototype.slice.call(arguments,1);return function(){var w=_.slice();return w.push.apply(w,arguments),u.apply(this,w)}}function x(u,v){function _(){}_.prototype=v.prototype,u.Z=v.prototype,u.prototype=new _,u.prototype.constructor=u,u.Ob=function(w,B,Y){for(var se=Array(arguments.length-2),Se=2;Se<arguments.length;Se++)se[Se-2]=arguments[Se];return v.prototype[B].apply(w,se)}}var A=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function V(u){const v=u.length;if(v>0){const _=Array(v);for(let w=0;w<v;w++)_[w]=u[w];return _}return[]}function q(u,v){for(let w=1;w<arguments.length;w++){const B=arguments[w];var _=typeof B;if(_=_!="object"?_:B?Array.isArray(B)?"array":_:"null",_=="array"||_=="object"&&typeof B.length=="number"){_=u.length||0;const Y=B.length||0;u.length=_+Y;for(let se=0;se<Y;se++)u[_+se]=B[se]}else u.push(B)}}class U{constructor(v,_){this.i=v,this.j=_,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function F(u){f.setTimeout(()=>{throw u},0)}function te(){var u=I;let v=null;return u.g&&(v=u.g,u.g=u.g.next,u.g||(u.h=null),v.next=null),v}class X{constructor(){this.h=this.g=null}add(v,_){const w=re.get();w.set(v,_),this.h?this.h.next=w:this.g=w,this.h=w}}var re=new U(()=>new xe,u=>u.reset());class xe{constructor(){this.next=this.g=this.h=null}set(v,_){this.h=v,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let fe,he=!1,I=new X,S=()=>{const u=Promise.resolve(void 0);fe=()=>{u.then(R)}};function R(){for(var u;u=te();){try{u.h.call(u.g)}catch(_){F(_)}var v=re;v.j(u),v.h<100&&(v.h++,u.next=v.g,v.g=u)}he=!1}function D(){this.u=this.u,this.C=this.C}D.prototype.u=!1,D.prototype.dispose=function(){this.u||(this.u=!0,this.N())},D.prototype[Symbol.dispose]=function(){this.dispose()},D.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function j(u,v){this.type=u,this.g=this.target=v,this.defaultPrevented=!1}j.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var u=!1,v=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};f.addEventListener("test",_,v),f.removeEventListener("test",_,v)}catch{}return u})();function C(u){return/^[\s\xa0]*$/.test(u)}function Be(u,v){j.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,v)}x(Be,j),Be.prototype.init=function(u,v){const _=this.type=u.type,w=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=v,v=u.relatedTarget,v||(_=="mouseover"?v=u.fromElement:_=="mouseout"&&(v=u.toElement)),this.relatedTarget=v,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&Be.Z.h.call(this)},Be.prototype.h=function(){Be.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var st="closure_listenable_"+(Math.random()*1e6|0),$=0;function ae(u,v,_,w,B){this.listener=u,this.proxy=null,this.src=v,this.type=_,this.capture=!!w,this.ha=B,this.key=++$,this.da=this.fa=!1}function pe(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Le(u,v,_){for(const w in u)v.call(_,u[w],w,u)}function O(u,v){for(const _ in u)v.call(void 0,u[_],_,u)}function ne(u){const v={};for(const _ in u)v[_]=u[_];return v}const le="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ie(u,v){let _,w;for(let B=1;B<arguments.length;B++){w=arguments[B];for(_ in w)u[_]=w[_];for(let Y=0;Y<le.length;Y++)_=le[Y],Object.prototype.hasOwnProperty.call(w,_)&&(u[_]=w[_])}}function me(u){this.src=u,this.g={},this.h=0}me.prototype.add=function(u,v,_,w,B){const Y=u.toString();u=this.g[Y],u||(u=this.g[Y]=[],this.h++);const se=be(u,v,w,B);return se>-1?(v=u[se],_||(v.fa=!1)):(v=new ae(v,this.src,Y,!!w,B),v.fa=_,u.push(v)),v};function je(u,v){const _=v.type;if(_ in u.g){var w=u.g[_],B=Array.prototype.indexOf.call(w,v,void 0),Y;(Y=B>=0)&&Array.prototype.splice.call(w,B,1),Y&&(pe(v),u.g[_].length==0&&(delete u.g[_],u.h--))}}function be(u,v,_,w){for(let B=0;B<u.length;++B){const Y=u[B];if(!Y.da&&Y.listener==v&&Y.capture==!!_&&Y.ha==w)return B}return-1}var kt="closure_lm_"+(Math.random()*1e6|0),Qe={};function On(u,v,_,w,B){if(Array.isArray(v)){for(let Y=0;Y<v.length;Y++)On(u,v[Y],_,w,B);return null}return _=gc(_),u&&u[st]?u.J(v,_,g(w)?!!w.capture:!1,B):Ao(u,v,_,!1,w,B)}function Ao(u,v,_,w,B,Y){if(!v)throw Error("Invalid event type");const se=g(B)?!!B.capture:!!B;let Se=Ro(u);if(Se||(u[kt]=Se=new me(u)),_=Se.add(v,_,w,se,Y),_.proxy)return _;if(w=ta(),_.proxy=w,w.src=u,w.listener=_,u.addEventListener)k||(B=se),B===void 0&&(B=!1),u.addEventListener(v.toString(),w,B);else if(u.attachEvent)u.attachEvent(ra(v.toString()),w);else if(u.addListener&&u.removeListener)u.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return _}function ta(){function u(_){return v.call(u.src,u.listener,_)}const v=zh;return u}function na(u,v,_,w,B){if(Array.isArray(v))for(var Y=0;Y<v.length;Y++)na(u,v[Y],_,w,B);else w=g(w)?!!w.capture:!!w,_=gc(_),u&&u[st]?(u=u.i,Y=String(v).toString(),Y in u.g&&(v=u.g[Y],_=be(v,_,w,B),_>-1&&(pe(v[_]),Array.prototype.splice.call(v,_,1),v.length==0&&(delete u.g[Y],u.h--)))):u&&(u=Ro(u))&&(v=u.g[v.toString()],u=-1,v&&(u=be(v,_,w,B)),(_=u>-1?v[u]:null)&&ni(_))}function ni(u){if(typeof u!="number"&&u&&!u.da){var v=u.src;if(v&&v[st])je(v.i,u);else{var _=u.type,w=u.proxy;v.removeEventListener?v.removeEventListener(_,w,u.capture):v.detachEvent?v.detachEvent(ra(_),w):v.addListener&&v.removeListener&&v.removeListener(w),(_=Ro(v))?(je(_,u),_.h==0&&(_.src=null,v[kt]=null)):pe(u)}}}function ra(u){return u in Qe?Qe[u]:Qe[u]="on"+u}function zh(u,v){if(u.da)u=!0;else{v=new Be(v,this);const _=u.listener,w=u.ha||u.src;u.fa&&ni(u),u=_.call(w,v)}return u}function Ro(u){return u=u[kt],u instanceof me?u:null}var rn="__closure_events_fn_"+(Math.random()*1e9>>>0);function gc(u){return typeof u=="function"?u:(u[rn]||(u[rn]=function(v){return u.handleEvent(v)}),u[rn])}function St(){D.call(this),this.i=new me(this),this.M=this,this.G=null}x(St,D),St.prototype[st]=!0,St.prototype.removeEventListener=function(u,v,_,w){na(this,u,v,_,w)};function It(u,v){var _,w=u.G;if(w)for(_=[];w;w=w.G)_.push(w);if(u=u.M,w=v.type||v,typeof v=="string")v=new j(v,u);else if(v instanceof j)v.target=v.target||u;else{var B=v;v=new j(w,u),ie(v,B)}B=!0;let Y,se;if(_)for(se=_.length-1;se>=0;se--)Y=v.g=_[se],B=xr(Y,w,!0,v)&&B;if(Y=v.g=u,B=xr(Y,w,!0,v)&&B,B=xr(Y,w,!1,v)&&B,_)for(se=0;se<_.length;se++)Y=v.g=_[se],B=xr(Y,w,!1,v)&&B}St.prototype.N=function(){if(St.Z.N.call(this),this.i){var u=this.i;for(const v in u.g){const _=u.g[v];for(let w=0;w<_.length;w++)pe(_[w]);delete u.g[v],u.h--}}this.G=null},St.prototype.J=function(u,v,_,w){return this.i.add(String(u),v,!1,_,w)},St.prototype.K=function(u,v,_,w){return this.i.add(String(u),v,!0,_,w)};function xr(u,v,_,w){if(v=u.i.g[String(v)],!v)return!0;v=v.concat();let B=!0;for(let Y=0;Y<v.length;++Y){const se=v[Y];if(se&&!se.da&&se.capture==_){const Se=se.listener,nt=se.ha||se.src;se.fa&&je(u.i,se),B=Se.call(nt,w)!==!1&&B}}return B&&!w.defaultPrevented}function Bh(u,v){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:f.setTimeout(u,v||0)}function Co(u){u.g=Bh(()=>{u.g=null,u.i&&(u.i=!1,Co(u))},u.l);const v=u.h;u.h=null,u.m.apply(null,v)}class qh extends D{constructor(v,_){super(),this.m=v,this.l=_,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Co(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ri(u){D.call(this),this.h=u,this.g={}}x(ri,D);var ts=[];function Ft(u){Le(u.g,function(v,_){this.g.hasOwnProperty(_)&&ni(v)},u),u.g={}}ri.prototype.N=function(){ri.Z.N.call(this),Ft(this)},ri.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var yn=f.JSON.stringify,Wt=f.JSON.parse,Hh=class{stringify(u){return f.JSON.stringify(u,void 0)}parse(u){return f.JSON.parse(u,void 0)}};function pc(){}function yc(){}var Jn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ns(){j.call(this,"d")}x(ns,j);function Mn(){j.call(this,"c")}x(Mn,j);var vn={},rs=null;function sa(){return rs=rs||new St}vn.Ia="serverreachability";function No(u){j.call(this,vn.Ia,u)}x(No,j);function ss(u){const v=sa();It(v,new No(v))}vn.STAT_EVENT="statevent";function ia(u,v){j.call(this,vn.STAT_EVENT,u),this.stat=v}x(ia,j);function ft(u){const v=sa();It(v,new ia(v,u))}vn.Ja="timingevent";function vc(u,v){j.call(this,vn.Ja,u),this.size=v}x(vc,j);function is(u,v){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){u()},v)}function as(){this.g=!0}as.prototype.ua=function(){this.g=!1};function Io(u,v,_,w,B,Y){u.info(function(){if(u.g)if(Y){var se="",Se=Y.split("&");for(let He=0;He<Se.length;He++){var nt=Se[He].split("=");if(nt.length>1){const gt=nt[0];nt=nt[1];const cn=gt.split("_");se=cn.length>=2&&cn[1]=="type"?se+(gt+"="+nt+"&"):se+(gt+"=redacted&")}}}else se=null;else se=Y;return"XMLHTTP REQ ("+w+") [attempt "+B+"]: "+v+`
`+_+`
`+se})}function Do(u,v,_,w,B,Y,se){u.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+B+"]: "+v+`
`+_+`
`+Y+" "+se})}function Tr(u,v,_,w){u.info(function(){return"XMLHTTP TEXT ("+v+"): "+er(u,_)+(w?" "+w:"")})}function Fh(u,v){u.info(function(){return"TIMEOUT: "+v})}as.prototype.info=function(){};function er(u,v){if(!u.g)return v;if(!v)return null;try{const Y=JSON.parse(v);if(Y){for(u=0;u<Y.length;u++)if(Array.isArray(Y[u])){var _=Y[u];if(!(_.length<2)){var w=_[1];if(Array.isArray(w)&&!(w.length<1)){var B=w[0];if(B!="noop"&&B!="stop"&&B!="close")for(let se=1;se<w.length;se++)w[se]=""}}}}return yn(Y)}catch{return v}}var dt={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Pt={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},wr;function si(){}x(si,pc),si.prototype.g=function(){return new XMLHttpRequest},wr=new si;function ii(u){return encodeURIComponent(String(u))}function Gh(u){var v=1;u=u.split(":");const _=[];for(;v>0&&u.length;)_.push(u.shift()),v--;return u.length&&_.push(u.join(":")),_}function Vn(u,v,_,w){this.j=u,this.i=v,this.l=_,this.S=w||1,this.V=new ri(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new os}function os(){this.i=null,this.g="",this.h=!1}var aa={},tr={};function nr(u,v,_){u.M=1,u.A=Ar(ot(v)),u.u=_,u.R=!0,ls(u,null)}function ls(u,v){u.F=Date.now(),ai(u),u.B=ot(u.A);var _=u.B,w=u.S;Array.isArray(w)||(w=[String(w)]),xc(_.i,"t",w),u.C=0,_=u.j.L,u.h=new os,u.g=pa(u.j,_?v:null,!u.u),u.P>0&&(u.O=new qh(y(u.Y,u,u.g),u.P)),v=u.V,_=u.g,w=u.ba;var B="readystatechange";Array.isArray(B)||(B&&(ts[0]=B.toString()),B=ts);for(let Y=0;Y<B.length;Y++){const se=On(_,B[Y],w||v.handleEvent,!1,v.h||v);if(!se)break;v.g[se.key]=se}v=u.J?ne(u.J):{},u.u?(u.v||(u.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,v)):(u.v="GET",u.g.ea(u.B,u.v,null,v)),ss(),Io(u.i,u.v,u.B,u.l,u.S,u.u)}Vn.prototype.ba=function(u){u=u.target;const v=this.O;v&&Gt(u)==3?v.j():this.Y(u)},Vn.prototype.Y=function(u){try{if(u==this.g)e:{const Se=Gt(this.g),nt=this.g.ya(),He=this.g.ca();if(!(Se<3)&&(Se!=3||this.g&&(this.h.h||this.g.la()||yi(this.g)))){this.K||Se!=4||nt==7||(nt==8||He<=0?ss(3):ss(2)),sr(this);var v=this.g.ca();this.X=v;var _=cs(this);if(this.o=v==200,Do(this.i,this.v,this.B,this.l,this.S,Se,v),this.o){if(this.U&&!this.L){t:{if(this.g){var w,B=this.g;if((w=B.g?B.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(w)){var Y=w;break t}}Y=null}if(u=Y)Tr(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,oa(this,u);else{this.o=!1,this.m=3,ft(12),ir(this),oi(this);break e}}if(this.R){u=!0;let gt;for(;!this.K&&this.C<_.length;)if(gt=_c(this,_),gt==tr){Se==4&&(this.m=4,ft(14),u=!1),Tr(this.i,this.l,null,"[Incomplete Response]");break}else if(gt==aa){this.m=4,ft(15),Tr(this.i,this.l,_,"[Invalid Chunk]"),u=!1;break}else Tr(this.i,this.l,gt,null),oa(this,gt);if(mt(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Se!=4||_.length!=0||this.h.h||(this.m=1,ft(16),u=!1),this.o=this.o&&u,!u)Tr(this.i,this.l,_,"[Invalid Chunked Response]"),ir(this),oi(this);else if(_.length>0&&!this.W){this.W=!0;var se=this.j;se.g==this&&se.aa&&!se.P&&(se.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),Bo(se),se.P=!0,ft(11))}}else Tr(this.i,this.l,_,null),oa(this,_);Se==4&&ir(this),this.o&&!this.K&&(Se==4?qo(this.j,this):(this.o=!1,ai(this)))}else vi(this.g),v==400&&_.indexOf("Unknown SID")>0?(this.m=3,ft(12)):(this.m=0,ft(13)),ir(this),oi(this)}}}catch{}finally{}};function cs(u){if(!mt(u))return u.g.la();const v=yi(u.g);if(v==="")return"";let _="";const w=v.length,B=Gt(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return ir(u),oi(u),"";u.h.i=new f.TextDecoder}for(let Y=0;Y<w;Y++)u.h.h=!0,_+=u.h.i.decode(v[Y],{stream:!(B&&Y==w-1)});return v.length=0,u.h.g+=_,u.C=0,u.h.g}function mt(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function _c(u,v){var _=u.C,w=v.indexOf(`
`,_);return w==-1?tr:(_=Number(v.substring(_,w)),isNaN(_)?aa:(w+=1,w+_>v.length?tr:(v=v.slice(w,w+_),u.C=w+_,v)))}Vn.prototype.cancel=function(){this.K=!0,ir(this)};function ai(u){u.T=Date.now()+u.H,rr(u,u.H)}function rr(u,v){if(u.D!=null)throw Error("WatchDog timer not null");u.D=is(y(u.aa,u),v)}function sr(u){u.D&&(f.clearTimeout(u.D),u.D=null)}Vn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Fh(this.i,this.B),this.M!=2&&(ss(),ft(17)),ir(this),this.m=2,oi(this)):rr(this,this.T-u)};function oi(u){u.j.I==0||u.K||qo(u.j,u)}function ir(u){sr(u);var v=u.O;v&&typeof v.dispose=="function"&&v.dispose(),u.O=null,Ft(u.V),u.g&&(v=u.g,u.g=null,v.abort(),v.dispose())}function oa(u,v){try{var _=u.j;if(_.I!=0&&(_.g==u||ui(_.h,u))){if(!u.L&&ui(_.h,u)&&_.I==3){try{var w=_.Ba.g.parse(v)}catch{w=null}if(Array.isArray(w)&&w.length==3){var B=w;if(B[0]==0){e:if(!_.v){if(_.g)if(_.g.F+3e3<u.F)ga(_),ar(_);else break e;zo(_),ft(18)}}else _.xa=B[1],0<_.xa-_.K&&B[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=is(y(_.Va,_),6e3));_n(_.h)<=1&&_.ta&&(_.ta=void 0)}else Nr(_,11)}else if((u.L||_.g==u)&&ga(_),!C(v))for(B=_.Ba.g.parse(v),v=0;v<B.length;v++){let He=B[v];const gt=He[0];if(!(gt<=_.K))if(_.K=gt,He=He[1],_.I==2)if(He[0]=="c"){_.M=He[1],_.ba=He[2];const cn=He[3];cn!=null&&(_.ka=cn,_.j.info("VER="+_.ka));const or=He[4];or!=null&&(_.za=or,_.j.info("SVER="+_.za));const Ln=He[5];Ln!=null&&typeof Ln=="number"&&Ln>0&&(w=1.5*Ln,_.O=w,_.j.info("backChannelRequestTimeoutMs_="+w)),w=_;const Un=u.g;if(Un){const zn=Un.g?Un.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(zn){var Y=w.h;Y.g||zn.indexOf("spdy")==-1&&zn.indexOf("quic")==-1&&zn.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(la(Y,Y.h),Y.h=null))}if(w.G){const Fo=Un.g?Un.g.getResponseHeader("X-HTTP-Session-Id"):null;Fo&&(w.wa=Fo,Ye(w.J,w.G,Fo))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-u.F,_.j.info("Handshake RTT: "+_.T+"ms")),w=_;var se=u;if(w.na=Dc(w,w.L?w.ba:null,w.W),se.L){Sr(w.h,se);var Se=se,nt=w.O;nt&&(Se.H=nt),Se.D&&(sr(Se),ai(Se)),w.g=se}else Rc(w);_.i.length>0&&xi(_)}else He[0]!="stop"&&He[0]!="close"||Nr(_,7);else _.I==3&&(He[0]=="stop"||He[0]=="close"?He[0]=="stop"?Nr(_,7):bi(_):He[0]!="noop"&&_.l&&_.l.qa(He),_.A=0)}}ss(4)}catch{}}var Qh=class{constructor(u,v){this.g=u,this.map=v}};function li(u){this.l=u||10,f.PerformanceNavigationTiming?(u=f.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ci(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function _n(u){return u.h?1:u.g?u.g.size:0}function ui(u,v){return u.h?u.h==v:u.g?u.g.has(v):!1}function la(u,v){u.g?u.g.add(v):u.h=v}function Sr(u,v){u.h&&u.h==v?u.h=null:u.g&&u.g.has(v)&&u.g.delete(v)}li.prototype.cancel=function(){if(this.i=ca(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function ca(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let v=u.i;for(const _ of u.g.values())v=v.concat(_.G);return v}return V(u.i)}var ua=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Yh(u,v){if(u){u=u.split("&");for(let _=0;_<u.length;_++){const w=u[_].indexOf("=");let B,Y=null;w>=0?(B=u[_].substring(0,w),Y=u[_].substring(w+1)):B=u[_],v(B,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function kn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;u instanceof kn?(this.l=u.l,us(this,u.j),this.o=u.o,this.g=u.g,hi(this,u.u),this.h=u.h,hs(this,Tc(u.i)),this.m=u.m):u&&(v=String(u).match(ua))?(this.l=!1,us(this,v[1]||"",!0),this.o=fi(v[2]||""),this.g=fi(v[3]||"",!0),hi(this,v[4]),this.h=fi(v[5]||"",!0),hs(this,v[6]||"",!0),this.m=fi(v[7]||"")):(this.l=!1,this.i=new bn(null,this.l))}kn.prototype.toString=function(){const u=[];var v=this.j;v&&u.push(Dt(v,Oo,!0),":");var _=this.g;return(_||v=="file")&&(u.push("//"),(v=this.o)&&u.push(Dt(v,Oo,!0),"@"),u.push(ii(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&u.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(Dt(_,_.charAt(0)=="/"?fs:Mo,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",Dt(_,Ec)),u.join("")},kn.prototype.resolve=function(u){const v=ot(this);let _=!!u.j;_?us(v,u.j):_=!!u.o,_?v.o=u.o:_=!!u.g,_?v.g=u.g:_=u.u!=null;var w=u.h;if(_)hi(v,u.u);else if(_=!!u.h){if(w.charAt(0)!="/")if(this.g&&!this.h)w="/"+w;else{var B=v.h.lastIndexOf("/");B!=-1&&(w=v.h.slice(0,B+1)+w)}if(B=w,B==".."||B==".")w="";else if(B.indexOf("./")!=-1||B.indexOf("/.")!=-1){w=B.lastIndexOf("/",0)==0,B=B.split("/");const Y=[];for(let se=0;se<B.length;){const Se=B[se++];Se=="."?w&&se==B.length&&Y.push(""):Se==".."?((Y.length>1||Y.length==1&&Y[0]!="")&&Y.pop(),w&&se==B.length&&Y.push("")):(Y.push(Se),w=!0)}w=Y.join("/")}else w=B}return _?v.h=w:_=u.i.toString()!=="",_?hs(v,Tc(u.i)):_=!!u.m,_&&(v.m=u.m),v};function ot(u){return new kn(u)}function us(u,v,_){u.j=_?fi(v,!0):v,u.j&&(u.j=u.j.replace(/:$/,""))}function hi(u,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);u.u=v}else u.u=null}function hs(u,v,_){v instanceof bn?(u.i=v,Po(u.i,u.l)):(_||(v=Dt(v,bc)),u.i=new bn(v,u.l))}function Ye(u,v,_){u.i.set(v,_)}function Ar(u){return Ye(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function fi(u,v){return u?v?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Dt(u,v,_){return typeof u=="string"?(u=encodeURI(u).replace(v,jo),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function jo(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Oo=/[#\/\?@]/g,Mo=/[#\?:]/g,fs=/[#\?]/g,bc=/[#\?@]/g,Ec=/#/g;function bn(u,v){this.h=this.g=null,this.i=u||null,this.j=!!v}function Rr(u){u.g||(u.g=new Map,u.h=0,u.i&&Yh(u.i,function(v,_){u.add(decodeURIComponent(v.replace(/\+/g," ")),_)}))}s=bn.prototype,s.add=function(u,v){Rr(this),this.i=null,u=Pn(this,u);let _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(v),this.h+=1,this};function Vo(u,v){Rr(u),v=Pn(u,v),u.g.has(v)&&(u.i=null,u.h-=u.g.get(v).length,u.g.delete(v))}function ko(u,v){return Rr(u),v=Pn(u,v),u.g.has(v)}s.forEach=function(u,v){Rr(this),this.g.forEach(function(_,w){_.forEach(function(B){u.call(v,B,w,this)},this)},this)};function ha(u,v){Rr(u);let _=[];if(typeof v=="string")ko(u,v)&&(_=_.concat(u.g.get(Pn(u,v))));else for(u=Array.from(u.g.values()),v=0;v<u.length;v++)_=_.concat(u[v]);return _}s.set=function(u,v){return Rr(this),this.i=null,u=Pn(this,u),ko(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[v]),this.h+=1,this},s.get=function(u,v){return u?(u=ha(this,u),u.length>0?String(u[0]):v):v};function xc(u,v,_){Vo(u,v),_.length>0&&(u.i=null,u.g.set(Pn(u,v),V(_)),u.h+=_.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],v=Array.from(this.g.keys());for(let w=0;w<v.length;w++){var _=v[w];const B=ii(_);_=ha(this,_);for(let Y=0;Y<_.length;Y++){let se=B;_[Y]!==""&&(se+="="+ii(_[Y])),u.push(se)}}return this.i=u.join("&")};function Tc(u){const v=new bn;return v.i=u.i,u.g&&(v.g=new Map(u.g),v.h=u.h),v}function Pn(u,v){return v=String(v),u.j&&(v=v.toLowerCase()),v}function Po(u,v){v&&!u.j&&(Rr(u),u.i=null,u.g.forEach(function(_,w){const B=w.toLowerCase();w!=B&&(Vo(this,w),xc(this,B,_))},u)),u.j=v}function Lo(u,v){const _=new as;if(f.Image){const w=new Image;w.onload=b(Jt,_,"TestLoadImage: loaded",!0,v,w),w.onerror=b(Jt,_,"TestLoadImage: error",!1,v,w),w.onabort=b(Jt,_,"TestLoadImage: abort",!1,v,w),w.ontimeout=b(Jt,_,"TestLoadImage: timeout",!1,v,w),f.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=u}else v(!1)}function ds(u,v){const _=new as,w=new AbortController,B=setTimeout(()=>{w.abort(),Jt(_,"TestPingServer: timeout",!1,v)},1e4);fetch(u,{signal:w.signal}).then(Y=>{clearTimeout(B),Y.ok?Jt(_,"TestPingServer: ok",!0,v):Jt(_,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(B),Jt(_,"TestPingServer: error",!1,v)})}function Jt(u,v,_,w,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),w(_)}catch{}}function wc(){this.g=new Hh}function di(u){this.i=u.Sb||null,this.h=u.ab||!1}x(di,pc),di.prototype.g=function(){return new mi(this.i,this.h)};function mi(u,v){St.call(this),this.H=u,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}x(mi,St),s=mi.prototype,s.open=function(u,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=v,this.readyState=1,Cr(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(v.body=u),(this.H||f).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,en(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Cr(this)),this.g&&(this.readyState=3,Cr(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ms(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function ms(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var v=u.value?u.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!u.done}))&&(this.response=this.responseText+=v)}u.done?en(this):Cr(this),this.readyState==3&&ms(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,en(this))},s.Na=function(u){this.g&&(this.response=u,en(this))},s.ga=function(){this.g&&en(this)};function en(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Cr(u)}s.setRequestHeader=function(u,v){this.A.append(u,v)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],v=this.h.entries();for(var _=v.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=v.next();return u.join(`\r
`)};function Cr(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(mi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function gs(u){let v="";return Le(u,function(_,w){v+=w,v+=":",v+=_,v+=`\r
`}),v}function En(u,v,_){e:{for(w in _){var w=!1;break e}w=!0}w||(_=gs(_),typeof u=="string"?_!=null&&ii(_):Ye(u,v,_))}function Je(u){St.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}x(Je,St);var fa=/^https?$/i,Sc=["POST","PUT"];s=Je.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,v,_,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);v=v?v.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():wr.g(),this.g.onreadystatechange=A(y(this.Ca,this));try{this.B=!0,this.g.open(v,String(u),!0),this.B=!1}catch(Y){gi(this,Y);return}if(u=_||"",_=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var B in w)_.set(B,w[B]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const Y of w.keys())_.set(Y,w.get(Y));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(_.keys()).find(Y=>Y.toLowerCase()=="content-type"),B=f.FormData&&u instanceof f.FormData,!(Array.prototype.indexOf.call(Sc,v,void 0)>=0)||w||B||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,se]of _)this.g.setRequestHeader(Y,se);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(Y){gi(this,Y)}};function gi(u,v){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=v,u.o=5,pi(u),At(u)}function pi(u){u.A||(u.A=!0,It(u,"complete"),It(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,It(this,"complete"),It(this,"abort"),At(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),At(this,!0)),Je.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Uo(this):this.Xa())},s.Xa=function(){Uo(this)};function Uo(u){if(u.h&&typeof c<"u"){if(u.v&&Gt(u)==4)setTimeout(u.Ca.bind(u),0);else if(It(u,"readystatechange"),Gt(u)==4){u.h=!1;try{const Y=u.ca();e:switch(Y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var _;if(!(_=v)){var w;if(w=Y===0){let se=String(u.D).match(ua)[1]||null;!se&&f.self&&f.self.location&&(se=f.self.location.protocol.slice(0,-1)),w=!fa.test(se?se.toLowerCase():"")}_=w}if(_)It(u,"complete"),It(u,"success");else{u.o=6;try{var B=Gt(u)>2?u.g.statusText:""}catch{B=""}u.l=B+" ["+u.ca()+"]",pi(u)}}finally{At(u)}}}}function At(u,v){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const _=u.g;u.g=null,v||It(u,"ready");try{_.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Gt(u){return u.g?u.g.readyState:0}s.ca=function(){try{return Gt(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var v=this.g.responseText;return u&&v.indexOf(u)==0&&(v=v.substring(u.length)),Wt(v)}};function yi(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function vi(u){const v={};u=(u.g&&Gt(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<u.length;w++){if(C(u[w]))continue;var _=Gh(u[w]);const B=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const Y=v[B]||[];v[B]=Y,Y.push(_)}O(v,function(w){return w.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function _i(u,v,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||v}function da(u){this.za=0,this.i=[],this.j=new as,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=_i("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=_i("baseRetryDelayMs",5e3,u),this.Za=_i("retryDelaySeedMs",1e4,u),this.Ta=_i("forwardChannelMaxRetries",2,u),this.va=_i("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new li(u&&u.concurrentRequestLimit),this.Ba=new wc,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=da.prototype,s.ka=8,s.I=1,s.connect=function(u,v,_,w){ft(0),this.W=u,this.H=v||{},_&&w!==void 0&&(this.H.OSID=_,this.H.OAID=w),this.F=this.X,this.J=Dc(this,null,this.W),xi(this)};function bi(u){if(Ei(u),u.I==3){var v=u.V++,_=ot(u.J);if(Ye(_,"SID",u.M),Ye(_,"RID",v),Ye(_,"TYPE","terminate"),Ti(u,_),v=new Vn(u,u.j,v),v.M=2,v.A=Ar(ot(_)),_=!1,f.navigator&&f.navigator.sendBeacon)try{_=f.navigator.sendBeacon(v.A.toString(),"")}catch{}!_&&f.Image&&(new Image().src=v.A,_=!0),_||(v.g=pa(v.j,null),v.g.ea(v.A)),v.F=Date.now(),ai(v)}Ic(u)}function ar(u){u.g&&(Bo(u),u.g.cancel(),u.g=null)}function Ei(u){ar(u),u.v&&(f.clearTimeout(u.v),u.v=null),ga(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&f.clearTimeout(u.m),u.m=null)}function xi(u){if(!ci(u.h)&&!u.m){u.m=!0;var v=u.Ea;fe||S(),he||(fe(),he=!0),I.add(v,u),u.D=0}}function $h(u,v){return _n(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=v.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=is(y(u.Ea,u,v),Nc(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const B=new Vn(this,this.j,u);let Y=this.o;if(this.U&&(Y?(Y=ne(Y),ie(Y,this.U)):Y=this.U),this.u!==null||this.R||(B.J=Y,Y=null),this.S)e:{for(var v=0,_=0;_<this.i.length;_++){t:{var w=this.i[_];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(v+=w,v>4096){v=_;break e}if(v===4096||_===this.i.length-1){v=_+1;break e}}v=1e3}else v=1e3;v=ma(this,B,v),_=ot(this.J),Ye(_,"RID",u),Ye(_,"CVER",22),this.G&&Ye(_,"X-HTTP-Session-Id",this.G),Ti(this,_),Y&&(this.R?v="headers="+ii(gs(Y))+"&"+v:this.u&&En(_,this.u,Y)),la(this.h,B),this.Ra&&Ye(_,"TYPE","init"),this.S?(Ye(_,"$req",v),Ye(_,"SID","null"),B.U=!0,nr(B,_,null)):nr(B,_,v),this.I=2}}else this.I==3&&(u?Ac(this,u):this.i.length==0||ci(this.h)||Ac(this))};function Ac(u,v){var _;v?_=v.l:_=u.V++;const w=ot(u.J);Ye(w,"SID",u.M),Ye(w,"RID",_),Ye(w,"AID",u.K),Ti(u,w),u.u&&u.o&&En(w,u.u,u.o),_=new Vn(u,u.j,_,u.D+1),u.u===null&&(_.J=u.o),v&&(u.i=v.G.concat(u.i)),v=ma(u,_,1e3),_.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),la(u.h,_),nr(_,w,v)}function Ti(u,v){u.H&&Le(u.H,function(_,w){Ye(v,w,_)}),u.l&&Le({},function(_,w){Ye(v,w,_)})}function ma(u,v,_){_=Math.min(u.i.length,_);const w=u.l?y(u.l.Ka,u.l,u):null;e:{var B=u.i;let Se=-1;for(;;){const nt=["count="+_];Se==-1?_>0?(Se=B[0].g,nt.push("ofs="+Se)):Se=0:nt.push("ofs="+Se);let He=!0;for(let gt=0;gt<_;gt++){var Y=B[gt].g;const cn=B[gt].map;if(Y-=Se,Y<0)Se=Math.max(0,B[gt].g-100),He=!1;else try{Y="req"+Y+"_"||"";try{var se=cn instanceof Map?cn:Object.entries(cn);for(const[or,Ln]of se){let Un=Ln;g(Ln)&&(Un=yn(Ln)),nt.push(Y+or+"="+encodeURIComponent(Un))}}catch(or){throw nt.push(Y+"type="+encodeURIComponent("_badmap")),or}}catch{w&&w(cn)}}if(He){se=nt.join("&");break e}}se=void 0}return u=u.i.splice(0,_),v.G=u,se}function Rc(u){if(!u.g&&!u.v){u.Y=1;var v=u.Da;fe||S(),he||(fe(),he=!0),I.add(v,u),u.A=0}}function zo(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=is(y(u.Da,u),Nc(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,Cc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=is(y(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ft(10),ar(this),Cc(this))};function Bo(u){u.B!=null&&(f.clearTimeout(u.B),u.B=null)}function Cc(u){u.g=new Vn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var v=ot(u.na);Ye(v,"RID","rpc"),Ye(v,"SID",u.M),Ye(v,"AID",u.K),Ye(v,"CI",u.F?"0":"1"),!u.F&&u.ia&&Ye(v,"TO",u.ia),Ye(v,"TYPE","xmlhttp"),Ti(u,v),u.u&&u.o&&En(v,u.u,u.o),u.O&&(u.g.H=u.O);var _=u.g;u=u.ba,_.M=1,_.A=Ar(ot(v)),_.u=null,_.R=!0,ls(_,u)}s.Va=function(){this.C!=null&&(this.C=null,ar(this),zo(this),ft(19))};function ga(u){u.C!=null&&(f.clearTimeout(u.C),u.C=null)}function qo(u,v){var _=null;if(u.g==v){ga(u),Bo(u),u.g=null;var w=2}else if(ui(u.h,v))_=v.G,Sr(u.h,v),w=1;else return;if(u.I!=0){if(v.o)if(w==1){_=v.u?v.u.length:0,v=Date.now()-v.F;var B=u.D;w=sa(),It(w,new vc(w,_)),xi(u)}else Rc(u);else if(B=v.m,B==3||B==0&&v.X>0||!(w==1&&$h(u,v)||w==2&&zo(u)))switch(_&&_.length>0&&(v=u.h,v.i=v.i.concat(_)),B){case 1:Nr(u,5);break;case 4:Nr(u,10);break;case 3:Nr(u,6);break;default:Nr(u,2)}}}function Nc(u,v){let _=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(_*=2),_*v}function Nr(u,v){if(u.j.info("Error code "+v),v==2){var _=y(u.bb,u),w=u.Ua;const B=!w;w=new kn(w||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||us(w,"https"),Ar(w),B?Lo(w.toString(),_):ds(w.toString(),_)}else ft(2);u.I=0,u.l&&u.l.pa(v),Ic(u),Ei(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),ft(2)):(this.j.info("Failed to ping google.com"),ft(1))};function Ic(u){if(u.I=0,u.ja=[],u.l){const v=ca(u.h);(v.length!=0||u.i.length!=0)&&(q(u.ja,v),q(u.ja,u.i),u.h.i.length=0,V(u.i),u.i.length=0),u.l.oa()}}function Dc(u,v,_){var w=_ instanceof kn?ot(_):new kn(_);if(w.g!="")v&&(w.g=v+"."+w.g),hi(w,w.u);else{var B=f.location;w=B.protocol,v=v?v+"."+B.hostname:B.hostname,B=+B.port;const Y=new kn(null);w&&us(Y,w),v&&(Y.g=v),B&&hi(Y,B),_&&(Y.h=_),w=Y}return _=u.G,v=u.wa,_&&v&&Ye(w,_,v),Ye(w,"VER",u.ka),Ti(u,w),w}function pa(u,v,_){if(v&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=u.Aa&&!u.ma?new Je(new di({ab:_})):new Je(u.ma),v.Fa(u.L),v}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function jc(){}s=jc.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function ya(){}ya.prototype.g=function(u,v){return new tn(u,v)};function tn(u,v){St.call(this),this.g=new da(v),this.l=u,this.h=v&&v.messageUrlParams||null,u=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(u?u["X-WebChannel-Content-Type"]=v.messageContentType:u={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(u?u["X-WebChannel-Client-Profile"]=v.sa:u={"X-WebChannel-Client-Profile":v.sa}),this.g.U=u,(u=v&&v.Qb)&&!C(u)&&(this.g.u=u),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!C(v)&&(this.g.G=v,u=this.h,u!==null&&v in u&&(u=this.h,v in u&&delete u[v])),this.j=new ps(this)}x(tn,St),tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){bi(this.g)},tn.prototype.o=function(u){var v=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.v&&(_={},_.__data__=yn(u),u=_);v.i.push(new Qh(v.Ya++,u)),v.I==3&&xi(v)},tn.prototype.N=function(){this.g.l=null,delete this.j,bi(this.g),delete this.g,tn.Z.N.call(this)};function Ho(u){ns.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var v=u.__sm__;if(v){e:{for(const _ in v){u=_;break e}u=void 0}(this.i=u)&&(u=this.i,v=v!==null&&u in v?v[u]:void 0),this.data=v}else this.data=u}x(Ho,ns);function Oc(){Mn.call(this),this.status=1}x(Oc,Mn);function ps(u){this.g=u}x(ps,jc),ps.prototype.ra=function(){It(this.g,"a")},ps.prototype.qa=function(u){It(this.g,new Ho(u))},ps.prototype.pa=function(u){It(this.g,new Oc)},ps.prototype.oa=function(){It(this.g,"b")},ya.prototype.createWebChannel=ya.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,R1=function(){return new ya},A1=function(){return sa()},S1=vn,mm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},dt.NO_ERROR=0,dt.TIMEOUT=8,dt.HTTP_ERROR=6,Fu=dt,Pt.COMPLETE="complete",w1=Pt,yc.EventType=Jn,Jn.OPEN="a",Jn.CLOSE="b",Jn.ERROR="c",Jn.MESSAGE="d",St.prototype.listen=St.prototype.J,kl=yc,Je.prototype.listenOnce=Je.prototype.K,Je.prototype.getLastError=Je.prototype.Ha,Je.prototype.getLastErrorCode=Je.prototype.ya,Je.prototype.getStatus=Je.prototype.ca,Je.prototype.getResponseJson=Je.prototype.La,Je.prototype.getResponseText=Je.prototype.la,Je.prototype.send=Je.prototype.ea,Je.prototype.setWithCredentials=Je.prototype.Fa,T1=Je}).apply(typeof Vu<"u"?Vu:typeof self<"u"?self:typeof window<"u"?window:{});const Sv="@firebase/firestore",Av="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Kt.UNAUTHENTICATED=new Kt(null),Kt.GOOGLE_CREDENTIALS=new Kt("google-credentials-uid"),Kt.FIRST_PARTY=new Kt("first-party-uid"),Kt.MOCK_USER=new Kt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _o="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gi=new Fm("@firebase/firestore");function Ka(){return Gi.logLevel}function ce(s,...e){if(Gi.logLevel<=Oe.DEBUG){const n=e.map(Ym);Gi.debug(`Firestore (${_o}): ${s}`,...n)}}function Kr(s,...e){if(Gi.logLevel<=Oe.ERROR){const n=e.map(Ym);Gi.error(`Firestore (${_o}): ${s}`,...n)}}function ao(s,...e){if(Gi.logLevel<=Oe.WARN){const n=e.map(Ym);Gi.warn(`Firestore (${_o}): ${s}`,...n)}}function Ym(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _e(s,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,C1(s,i,n)}function C1(s,e,n){let i=`FIRESTORE (${_o}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw Kr(i),new Error(i)}function qe(s,e,n,i){let o="Unexpected state";typeof n=="string"?o=n:i=n,s||C1(e,o,i)}function Ae(s,e){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class oe extends es{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class jS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Kt.UNAUTHENTICATED)))}shutdown(){}}class OS{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class MS{constructor(e){this.t=e,this.currentUser=Kt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){qe(this.o===void 0,42304);let i=this.i;const o=p=>this.i!==i?(i=this.i,n(p)):Promise.resolve();let c=new Qr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Qr,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const p=c;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},g=p=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((p=>g(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?g(p):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Qr)}}),0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((i=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(qe(typeof i.accessToken=="string",31837,{l:i}),new N1(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return qe(e===null||typeof e=="string",2055,{h:e}),new Kt(e)}}class VS{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=Kt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class kS{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new VS(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Kt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Rv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class PS{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,mr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){qe(this.o===void 0,3512);const i=c=>{c.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const f=c.token!==this.m;return this.m=c.token,ce("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>i(c)))};const o=c=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Rv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(qe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Rv(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LS(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<s;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $m{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const o=LS(40);for(let c=0;c<o.length;++c)i.length<20&&o[c]<n&&(i+=e.charAt(o[c]%62))}return i}}function Me(s,e){return s<e?-1:s>e?1:0}function gm(s,e){const n=Math.min(s.length,e.length);for(let i=0;i<n;i++){const o=s.charAt(i),c=e.charAt(i);if(o!==c)return Jd(o)===Jd(c)?Me(o,c):Jd(o)?1:-1}return Me(s.length,e.length)}const US=55296,zS=57343;function Jd(s){const e=s.charCodeAt(0);return e>=US&&e<=zS}function oo(s,e,n){return s.length===e.length&&s.every(((i,o)=>n(i,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cv="__name__";class dr{constructor(e,n,i){n===void 0?n=0:n>e.length&&_e(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&_e(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return dr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof dr?e.forEach((i=>{n.push(i)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let o=0;o<i;o++){const c=dr.compareSegments(e.get(o),n.get(o));if(c!==0)return c}return Me(e.length,n.length)}static compareSegments(e,n){const i=dr.isNumericId(e),o=dr.isNumericId(n);return i&&!o?-1:!i&&o?1:i&&o?dr.extractNumericId(e).compare(dr.extractNumericId(n)):gm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ys.fromString(e.substring(4,e.length-2))}}class tt extends dr{construct(e,n,i){return new tt(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new oe(W.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter((o=>o.length>0)))}return new tt(n)}static emptyPath(){return new tt([])}}const BS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class qt extends dr{construct(e,n,i){return new qt(e,n,i)}static isValidIdentifier(e){return BS.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),qt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Cv}static keyField(){return new qt([Cv])}static fromServerFormat(e){const n=[];let i="",o=0;const c=()=>{if(i.length===0)throw new oe(W.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let f=!1;for(;o<e.length;){const g=e[o];if(g==="\\"){if(o+1===e.length)throw new oe(W.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new oe(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,o+=2}else g==="`"?(f=!f,o++):g!=="."||f?(i+=g,o++):(c(),o++)}if(c(),f)throw new oe(W.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new qt(n)}static emptyPath(){return new qt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.path=e}static fromPath(e){return new ge(tt.fromString(e))}static fromName(e){return new ge(tt.fromString(e).popFirst(5))}static empty(){return new ge(tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return tt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new tt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I1(s,e,n){if(!n)throw new oe(W.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function qS(s,e,n,i){if(e===!0&&i===!0)throw new oe(W.INVALID_ARGUMENT,`${s} and ${n} cannot be used together.`)}function Nv(s){if(!ge.isDocumentKey(s))throw new oe(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function Iv(s){if(ge.isDocumentKey(s))throw new oe(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function D1(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function wh(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":_e(12329,{type:typeof s})}function Xr(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new oe(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=wh(s);throw new oe(W.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return s}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tt(s,e){const n={typeString:s};return e&&(n.value=e),n}function oc(s,e){if(!D1(s))throw new oe(W.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in e)if(e[i]){const o=e[i].typeString,c="value"in e[i]?{value:e[i].value}:void 0;if(!(i in s)){n=`JSON missing required field: '${i}'`;break}const f=s[i];if(o&&typeof f!==o){n=`JSON field '${i}' must be a ${o}.`;break}if(c!==void 0&&f!==c.value){n=`Expected '${i}' field to equal '${c.value}'`;break}}if(n)throw new oe(W.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dv=-62135596800,jv=1e6;class rt{static now(){return rt.fromMillis(Date.now())}static fromDate(e){return rt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*jv);return new rt(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new oe(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new oe(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Dv)throw new oe(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new oe(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/jv}_compareTo(e){return this.seconds===e.seconds?Me(this.nanoseconds,e.nanoseconds):Me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:rt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(oc(e,rt._jsonSchema))return new rt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Dv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}rt._jsonSchemaVersion="firestore/timestamp/1.0",rt._jsonSchema={type:Tt("string",rt._jsonSchemaVersion),seconds:Tt("number"),nanoseconds:Tt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{static fromTimestamp(e){return new we(e)}static min(){return new we(new rt(0,0))}static max(){return new we(new rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $l=-1;function HS(s,e){const n=s.toTimestamp().seconds,i=s.toTimestamp().nanoseconds+1,o=we.fromTimestamp(i===1e9?new rt(n+1,0):new rt(n,i));return new Ks(o,ge.empty(),e)}function FS(s){return new Ks(s.readTime,s.key,$l)}class Ks{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new Ks(we.min(),ge.empty(),$l)}static max(){return new Ks(we.max(),ge.empty(),$l)}}function GS(s,e){let n=s.readTime.compareTo(e.readTime);return n!==0?n:(n=ge.comparator(s.documentKey,e.documentKey),n!==0?n:Me(s.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class YS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bo(s){if(s.code!==W.FAILED_PRECONDITION||s.message!==QS)throw s;ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&_e(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ee(((i,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(i,o)},this.catchCallback=c=>{this.wrapFailure(n,c).next(i,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ee?n:ee.resolve(n)}catch(n){return ee.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ee.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ee.reject(n)}static resolve(e){return new ee(((n,i)=>{n(e)}))}static reject(e){return new ee(((n,i)=>{i(e)}))}static waitFor(e){return new ee(((n,i)=>{let o=0,c=0,f=!1;e.forEach((g=>{++o,g.next((()=>{++c,f&&c===o&&n()}),(p=>i(p)))})),f=!0,c===o&&n()}))}static or(e){let n=ee.resolve(!1);for(const i of e)n=n.next((o=>o?ee.resolve(o):i()));return n}static forEach(e,n){const i=[];return e.forEach(((o,c)=>{i.push(n.call(this,o,c))})),this.waitFor(i)}static mapArray(e,n){return new ee(((i,o)=>{const c=e.length,f=new Array(c);let g=0;for(let p=0;p<c;p++){const y=p;n(e[y]).next((b=>{f[y]=b,++g,g===c&&i(f)}),(b=>o(b)))}}))}static doWhile(e,n){return new ee(((i,o)=>{const c=()=>{e()===!0?n().next((()=>{c()}),o):i()};c()}))}}function $S(s){const e=s.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Eo(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Sh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Km=-1;function Ah(s){return s==null}function rh(s){return s===0&&1/s==-1/0}function KS(s){return typeof s=="number"&&Number.isInteger(s)&&!rh(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j1="";function XS(s){let e="";for(let n=0;n<s.length;n++)e.length>0&&(e=Ov(e)),e=ZS(s.get(n),e);return Ov(e)}function ZS(s,e){let n=e;const i=s.length;for(let o=0;o<i;o++){const c=s.charAt(o);switch(c){case"\0":n+="";break;case j1:n+="";break;default:n+=c}}return n}function Ov(s){return s+j1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mv(s){let e=0;for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e++;return e}function Ki(s,e){for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e(n,s[n])}function O1(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e,n){this.comparator=e,this.root=n||Bt.EMPTY}insert(e,n){return new ct(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Bt.BLACK,null,null))}remove(e){return new ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Bt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return n+i.left.size;o<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,i)=>(e(n,i),!1)))}toString(){const e=[];return this.inorderTraversal(((n,i)=>(e.push(`${n}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ku(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ku(this.root,e,this.comparator,!1)}getReverseIterator(){return new ku(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ku(this.root,e,this.comparator,!0)}}class ku{constructor(e,n,i,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?i(e.key,n):1,n&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Bt{constructor(e,n,i,o,c){this.key=e,this.value=n,this.color=i??Bt.RED,this.left=o??Bt.EMPTY,this.right=c??Bt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,o,c){return new Bt(e??this.key,n??this.value,i??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let o=this;const c=i(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,n,i),null):c===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Bt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Bt.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Bt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Bt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _e(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _e(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw _e(27949);return e+(this.isRed()?0:1)}}Bt.EMPTY=null,Bt.RED=!0,Bt.BLACK=!1;Bt.EMPTY=new class{constructor(){this.size=0}get key(){throw _e(57766)}get value(){throw _e(16141)}get color(){throw _e(16727)}get left(){throw _e(29726)}get right(){throw _e(36894)}copy(e,n,i,o,c){return this}insert(e,n,i){return new Bt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e){this.comparator=e,this.data=new ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,i)=>(e(n),!1)))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Vv(this.data.getIterator())}getIteratorFrom(e){return new Vv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((i=>{n=n.add(i)})),n}isEqual(e){if(!(e instanceof Nt)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=i.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Nt(this.comparator);return n.data=e,n}}class Vv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e){this.fields=e,e.sort(qt.comparator)}static empty(){return new Gn([])}unionWith(e){let n=new Nt(qt.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new Gn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return oo(this.fields,e.fields,((n,i)=>n.isEqual(i)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new M1("Invalid base64 string: "+c):c}})(e);return new Ht(n)}static fromUint8Array(e){const n=(function(o){let c="";for(let f=0;f<o.length;++f)c+=String.fromCharCode(o[f]);return c})(e);return new Ht(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const i=new Uint8Array(n.length);for(let o=0;o<n.length;o++)i[o]=n.charCodeAt(o);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ht.EMPTY_BYTE_STRING=new Ht("");const WS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Xs(s){if(qe(!!s,39018),typeof s=="string"){let e=0;const n=WS.exec(s);if(qe(!!n,46558,{timestamp:s}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(s);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:vt(s.seconds),nanos:vt(s.nanos)}}function vt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Zs(s){return typeof s=="string"?Ht.fromBase64String(s):Ht.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V1="server_timestamp",k1="__type__",P1="__previous_value__",L1="__local_write_time__";function Xm(s){return(s?.mapValue?.fields||{})[k1]?.stringValue===V1}function Rh(s){const e=s.mapValue.fields[P1];return Xm(e)?Rh(e):e}function Kl(s){const e=Xs(s.mapValue.fields[L1].timestampValue);return new rt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{constructor(e,n,i,o,c,f,g,p,y,b){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=o,this.ssl=c,this.forceLongPolling=f,this.autoDetectLongPolling=g,this.longPollingOptions=p,this.useFetchStreams=y,this.isUsingEmulator=b}}const sh="(default)";class Xl{constructor(e,n){this.projectId=e,this.database=n||sh}static empty(){return new Xl("","")}get isDefaultDatabase(){return this.database===sh}isEqual(e){return e instanceof Xl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U1="__type__",eA="__max__",Pu={mapValue:{}},z1="__vector__",ih="value";function Ws(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Xm(s)?4:nA(s)?9007199254740991:tA(s)?10:11:_e(28295,{value:s})}function Er(s,e){if(s===e)return!0;const n=Ws(s);if(n!==Ws(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Kl(s).isEqual(Kl(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const f=Xs(o.timestampValue),g=Xs(c.timestampValue);return f.seconds===g.seconds&&f.nanos===g.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(o,c){return Zs(o.bytesValue).isEqual(Zs(c.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(o,c){return vt(o.geoPointValue.latitude)===vt(c.geoPointValue.latitude)&&vt(o.geoPointValue.longitude)===vt(c.geoPointValue.longitude)})(s,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return vt(o.integerValue)===vt(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const f=vt(o.doubleValue),g=vt(c.doubleValue);return f===g?rh(f)===rh(g):isNaN(f)&&isNaN(g)}return!1})(s,e);case 9:return oo(s.arrayValue.values||[],e.arrayValue.values||[],Er);case 10:case 11:return(function(o,c){const f=o.mapValue.fields||{},g=c.mapValue.fields||{};if(Mv(f)!==Mv(g))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(g[p]===void 0||!Er(f[p],g[p])))return!1;return!0})(s,e);default:return _e(52216,{left:s})}}function Zl(s,e){return(s.values||[]).find((n=>Er(n,e)))!==void 0}function lo(s,e){if(s===e)return 0;const n=Ws(s),i=Ws(e);if(n!==i)return Me(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Me(s.booleanValue,e.booleanValue);case 2:return(function(c,f){const g=vt(c.integerValue||c.doubleValue),p=vt(f.integerValue||f.doubleValue);return g<p?-1:g>p?1:g===p?0:isNaN(g)?isNaN(p)?0:-1:1})(s,e);case 3:return kv(s.timestampValue,e.timestampValue);case 4:return kv(Kl(s),Kl(e));case 5:return gm(s.stringValue,e.stringValue);case 6:return(function(c,f){const g=Zs(c),p=Zs(f);return g.compareTo(p)})(s.bytesValue,e.bytesValue);case 7:return(function(c,f){const g=c.split("/"),p=f.split("/");for(let y=0;y<g.length&&y<p.length;y++){const b=Me(g[y],p[y]);if(b!==0)return b}return Me(g.length,p.length)})(s.referenceValue,e.referenceValue);case 8:return(function(c,f){const g=Me(vt(c.latitude),vt(f.latitude));return g!==0?g:Me(vt(c.longitude),vt(f.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return Pv(s.arrayValue,e.arrayValue);case 10:return(function(c,f){const g=c.fields||{},p=f.fields||{},y=g[ih]?.arrayValue,b=p[ih]?.arrayValue,x=Me(y?.values?.length||0,b?.values?.length||0);return x!==0?x:Pv(y,b)})(s.mapValue,e.mapValue);case 11:return(function(c,f){if(c===Pu.mapValue&&f===Pu.mapValue)return 0;if(c===Pu.mapValue)return 1;if(f===Pu.mapValue)return-1;const g=c.fields||{},p=Object.keys(g),y=f.fields||{},b=Object.keys(y);p.sort(),b.sort();for(let x=0;x<p.length&&x<b.length;++x){const A=gm(p[x],b[x]);if(A!==0)return A;const V=lo(g[p[x]],y[b[x]]);if(V!==0)return V}return Me(p.length,b.length)})(s.mapValue,e.mapValue);default:throw _e(23264,{he:n})}}function kv(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Me(s,e);const n=Xs(s),i=Xs(e),o=Me(n.seconds,i.seconds);return o!==0?o:Me(n.nanos,i.nanos)}function Pv(s,e){const n=s.values||[],i=e.values||[];for(let o=0;o<n.length&&o<i.length;++o){const c=lo(n[o],i[o]);if(c)return c}return Me(n.length,i.length)}function co(s){return pm(s)}function pm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(n){const i=Xs(n);return`time(${i.seconds},${i.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(n){return Zs(n).toBase64()})(s.bytesValue):"referenceValue"in s?(function(n){return ge.fromName(n).toString()})(s.referenceValue):"geoPointValue"in s?(function(n){return`geo(${n.latitude},${n.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(n){let i="[",o=!0;for(const c of n.values||[])o?o=!1:i+=",",i+=pm(c);return i+"]"})(s.arrayValue):"mapValue"in s?(function(n){const i=Object.keys(n.fields||{}).sort();let o="{",c=!0;for(const f of i)c?c=!1:o+=",",o+=`${f}:${pm(n.fields[f])}`;return o+"}"})(s.mapValue):_e(61005,{value:s})}function Gu(s){switch(Ws(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Rh(s);return e?16+Gu(e):16;case 5:return 2*s.stringValue.length;case 6:return Zs(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((o,c)=>o+Gu(c)),0)})(s.arrayValue);case 10:case 11:return(function(i){let o=0;return Ki(i.fields,((c,f)=>{o+=c.length+Gu(f)})),o})(s.mapValue);default:throw _e(13486,{value:s})}}function Lv(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function ym(s){return!!s&&"integerValue"in s}function Zm(s){return!!s&&"arrayValue"in s}function Uv(s){return!!s&&"nullValue"in s}function zv(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Qu(s){return!!s&&"mapValue"in s}function tA(s){return(s?.mapValue?.fields||{})[U1]?.stringValue===z1}function Bl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return Ki(s.mapValue.fields,((n,i)=>e.mapValue.fields[n]=Bl(i))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(s.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Bl(s.arrayValue.values[n]);return e}return{...s}}function nA(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===eA}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e){this.value=e}static empty(){return new Nn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!Qu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Bl(n)}setAll(e){let n=qt.emptyPath(),i={},o=[];e.forEach(((f,g)=>{if(!n.isImmediateParentOf(g)){const p=this.getFieldsMap(n);this.applyChanges(p,i,o),i={},o=[],n=g.popLast()}f?i[g.lastSegment()]=Bl(f):o.push(g.lastSegment())}));const c=this.getFieldsMap(n);this.applyChanges(c,i,o)}delete(e){const n=this.field(e.popLast());Qu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Er(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=n.mapValue.fields[e.get(i)];Qu(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,i){Ki(n,((o,c)=>e[o]=c));for(const o of i)delete e[o]}clone(){return new Nn(Bl(this.value))}}function B1(s){const e=[];return Ki(s.fields,((n,i)=>{const o=new qt([n]);if(Qu(i)){const c=B1(i.mapValue).fields;if(c.length===0)e.push(o);else for(const f of c)e.push(o.child(f))}else e.push(o)})),new Gn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e,n,i,o,c,f,g){this.key=e,this.documentType=n,this.version=i,this.readTime=o,this.createTime=c,this.data=f,this.documentState=g}static newInvalidDocument(e){return new Xt(e,0,we.min(),we.min(),we.min(),Nn.empty(),0)}static newFoundDocument(e,n,i,o){return new Xt(e,1,n,we.min(),i,o,0)}static newNoDocument(e,n){return new Xt(e,2,n,we.min(),we.min(),Nn.empty(),0)}static newUnknownDocument(e,n){return new Xt(e,3,n,we.min(),we.min(),Nn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Nn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Xt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Xt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(e,n){this.position=e,this.inclusive=n}}function Bv(s,e,n){let i=0;for(let o=0;o<s.position.length;o++){const c=e[o],f=s.position[o];if(c.field.isKeyField()?i=ge.comparator(ge.fromName(f.referenceValue),n.key):i=lo(f,n.data.field(c.field)),c.dir==="desc"&&(i*=-1),i!==0)break}return i}function qv(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let n=0;n<s.position.length;n++)if(!Er(s.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(e,n="asc"){this.field=e,this.dir=n}}function rA(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1{}class xt extends q1{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new iA(e,n,i):n==="array-contains"?new lA(e,i):n==="in"?new cA(e,i):n==="not-in"?new uA(e,i):n==="array-contains-any"?new hA(e,i):new xt(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new aA(e,i):new oA(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(lo(n,this.value)):n!==null&&Ws(this.value)===Ws(n)&&this.matchesComparison(lo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return _e(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Xn extends q1{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Xn(e,n)}matches(e){return H1(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function H1(s){return s.op==="and"}function F1(s){return sA(s)&&H1(s)}function sA(s){for(const e of s.filters)if(e instanceof Xn)return!1;return!0}function vm(s){if(s instanceof xt)return s.field.canonicalString()+s.op.toString()+co(s.value);if(F1(s))return s.filters.map((e=>vm(e))).join(",");{const e=s.filters.map((n=>vm(n))).join(",");return`${s.op}(${e})`}}function G1(s,e){return s instanceof xt?(function(i,o){return o instanceof xt&&i.op===o.op&&i.field.isEqual(o.field)&&Er(i.value,o.value)})(s,e):s instanceof Xn?(function(i,o){return o instanceof Xn&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce(((c,f,g)=>c&&G1(f,o.filters[g])),!0):!1})(s,e):void _e(19439)}function Q1(s){return s instanceof xt?(function(n){return`${n.field.canonicalString()} ${n.op} ${co(n.value)}`})(s):s instanceof Xn?(function(n){return n.op.toString()+" {"+n.getFilters().map(Q1).join(" ,")+"}"})(s):"Filter"}class iA extends xt{constructor(e,n,i){super(e,n,i),this.key=ge.fromName(i.referenceValue)}matches(e){const n=ge.comparator(e.key,this.key);return this.matchesComparison(n)}}class aA extends xt{constructor(e,n){super(e,"in",n),this.keys=Y1("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class oA extends xt{constructor(e,n){super(e,"not-in",n),this.keys=Y1("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function Y1(s,e){return(e.arrayValue?.values||[]).map((n=>ge.fromName(n.referenceValue)))}class lA extends xt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Zm(n)&&Zl(n.arrayValue,this.value)}}class cA extends xt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Zl(this.value.arrayValue,n)}}class uA extends xt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Zl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Zl(this.value.arrayValue,n)}}class hA extends xt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Zm(n)||!n.arrayValue.values)&&n.arrayValue.values.some((i=>Zl(this.value.arrayValue,i)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fA{constructor(e,n=null,i=[],o=[],c=null,f=null,g=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=o,this.limit=c,this.startAt=f,this.endAt=g,this.Te=null}}function Hv(s,e=null,n=[],i=[],o=null,c=null,f=null){return new fA(s,e,n,i,o,c,f)}function Wm(s){const e=Ae(s);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((i=>vm(i))).join(","),n+="|ob:",n+=e.orderBy.map((i=>(function(c){return c.field.canonicalString()+c.dir})(i))).join(","),Ah(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((i=>co(i))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((i=>co(i))).join(",")),e.Te=n}return e.Te}function Jm(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<s.orderBy.length;n++)if(!rA(s.orderBy[n],e.orderBy[n]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let n=0;n<s.filters.length;n++)if(!G1(s.filters[n],e.filters[n]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!qv(s.startAt,e.startAt)&&qv(s.endAt,e.endAt)}function _m(s){return ge.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(e,n=null,i=[],o=[],c=null,f="F",g=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=o,this.limit=c,this.limitType=f,this.startAt=g,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function dA(s,e,n,i,o,c,f,g){return new xo(s,e,n,i,o,c,f,g)}function eg(s){return new xo(s)}function Fv(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function $1(s){return s.collectionGroup!==null}function ql(s){const e=Ae(s);if(e.Ie===null){e.Ie=[];const n=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),n.add(c.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let g=new Nt(qt.comparator);return f.filters.forEach((p=>{p.getFlattenedFilters().forEach((y=>{y.isInequality()&&(g=g.add(y.field))}))})),g})(e).forEach((c=>{n.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new Wl(c,i))})),n.has(qt.keyField().canonicalString())||e.Ie.push(new Wl(qt.keyField(),i))}return e.Ie}function gr(s){const e=Ae(s);return e.Ee||(e.Ee=mA(e,ql(s))),e.Ee}function mA(s,e){if(s.limitType==="F")return Hv(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new Wl(o.field,c)}));const n=s.endAt?new ah(s.endAt.position,s.endAt.inclusive):null,i=s.startAt?new ah(s.startAt.position,s.startAt.inclusive):null;return Hv(s.path,s.collectionGroup,e,s.filters,s.limit,n,i)}}function bm(s,e){const n=s.filters.concat([e]);return new xo(s.path,s.collectionGroup,s.explicitOrderBy.slice(),n,s.limit,s.limitType,s.startAt,s.endAt)}function Em(s,e,n){return new xo(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,n,s.startAt,s.endAt)}function Ch(s,e){return Jm(gr(s),gr(e))&&s.limitType===e.limitType}function K1(s){return`${Wm(gr(s))}|lt:${s.limitType}`}function Xa(s){return`Query(target=${(function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map((o=>Q1(o))).join(", ")}]`),Ah(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map((o=>co(o))).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map((o=>co(o))).join(",")),`Target(${i})`})(gr(s))}; limitType=${s.limitType})`}function Nh(s,e){return e.isFoundDocument()&&(function(i,o){const c=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(c):ge.isDocumentKey(i.path)?i.path.isEqual(c):i.path.isImmediateParentOf(c)})(s,e)&&(function(i,o){for(const c of ql(i))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(s,e)&&(function(i,o){for(const c of i.filters)if(!c.matches(o))return!1;return!0})(s,e)&&(function(i,o){return!(i.startAt&&!(function(f,g,p){const y=Bv(f,g,p);return f.inclusive?y<=0:y<0})(i.startAt,ql(i),o)||i.endAt&&!(function(f,g,p){const y=Bv(f,g,p);return f.inclusive?y>=0:y>0})(i.endAt,ql(i),o))})(s,e)}function gA(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function X1(s){return(e,n)=>{let i=!1;for(const o of ql(s)){const c=pA(o,e,n);if(c!==0)return c;i=i||o.field.isKeyField()}return 0}}function pA(s,e,n){const i=s.field.isKeyField()?ge.comparator(e.key,n.key):(function(c,f,g){const p=f.data.field(c),y=g.data.field(c);return p!==null&&y!==null?lo(p,y):_e(42886)})(s.field,e,n);switch(s.dir){case"asc":return i;case"desc":return-1*i;default:return _e(19790,{direction:s.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[o,c]of i)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[n]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ki(this.inner,((n,i)=>{for(const[o,c]of i)e(o,c)}))}isEmpty(){return O1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yA=new ct(ge.comparator);function Zr(){return yA}const Z1=new ct(ge.comparator);function Pl(...s){let e=Z1;for(const n of s)e=e.insert(n.key,n);return e}function W1(s){let e=Z1;return s.forEach(((n,i)=>e=e.insert(n,i.overlayedDocument))),e}function zi(){return Hl()}function J1(){return Hl()}function Hl(){return new Xi((s=>s.toString()),((s,e)=>s.isEqual(e)))}const vA=new ct(ge.comparator),_A=new Nt(ge.comparator);function Ve(...s){let e=_A;for(const n of s)e=e.add(n);return e}const bA=new Nt(Me);function EA(){return bA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tg(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:rh(e)?"-0":e}}function eb(s){return{integerValue:""+s}}function xA(s,e){return KS(e)?eb(e):tg(s,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(){this._=void 0}}function TA(s,e,n){return s instanceof oh?(function(o,c){const f={fields:{[k1]:{stringValue:V1},[L1]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Xm(c)&&(c=Rh(c)),c&&(f.fields[P1]=c),{mapValue:f}})(n,e):s instanceof Jl?nb(s,e):s instanceof ec?rb(s,e):(function(o,c){const f=tb(o,c),g=Gv(f)+Gv(o.Ae);return ym(f)&&ym(o.Ae)?eb(g):tg(o.serializer,g)})(s,e)}function wA(s,e,n){return s instanceof Jl?nb(s,e):s instanceof ec?rb(s,e):n}function tb(s,e){return s instanceof lh?(function(i){return ym(i)||(function(c){return!!c&&"doubleValue"in c})(i)})(e)?e:{integerValue:0}:null}class oh extends Ih{}class Jl extends Ih{constructor(e){super(),this.elements=e}}function nb(s,e){const n=sb(e);for(const i of s.elements)n.some((o=>Er(o,i)))||n.push(i);return{arrayValue:{values:n}}}class ec extends Ih{constructor(e){super(),this.elements=e}}function rb(s,e){let n=sb(e);for(const i of s.elements)n=n.filter((o=>!Er(o,i)));return{arrayValue:{values:n}}}class lh extends Ih{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Gv(s){return vt(s.integerValue||s.doubleValue)}function sb(s){return Zm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function SA(s,e){return s.field.isEqual(e.field)&&(function(i,o){return i instanceof Jl&&o instanceof Jl||i instanceof ec&&o instanceof ec?oo(i.elements,o.elements,Er):i instanceof lh&&o instanceof lh?Er(i.Ae,o.Ae):i instanceof oh&&o instanceof oh})(s.transform,e.transform)}class AA{constructor(e,n){this.version=e,this.transformResults=n}}class Yn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Yn}static exists(e){return new Yn(void 0,e)}static updateTime(e){return new Yn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Yu(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Dh{}function ib(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new ng(s.key,Yn.none()):new lc(s.key,s.data,Yn.none());{const n=s.data,i=Nn.empty();let o=new Nt(qt.comparator);for(let c of e.fields)if(!o.has(c)){let f=n.field(c);f===null&&c.length>1&&(c=c.popLast(),f=n.field(c)),f===null?i.delete(c):i.set(c,f),o=o.add(c)}return new Zi(s.key,i,new Gn(o.toArray()),Yn.none())}}function RA(s,e,n){s instanceof lc?(function(o,c,f){const g=o.value.clone(),p=Yv(o.fieldTransforms,c,f.transformResults);g.setAll(p),c.convertToFoundDocument(f.version,g).setHasCommittedMutations()})(s,e,n):s instanceof Zi?(function(o,c,f){if(!Yu(o.precondition,c))return void c.convertToUnknownDocument(f.version);const g=Yv(o.fieldTransforms,c,f.transformResults),p=c.data;p.setAll(ab(o)),p.setAll(g),c.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(s,e,n):(function(o,c,f){c.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,n)}function Fl(s,e,n,i){return s instanceof lc?(function(c,f,g,p){if(!Yu(c.precondition,f))return g;const y=c.value.clone(),b=$v(c.fieldTransforms,p,f);return y.setAll(b),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null})(s,e,n,i):s instanceof Zi?(function(c,f,g,p){if(!Yu(c.precondition,f))return g;const y=$v(c.fieldTransforms,p,f),b=f.data;return b.setAll(ab(c)),b.setAll(y),f.convertToFoundDocument(f.version,b).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((x=>x.field)))})(s,e,n,i):(function(c,f,g){return Yu(c.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):g})(s,e,n)}function CA(s,e){let n=null;for(const i of s.fieldTransforms){const o=e.data.field(i.field),c=tb(i.transform,o||null);c!=null&&(n===null&&(n=Nn.empty()),n.set(i.field,c))}return n||null}function Qv(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&oo(i,o,((c,f)=>SA(c,f)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class lc extends Dh{constructor(e,n,i,o=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Zi extends Dh{constructor(e,n,i,o,c=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function ab(s){const e=new Map;return s.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const i=s.data.field(n);e.set(n,i)}})),e}function Yv(s,e,n){const i=new Map;qe(s.length===n.length,32656,{Re:n.length,Ve:s.length});for(let o=0;o<n.length;o++){const c=s[o],f=c.transform,g=e.data.field(c.field);i.set(c.field,wA(f,g,n[o]))}return i}function $v(s,e,n){const i=new Map;for(const o of s){const c=o.transform,f=n.data.field(o.field);i.set(o.field,TA(c,f,e))}return i}class ng extends Dh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class NA extends Dh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(e,n,i,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&RA(c,e,i[o])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=Fl(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=Fl(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=J1();return this.mutations.forEach((o=>{const c=e.get(o.key),f=c.overlayedDocument;let g=this.applyToLocalView(f,c.mutatedFields);g=n.has(o.key)?null:g;const p=ib(f,g);p!==null&&i.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(we.min())})),i}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ve())}isEqual(e){return this.batchId===e.batchId&&oo(this.mutations,e.mutations,((n,i)=>Qv(n,i)))&&oo(this.baseMutations,e.baseMutations,((n,i)=>Qv(n,i)))}}class rg{constructor(e,n,i,o){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=o}static from(e,n,i){qe(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let o=(function(){return vA})();const c=e.mutations;for(let f=0;f<c.length;f++)o=o.insert(c[f].key,i[f].version);return new rg(e,n,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Et,Pe;function OA(s){switch(s){case W.OK:return _e(64938);case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0;default:return _e(15467,{code:s})}}function ob(s){if(s===void 0)return Kr("GRPC error has no .code"),W.UNKNOWN;switch(s){case Et.OK:return W.OK;case Et.CANCELLED:return W.CANCELLED;case Et.UNKNOWN:return W.UNKNOWN;case Et.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case Et.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case Et.INTERNAL:return W.INTERNAL;case Et.UNAVAILABLE:return W.UNAVAILABLE;case Et.UNAUTHENTICATED:return W.UNAUTHENTICATED;case Et.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case Et.NOT_FOUND:return W.NOT_FOUND;case Et.ALREADY_EXISTS:return W.ALREADY_EXISTS;case Et.PERMISSION_DENIED:return W.PERMISSION_DENIED;case Et.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case Et.ABORTED:return W.ABORTED;case Et.OUT_OF_RANGE:return W.OUT_OF_RANGE;case Et.UNIMPLEMENTED:return W.UNIMPLEMENTED;case Et.DATA_LOSS:return W.DATA_LOSS;default:return _e(39323,{code:s})}}(Pe=Et||(Et={}))[Pe.OK=0]="OK",Pe[Pe.CANCELLED=1]="CANCELLED",Pe[Pe.UNKNOWN=2]="UNKNOWN",Pe[Pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pe[Pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pe[Pe.NOT_FOUND=5]="NOT_FOUND",Pe[Pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pe[Pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pe[Pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pe[Pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pe[Pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pe[Pe.ABORTED=10]="ABORTED",Pe[Pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pe[Pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pe[Pe.INTERNAL=13]="INTERNAL",Pe[Pe.UNAVAILABLE=14]="UNAVAILABLE",Pe[Pe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MA(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VA=new Ys([4294967295,4294967295],0);function Kv(s){const e=MA().encode(s),n=new x1;return n.update(e),new Uint8Array(n.digest())}function Xv(s){const e=new DataView(s.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Ys([n,i],0),new Ys([o,c],0)]}class sg{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Ll(`Invalid padding: ${n}`);if(i<0)throw new Ll(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Ll(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new Ll(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Ys.fromNumber(this.ge)}ye(e,n,i){let o=e.add(n.multiply(Ys.fromNumber(i)));return o.compare(VA)===1&&(o=new Ys([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Kv(e),[i,o]=Xv(n);for(let c=0;c<this.hashCount;c++){const f=this.ye(i,o,c);if(!this.we(f))return!1}return!0}static create(e,n,i){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),f=new sg(c,o,n);return i.forEach((g=>f.insert(g))),f}insert(e){if(this.ge===0)return;const n=Kv(e),[i,o]=Xv(n);for(let c=0;c<this.hashCount;c++){const f=this.ye(i,o,c);this.Se(f)}}Se(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class Ll extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(e,n,i,o,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const o=new Map;return o.set(e,cc.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new jh(we.min(),o,new ct(Me),Zr(),Ve())}}class cc{constructor(e,n,i,o,c){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new cc(i,n,Ve(),Ve(),Ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u{constructor(e,n,i,o){this.be=e,this.removedTargetIds=n,this.key=i,this.De=o}}class lb{constructor(e,n){this.targetId=e,this.Ce=n}}class cb{constructor(e,n,i=Ht.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=o}}class Zv{constructor(){this.ve=0,this.Fe=Wv(),this.Me=Ht.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ve(),n=Ve(),i=Ve();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:i=i.add(o);break;default:_e(38017,{changeType:c})}})),new cc(this.Me,this.xe,e,n,i)}qe(){this.Oe=!1,this.Fe=Wv()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,qe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class kA{constructor(e){this.Ge=e,this.ze=new Map,this.je=Zr(),this.Je=Lu(),this.He=Lu(),this.Ye=new ct(Me)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const i=this.nt(n);switch(e.state){case 0:this.rt(n)&&i.Le(e.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(e.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(i.We(),i.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),i.Le(e.resumeToken));break;default:_e(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((i,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,i=e.Ce.count,o=this.ot(n);if(o){const c=o.target;if(_m(c))if(i===0){const f=new ge(c.path);this.et(n,f,Xt.newNoDocument(f,we.min()))}else qe(i===1,20013,{expectedCount:i});else{const f=this._t(n);if(f!==i){const g=this.ut(e),p=g?this.ct(g,e,f):1;if(p!==0){this.it(n);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:c=0}=n;let f,g;try{f=Zs(i).toUint8Array()}catch(p){if(p instanceof M1)return ao("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{g=new sg(f,o,c)}catch(p){return ao(p instanceof Ll?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return g.ge===0?null:g}ct(e,n,i){return n.Ce.count===i-this.Pt(e,n.targetId)?0:2}Pt(e,n){const i=this.Ge.getRemoteKeysForTarget(n);let o=0;return i.forEach((c=>{const f=this.Ge.ht(),g=`projects/${f.projectId}/databases/${f.database}/documents/${c.path.canonicalString()}`;e.mightContain(g)||(this.et(n,c,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((c,f)=>{const g=this.ot(f);if(g){if(c.current&&_m(g.target)){const p=new ge(g.target.path);this.It(p).has(f)||this.Et(f,p)||this.et(f,p,Xt.newNoDocument(p,e))}c.Be&&(n.set(f,c.ke()),c.qe())}}));let i=Ve();this.He.forEach(((c,f)=>{let g=!0;f.forEachWhile((p=>{const y=this.ot(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(i=i.add(c))})),this.je.forEach(((c,f)=>f.setReadTime(e)));const o=new jh(e,n,this.Ye,this.je,i);return this.je=Zr(),this.Je=Lu(),this.He=Lu(),this.Ye=new ct(Me),o}Xe(e,n){if(!this.rt(e))return;const i=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,i),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,i){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),i&&(this.je=this.je.insert(n,i))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new Zv,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Nt(Me),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Nt(Me),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ce("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Zv),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Lu(){return new ct(ge.comparator)}function Wv(){return new ct(ge.comparator)}const PA={asc:"ASCENDING",desc:"DESCENDING"},LA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},UA={and:"AND",or:"OR"};class zA{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function xm(s,e){return s.useProto3Json||Ah(e)?e:{value:e}}function ch(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ub(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function BA(s,e){return ch(s,e.toTimestamp())}function pr(s){return qe(!!s,49232),we.fromTimestamp((function(n){const i=Xs(n);return new rt(i.seconds,i.nanos)})(s))}function ig(s,e){return Tm(s,e).canonicalString()}function Tm(s,e){const n=(function(o){return new tt(["projects",o.projectId,"databases",o.database])})(s).child("documents");return e===void 0?n:n.child(e)}function hb(s){const e=tt.fromString(s);return qe(pb(e),10190,{key:e.toString()}),e}function wm(s,e){return ig(s.databaseId,e.path)}function em(s,e){const n=hb(e);if(n.get(1)!==s.databaseId.projectId)throw new oe(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+s.databaseId.projectId);if(n.get(3)!==s.databaseId.database)throw new oe(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+s.databaseId.database);return new ge(db(n))}function fb(s,e){return ig(s.databaseId,e)}function qA(s){const e=hb(s);return e.length===4?tt.emptyPath():db(e)}function Sm(s){return new tt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function db(s){return qe(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function Jv(s,e,n){return{name:wm(s,e),fields:n.value.mapValue.fields}}function HA(s,e){let n;if("targetChange"in e){e.targetChange;const i=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:_e(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(y,b){return y.useProto3Json?(qe(b===void 0||typeof b=="string",58123),Ht.fromBase64String(b||"")):(qe(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),Ht.fromUint8Array(b||new Uint8Array))})(s,e.targetChange.resumeToken),f=e.targetChange.cause,g=f&&(function(y){const b=y.code===void 0?W.UNKNOWN:ob(y.code);return new oe(b,y.message||"")})(f);n=new cb(i,o,c,g||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=em(s,i.document.name),c=pr(i.document.updateTime),f=i.document.createTime?pr(i.document.createTime):we.min(),g=new Nn({mapValue:{fields:i.document.fields}}),p=Xt.newFoundDocument(o,c,f,g),y=i.targetIds||[],b=i.removedTargetIds||[];n=new $u(y,b,p.key,p)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=em(s,i.document),c=i.readTime?pr(i.readTime):we.min(),f=Xt.newNoDocument(o,c),g=i.removedTargetIds||[];n=new $u([],g,f.key,f)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=em(s,i.document),c=i.removedTargetIds||[];n=new $u([],c,o,null)}else{if(!("filter"in e))return _e(11601,{Rt:e});{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:c}=i,f=new jA(o,c),g=i.targetId;n=new lb(g,f)}}return n}function FA(s,e){let n;if(e instanceof lc)n={update:Jv(s,e.key,e.value)};else if(e instanceof ng)n={delete:wm(s,e.key)};else if(e instanceof Zi)n={update:Jv(s,e.key,e.data),updateMask:JA(e.fieldMask)};else{if(!(e instanceof NA))return _e(16599,{Vt:e.type});n={verify:wm(s,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((i=>(function(c,f){const g=f.transform;if(g instanceof oh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Jl)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof ec)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof lh)return{fieldPath:f.field.canonicalString(),increment:g.Ae};throw _e(20930,{transform:f.transform})})(0,i)))),e.precondition.isNone||(n.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:BA(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:_e(27497)})(s,e.precondition)),n}function GA(s,e){return s&&s.length>0?(qe(e!==void 0,14353),s.map((n=>(function(o,c){let f=o.updateTime?pr(o.updateTime):pr(c);return f.isEqual(we.min())&&(f=pr(c)),new AA(f,o.transformResults||[])})(n,e)))):[]}function QA(s,e){return{documents:[fb(s,e.path)]}}function YA(s,e){const n={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=fb(s,o);const c=(function(y){if(y.length!==0)return gb(Xn.create(y,"and"))})(e.filters);c&&(n.structuredQuery.where=c);const f=(function(y){if(y.length!==0)return y.map((b=>(function(A){return{field:Za(A.field),direction:XA(A.dir)}})(b)))})(e.orderBy);f&&(n.structuredQuery.orderBy=f);const g=xm(s,e.limit);return g!==null&&(n.structuredQuery.limit=g),e.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:n,parent:o}}function $A(s){let e=qA(s.parent);const n=s.structuredQuery,i=n.from?n.from.length:0;let o=null;if(i>0){qe(i===1,65062);const b=n.from[0];b.allDescendants?o=b.collectionId:e=e.child(b.collectionId)}let c=[];n.where&&(c=(function(x){const A=mb(x);return A instanceof Xn&&F1(A)?A.getFilters():[A]})(n.where));let f=[];n.orderBy&&(f=(function(x){return x.map((A=>(function(q){return new Wl(Wa(q.field),(function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(q.direction))})(A)))})(n.orderBy));let g=null;n.limit&&(g=(function(x){let A;return A=typeof x=="object"?x.value:x,Ah(A)?null:A})(n.limit));let p=null;n.startAt&&(p=(function(x){const A=!!x.before,V=x.values||[];return new ah(V,A)})(n.startAt));let y=null;return n.endAt&&(y=(function(x){const A=!x.before,V=x.values||[];return new ah(V,A)})(n.endAt)),dA(e,o,f,c,g,"F",p,y)}function KA(s,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _e(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function mb(s){return s.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=Wa(n.unaryFilter.field);return xt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=Wa(n.unaryFilter.field);return xt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Wa(n.unaryFilter.field);return xt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Wa(n.unaryFilter.field);return xt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _e(61313);default:return _e(60726)}})(s):s.fieldFilter!==void 0?(function(n){return xt.create(Wa(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _e(58110);default:return _e(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(n){return Xn.create(n.compositeFilter.filters.map((i=>mb(i))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return _e(1026)}})(n.compositeFilter.op))})(s):_e(30097,{filter:s})}function XA(s){return PA[s]}function ZA(s){return LA[s]}function WA(s){return UA[s]}function Za(s){return{fieldPath:s.canonicalString()}}function Wa(s){return qt.fromServerFormat(s.fieldPath)}function gb(s){return s instanceof xt?(function(n){if(n.op==="=="){if(zv(n.value))return{unaryFilter:{field:Za(n.field),op:"IS_NAN"}};if(Uv(n.value))return{unaryFilter:{field:Za(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(zv(n.value))return{unaryFilter:{field:Za(n.field),op:"IS_NOT_NAN"}};if(Uv(n.value))return{unaryFilter:{field:Za(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Za(n.field),op:ZA(n.op),value:n.value}}})(s):s instanceof Xn?(function(n){const i=n.getFilters().map((o=>gb(o)));return i.length===1?i[0]:{compositeFilter:{op:WA(n.op),filters:i}}})(s):_e(54877,{filter:s})}function JA(s){const e=[];return s.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function pb(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(e,n,i,o,c=we.min(),f=we.min(),g=Ht.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=g,this.expectedCount=p}withSequenceNumber(e){return new Hs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Hs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Hs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Hs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e4{constructor(e){this.yt=e}}function t4(s){const e=$A({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Em(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n4{constructor(){this.Cn=new r4}addToCollectionParentIndex(e,n){return this.Cn.add(n),ee.resolve()}getCollectionParents(e,n){return ee.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ee.resolve()}deleteFieldIndex(e,n){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,n){return ee.resolve()}getDocumentsMatchingTarget(e,n){return ee.resolve(null)}getIndexType(e,n){return ee.resolve(0)}getFieldIndexes(e,n){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,n){return ee.resolve(Ks.min())}getMinOffsetFromCollectionGroup(e,n){return ee.resolve(Ks.min())}updateCollectionGroup(e,n,i){return ee.resolve()}updateIndexEntries(e,n){return ee.resolve()}}class r4{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),o=this.index[n]||new Nt(tt.comparator),c=!o.has(i);return this.index[n]=o.add(i),c}has(e){const n=e.lastSegment(),i=e.popLast(),o=this.index[n];return o&&o.has(i)}getEntries(e){return(this.index[e]||new Nt(tt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},yb=41943040;class ln{static withCacheSize(e){return new ln(e,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ln.DEFAULT_COLLECTION_PERCENTILE=10,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ln.DEFAULT=new ln(yb,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ln.DISABLED=new ln(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new uo(0)}static cr(){return new uo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t_="LruGarbageCollector",s4=1048576;function n_([s,e],[n,i]){const o=Me(s,n);return o===0?Me(e,i):o}class i4{constructor(e){this.Ir=e,this.buffer=new Nt(n_),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();n_(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class a4{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ce(t_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Eo(n)?ce(t_,"Ignoring IndexedDB error during garbage collection: ",n):await bo(n)}await this.Vr(3e5)}))}}class o4{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((i=>Math.floor(n/100*i)))}nthSequenceNumber(e,n){if(n===0)return ee.resolve(Sh.ce);const i=new i4(n);return this.mr.forEachTarget(e,(o=>i.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>i.Ar(o))))).next((()=>i.maxValue))}removeTargets(e,n,i){return this.mr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(e_)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),e_):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let i,o,c,f,g,p,y;const b=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((x=>(x>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),o=this.params.maximumSequenceNumbersToCollect):o=x,f=Date.now(),this.nthSequenceNumber(e,o)))).next((x=>(i=x,g=Date.now(),this.removeTargets(e,i,n)))).next((x=>(c=x,p=Date.now(),this.removeOrphanedDocuments(e,i)))).next((x=>(y=Date.now(),Ka()<=Oe.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-b}ms
	Determined least recently used ${o} in `+(g-f)+`ms
	Removed ${c} targets in `+(p-g)+`ms
	Removed ${x} documents in `+(y-p)+`ms
Total Duration: ${y-b}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:x}))))}}function l4(s,e){return new o4(s,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c4{constructor(){this.changes=new Xi((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Xt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?ee.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u4{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h4{constructor(e,n,i,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(i=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(i!==null&&Fl(i.mutation,o,Gn.empty(),rt.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.getLocalViewOfDocuments(e,i,Ve()).next((()=>i))))}getLocalViewOfDocuments(e,n,i=Ve()){const o=zi();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,i).next((c=>{let f=Pl();return c.forEach(((g,p)=>{f=f.insert(g,p.overlayedDocument)})),f}))))}getOverlayedDocuments(e,n){const i=zi();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,Ve())))}populateOverlays(e,n,i){const o=[];return i.forEach((c=>{n.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((f,g)=>{n.set(f,g)}))}))}computeViews(e,n,i,o){let c=Zr();const f=Hl(),g=(function(){return Hl()})();return n.forEach(((p,y)=>{const b=i.get(y.key);o.has(y.key)&&(b===void 0||b.mutation instanceof Zi)?c=c.insert(y.key,y):b!==void 0?(f.set(y.key,b.mutation.getFieldMask()),Fl(b.mutation,y,b.mutation.getFieldMask(),rt.now())):f.set(y.key,Gn.empty())})),this.recalculateAndSaveOverlays(e,c).next((p=>(p.forEach(((y,b)=>f.set(y,b))),n.forEach(((y,b)=>g.set(y,new u4(b,f.get(y)??null)))),g)))}recalculateAndSaveOverlays(e,n){const i=Hl();let o=new ct(((f,g)=>f-g)),c=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((f=>{for(const g of f)g.keys().forEach((p=>{const y=n.get(p);if(y===null)return;let b=i.get(p)||Gn.empty();b=g.applyToLocalView(y,b),i.set(p,b);const x=(o.get(g.batchId)||Ve()).add(p);o=o.insert(g.batchId,x)}))})).next((()=>{const f=[],g=o.getReverseIterator();for(;g.hasNext();){const p=g.getNext(),y=p.key,b=p.value,x=J1();b.forEach((A=>{if(!c.has(A)){const V=ib(n.get(A),i.get(A));V!==null&&x.set(A,V),c=c.add(A)}})),f.push(this.documentOverlayCache.saveOverlays(e,y,x))}return ee.waitFor(f)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,n,i,o){return(function(f){return ge.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):$1(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,o):this.getDocumentsMatchingCollectionQuery(e,n,i,o)}getNextDocuments(e,n,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,o).next((c=>{const f=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,o-c.size):ee.resolve(zi());let g=$l,p=c;return f.next((y=>ee.forEach(y,((b,x)=>(g<x.largestBatchId&&(g=x.largestBatchId),c.get(b)?ee.resolve():this.remoteDocumentCache.getEntry(e,b).next((A=>{p=p.insert(b,A)}))))).next((()=>this.populateOverlays(e,y,c))).next((()=>this.computeViews(e,p,y,Ve()))).next((b=>({batchId:g,changes:W1(b)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ge(n)).next((i=>{let o=Pl();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,i,o){const c=n.collectionGroup;let f=Pl();return this.indexManager.getCollectionParents(e,c).next((g=>ee.forEach(g,(p=>{const y=(function(x,A){return new xo(A,null,x.explicitOrderBy.slice(),x.filters.slice(),x.limit,x.limitType,x.startAt,x.endAt)})(n,p.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,i,o).next((b=>{b.forEach(((x,A)=>{f=f.insert(x,A)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,n,i,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next((f=>(c=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,c,o)))).next((f=>{c.forEach(((p,y)=>{const b=y.getKey();f.get(b)===null&&(f=f.insert(b,Xt.newInvalidDocument(b)))}));let g=Pl();return f.forEach(((p,y)=>{const b=c.get(p);b!==void 0&&Fl(b.mutation,y,Gn.empty(),rt.now()),Nh(n,y)&&(g=g.insert(p,y))})),g}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f4{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ee.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:pr(o.createTime)}})(n)),ee.resolve()}getNamedQuery(e,n){return ee.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:t4(o.bundledQuery),readTime:pr(o.readTime)}})(n)),ee.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d4{constructor(){this.overlays=new ct(ge.comparator),this.qr=new Map}getOverlay(e,n){return ee.resolve(this.overlays.get(n))}getOverlays(e,n){const i=zi();return ee.forEach(n,(o=>this.getOverlay(e,o).next((c=>{c!==null&&i.set(o,c)})))).next((()=>i))}saveOverlays(e,n,i){return i.forEach(((o,c)=>{this.St(e,n,c)})),ee.resolve()}removeOverlaysForBatchId(e,n,i){const o=this.qr.get(i);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(i)),ee.resolve()}getOverlaysForCollection(e,n,i){const o=zi(),c=n.length+1,f=new ge(n.child("")),g=this.overlays.getIteratorFrom(f);for(;g.hasNext();){const p=g.getNext().value,y=p.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===c&&p.largestBatchId>i&&o.set(p.getKey(),p)}return ee.resolve(o)}getOverlaysForCollectionGroup(e,n,i,o){let c=new ct(((y,b)=>y-b));const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>i){let b=c.get(y.largestBatchId);b===null&&(b=zi(),c=c.insert(y.largestBatchId,b)),b.set(y.getKey(),y)}}const g=zi(),p=c.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((y,b)=>g.set(y,b))),!(g.size()>=o)););return ee.resolve(g)}St(e,n,i){const o=this.overlays.get(i.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(i.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(i.key,new DA(n,i));let c=this.qr.get(n);c===void 0&&(c=Ve(),this.qr.set(n,c)),this.qr.set(n,c.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m4{constructor(){this.sessionToken=Ht.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ee.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{constructor(){this.Qr=new Nt(Vt.$r),this.Ur=new Nt(Vt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const i=new Vt(e,n);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(e,n){e.forEach((i=>this.addReference(i,n)))}removeReference(e,n){this.Gr(new Vt(e,n))}zr(e,n){e.forEach((i=>this.removeReference(i,n)))}jr(e){const n=new ge(new tt([])),i=new Vt(n,e),o=new Vt(n,e+1),c=[];return this.Ur.forEachInRange([i,o],(f=>{this.Gr(f),c.push(f.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ge(new tt([])),i=new Vt(n,e),o=new Vt(n,e+1);let c=Ve();return this.Ur.forEachInRange([i,o],(f=>{c=c.add(f.key)})),c}containsKey(e){const n=new Vt(e,0),i=this.Qr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class Vt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ge.comparator(e.key,n.key)||Me(e.Yr,n.Yr)}static Kr(e,n){return Me(e.Yr,n.Yr)||ge.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g4{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Nt(Vt.$r)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new IA(c,n,i,o);this.mutationQueue.push(f);for(const g of o)this.Zr=this.Zr.add(new Vt(g.key,c)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return ee.resolve(f)}lookupMutationBatch(e,n){return ee.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,o=this.ei(i),c=o<0?0:o;return ee.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?Km:this.tr-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new Vt(n,0),o=new Vt(n,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([i,o],(f=>{const g=this.Xr(f.Yr);c.push(g)})),ee.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Nt(Me);return n.forEach((o=>{const c=new Vt(o,0),f=new Vt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,f],(g=>{i=i.add(g.Yr)}))})),ee.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,o=i.length+1;let c=i;ge.isDocumentKey(c)||(c=c.child(""));const f=new Vt(new ge(c),0);let g=new Nt(Me);return this.Zr.forEachWhile((p=>{const y=p.key.path;return!!i.isPrefixOf(y)&&(y.length===o&&(g=g.add(p.Yr)),!0)}),f),ee.resolve(this.ti(g))}ti(e){const n=[];return e.forEach((i=>{const o=this.Xr(i);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){qe(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return ee.forEach(n.mutations,(o=>{const c=new Vt(o.key,n.batchId);return i=i.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=i}))}ir(e){}containsKey(e,n){const i=new Vt(n,0),o=this.Zr.firstAfterOrEqual(i);return ee.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p4{constructor(e){this.ri=e,this.docs=(function(){return new ct(ge.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,o=this.docs.get(i),c=o?o.size:0,f=this.ri(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:f}),this.size+=f-c,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return ee.resolve(i?i.document.mutableCopy():Xt.newInvalidDocument(n))}getEntries(e,n){let i=Zr();return n.forEach((o=>{const c=this.docs.get(o);i=i.insert(o,c?c.document.mutableCopy():Xt.newInvalidDocument(o))})),ee.resolve(i)}getDocumentsMatchingQuery(e,n,i,o){let c=Zr();const f=n.path,g=new ge(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(g);for(;p.hasNext();){const{key:y,value:{document:b}}=p.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||GS(FS(b),i)<=0||(o.has(b.key)||Nh(n,b))&&(c=c.insert(b.key,b.mutableCopy()))}return ee.resolve(c)}getAllFromCollectionGroup(e,n,i,o){_e(9500)}ii(e,n){return ee.forEach(this.docs,(i=>n(i)))}newChangeBuffer(e){return new y4(this)}getSize(e){return ee.resolve(this.size)}}class y4 extends c4{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((i,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(i)})),ee.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v4{constructor(e){this.persistence=e,this.si=new Xi((n=>Wm(n)),Jm),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.oi=0,this._i=new ag,this.targetCount=0,this.ai=uo.ur()}forEachTarget(e,n){return this.si.forEach(((i,o)=>n(o))),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.oi&&(this.oi=n),ee.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new uo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ee.resolve()}updateTargetData(e,n){return this.Pr(n),ee.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,n,i){let o=0;const c=[];return this.si.forEach(((f,g)=>{g.sequenceNumber<=n&&i.get(g.targetId)===null&&(this.si.delete(f),c.push(this.removeMatchingKeysForTargetId(e,g.targetId)),o++)})),ee.waitFor(c).next((()=>o))}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,n){const i=this.si.get(n)||null;return ee.resolve(i)}addMatchingKeys(e,n,i){return this._i.Wr(n,i),ee.resolve()}removeMatchingKeys(e,n,i){this._i.zr(n,i);const o=this.persistence.referenceDelegate,c=[];return o&&n.forEach((f=>{c.push(o.markPotentiallyOrphaned(e,f))})),ee.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ee.resolve()}getMatchingKeysForTargetId(e,n){const i=this._i.Hr(n);return ee.resolve(i)}containsKey(e,n){return ee.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vb{constructor(e,n){this.ui={},this.overlays={},this.ci=new Sh(0),this.li=!1,this.li=!0,this.hi=new m4,this.referenceDelegate=e(this),this.Pi=new v4(this),this.indexManager=new n4,this.remoteDocumentCache=(function(o){return new p4(o)})((i=>this.referenceDelegate.Ti(i))),this.serializer=new e4(n),this.Ii=new f4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new d4,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.ui[e.toKey()];return i||(i=new g4(n,this.referenceDelegate),this.ui[e.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,i){ce("MemoryPersistence","Starting transaction:",e);const o=new _4(this.ci.next());return this.referenceDelegate.Ei(),i(o).next((c=>this.referenceDelegate.di(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ai(e,n){return ee.or(Object.values(this.ui).map((i=>()=>i.containsKey(e,n))))}}class _4 extends YS{constructor(e){super(),this.currentSequenceNumber=e}}class og{constructor(e){this.persistence=e,this.Ri=new ag,this.Vi=null}static mi(e){return new og(e)}get fi(){if(this.Vi)return this.Vi;throw _e(60996)}addReference(e,n,i){return this.Ri.addReference(i,n),this.fi.delete(i.toString()),ee.resolve()}removeReference(e,n,i){return this.Ri.removeReference(i,n),this.fi.add(i.toString()),ee.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ee.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((c=>this.fi.add(c.toString())))})).next((()=>i.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.fi,(i=>{const o=ge.fromPath(i);return this.gi(e,o).next((c=>{c||n.removeEntry(o,we.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((i=>{i?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ee.or([()=>ee.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class uh{constructor(e,n){this.persistence=e,this.pi=new Xi((i=>XS(i.path)),((i,o)=>i.isEqual(o))),this.garbageCollector=l4(this,n)}static mi(e,n){return new uh(e,n)}Ei(){}di(e){return ee.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>n.next((o=>i+o))))}wr(e){let n=0;return this.pr(e,(i=>{n++})).next((()=>n))}pr(e,n){return ee.forEach(this.pi,((i,o)=>this.br(e,i,o).next((c=>c?ee.resolve():n(o)))))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(e,(f=>this.br(e,f,n).next((g=>{g||(i++,c.removeEntry(f,we.min()))})))).next((()=>c.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ee.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.pi.set(i,e.currentSequenceNumber),ee.resolve()}removeReference(e,n,i){return this.pi.set(i,e.currentSequenceNumber),ee.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ee.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Gu(e.data.value)),n}br(e,n,i){return ee.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return ee.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(e,n,i,o){this.targetId=e,this.fromCache=n,this.Es=i,this.ds=o}static As(e,n){let i=Ve(),o=Ve();for(const c of n.docChanges)switch(c.type){case 0:i=i.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new lg(e,n.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E4{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return mw()?8:$S(Zt())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,i,o){const c={result:null};return this.ys(e,n).next((f=>{c.result=f})).next((()=>{if(!c.result)return this.ws(e,n,o,i).next((f=>{c.result=f}))})).next((()=>{if(c.result)return;const f=new b4;return this.Ss(e,n,f).next((g=>{if(c.result=g,this.Vs)return this.bs(e,n,f,g.size)}))})).next((()=>c.result))}bs(e,n,i,o){return i.documentReadCount<this.fs?(Ka()<=Oe.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",Xa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ee.resolve()):(Ka()<=Oe.DEBUG&&ce("QueryEngine","Query:",Xa(n),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.gs*o?(Ka()<=Oe.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",Xa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,gr(n))):ee.resolve())}ys(e,n){if(Fv(n))return ee.resolve(null);let i=gr(n);return this.indexManager.getIndexType(e,i).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Em(n,null,"F"),i=gr(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next((c=>{const f=Ve(...c);return this.ps.getDocuments(e,f).next((g=>this.indexManager.getMinOffset(e,i).next((p=>{const y=this.Ds(n,g);return this.Cs(n,y,f,p.readTime)?this.ys(e,Em(n,null,"F")):this.vs(e,y,n,p)}))))})))))}ws(e,n,i,o){return Fv(n)||o.isEqual(we.min())?ee.resolve(null):this.ps.getDocuments(e,i).next((c=>{const f=this.Ds(n,c);return this.Cs(n,f,i,o)?ee.resolve(null):(Ka()<=Oe.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Xa(n)),this.vs(e,f,n,HS(o,$l)).next((g=>g)))}))}Ds(e,n){let i=new Nt(X1(e));return n.forEach(((o,c)=>{Nh(e,c)&&(i=i.add(c))})),i}Cs(e,n,i,o){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(e,n,i){return Ka()<=Oe.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",Xa(n)),this.ps.getDocumentsMatchingQuery(e,n,Ks.min(),i)}vs(e,n,i,o){return this.ps.getDocumentsMatchingQuery(e,i,o).next((c=>(n.forEach((f=>{c=c.insert(f.key,f)})),c)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cg="LocalStore",x4=3e8;class T4{constructor(e,n,i,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new ct(Me),this.xs=new Xi((c=>Wm(c)),Jm),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(i)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new h4(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function w4(s,e,n,i){return new T4(s,e,n,i)}async function _b(s,e){const n=Ae(s);return await n.persistence.runTransaction("Handle user change","readonly",(i=>{let o;return n.mutationQueue.getAllMutationBatches(i).next((c=>(o=c,n.Bs(e),n.mutationQueue.getAllMutationBatches(i)))).next((c=>{const f=[],g=[];let p=Ve();for(const y of o){f.push(y.batchId);for(const b of y.mutations)p=p.add(b.key)}for(const y of c){g.push(y.batchId);for(const b of y.mutations)p=p.add(b.key)}return n.localDocuments.getDocuments(i,p).next((y=>({Ls:y,removedBatchIds:f,addedBatchIds:g})))}))}))}function S4(s,e){const n=Ae(s);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const o=e.batch.keys(),c=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,p,y,b){const x=y.batch,A=x.keys();let V=ee.resolve();return A.forEach((q=>{V=V.next((()=>b.getEntry(p,q))).next((U=>{const F=y.docVersions.get(q);qe(F!==null,48541),U.version.compareTo(F)<0&&(x.applyToRemoteDocument(U,y),U.isValidDocument()&&(U.setReadTime(y.commitVersion),b.addEntry(U)))}))})),V.next((()=>g.mutationQueue.removeMutationBatch(p,x)))})(n,i,e,c).next((()=>c.apply(i))).next((()=>n.mutationQueue.performConsistencyCheck(i))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(g){let p=Ve();for(let y=0;y<g.mutationResults.length;++y)g.mutationResults[y].transformResults.length>0&&(p=p.add(g.batch.mutations[y].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(i,o)))}))}function bb(s){const e=Ae(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function A4(s,e){const n=Ae(s),i=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const g=[];e.targetChanges.forEach(((b,x)=>{const A=o.get(x);if(!A)return;g.push(n.Pi.removeMatchingKeys(c,b.removedDocuments,x).next((()=>n.Pi.addMatchingKeys(c,b.addedDocuments,x))));let V=A.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(x)!==null?V=V.withResumeToken(Ht.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):b.resumeToken.approximateByteSize()>0&&(V=V.withResumeToken(b.resumeToken,i)),o=o.insert(x,V),(function(U,F,te){return U.resumeToken.approximateByteSize()===0||F.snapshotVersion.toMicroseconds()-U.snapshotVersion.toMicroseconds()>=x4?!0:te.addedDocuments.size+te.modifiedDocuments.size+te.removedDocuments.size>0})(A,V,b)&&g.push(n.Pi.updateTargetData(c,V))}));let p=Zr(),y=Ve();if(e.documentUpdates.forEach((b=>{e.resolvedLimboDocuments.has(b)&&g.push(n.persistence.referenceDelegate.updateLimboDocument(c,b))})),g.push(R4(c,f,e.documentUpdates).next((b=>{p=b.ks,y=b.qs}))),!i.isEqual(we.min())){const b=n.Pi.getLastRemoteSnapshotVersion(c).next((x=>n.Pi.setTargetsMetadata(c,c.currentSequenceNumber,i)));g.push(b)}return ee.waitFor(g).next((()=>f.apply(c))).next((()=>n.localDocuments.getLocalViewOfDocuments(c,p,y))).next((()=>p))})).then((c=>(n.Ms=o,c)))}function R4(s,e,n){let i=Ve(),o=Ve();return n.forEach((c=>i=i.add(c))),e.getEntries(s,i).next((c=>{let f=Zr();return n.forEach(((g,p)=>{const y=c.get(g);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(g)),p.isNoDocument()&&p.version.isEqual(we.min())?(e.removeEntry(g,p.readTime),f=f.insert(g,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),f=f.insert(g,p)):ce(cg,"Ignoring outdated watch update for ",g,". Current version:",y.version," Watch version:",p.version)})),{ks:f,qs:o}}))}function C4(s,e){const n=Ae(s);return n.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=Km),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function N4(s,e){const n=Ae(s);return n.persistence.runTransaction("Allocate target","readwrite",(i=>{let o;return n.Pi.getTargetData(i,e).next((c=>c?(o=c,ee.resolve(o)):n.Pi.allocateTargetId(i).next((f=>(o=new Hs(e,f,"TargetPurposeListen",i.currentSequenceNumber),n.Pi.addTargetData(i,o).next((()=>o)))))))})).then((i=>{const o=n.Ms.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(i.targetId,i),n.xs.set(e,i.targetId)),i}))}async function Am(s,e,n){const i=Ae(s),o=i.Ms.get(e),c=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",c,(f=>i.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!Eo(f))throw f;ce(cg,`Failed to update sequence numbers for target ${e}: ${f}`)}i.Ms=i.Ms.remove(e),i.xs.delete(o.target)}function r_(s,e,n){const i=Ae(s);let o=we.min(),c=Ve();return i.persistence.runTransaction("Execute query","readwrite",(f=>(function(p,y,b){const x=Ae(p),A=x.xs.get(b);return A!==void 0?ee.resolve(x.Ms.get(A)):x.Pi.getTargetData(y,b)})(i,f,gr(e)).next((g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(f,g.targetId).next((p=>{c=p}))})).next((()=>i.Fs.getDocumentsMatchingQuery(f,e,n?o:we.min(),n?c:Ve()))).next((g=>(I4(i,gA(e),g),{documents:g,Qs:c})))))}function I4(s,e,n){let i=s.Os.get(e)||we.min();n.forEach(((o,c)=>{c.readTime.compareTo(i)>0&&(i=c.readTime)})),s.Os.set(e,i)}class s_{constructor(){this.activeTargetIds=EA()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class D4{constructor(){this.Mo=new s_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,i){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new s_,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j4{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i_="ConnectivityMonitor";class a_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ce(i_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ce(i_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uu=null;function Rm(){return Uu===null?Uu=(function(){return 268435456+Math.round(2147483648*Math.random())})():Uu++,"0x"+Uu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tm="RestConnection",O4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class M4{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${i}/databases/${o}`,this.Wo=this.databaseId.database===sh?`project_id=${i}`:`project_id=${i}&database_id=${o}`}Go(e,n,i,o,c){const f=Rm(),g=this.zo(e,n.toUriEncodedString());ce(tm,`Sending RPC '${e}' ${f}:`,g,i);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,c);const{host:y}=new URL(g),b=yo(y);return this.Jo(e,g,p,i,b).then((x=>(ce(tm,`Received RPC '${e}' ${f}: `,x),x)),(x=>{throw ao(tm,`RPC '${e}' ${f} failed with error: `,x,"url: ",g,"request:",i),x}))}Ho(e,n,i,o,c,f){return this.Go(e,n,i,o,c)}jo(e,n,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+_o})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,c)=>e[c]=o)),i&&i.headers.forEach(((o,c)=>e[c]=o))}zo(e,n){const i=O4[e];return`${this.Uo}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V4{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $t="WebChannelConnection";class k4 extends M4{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,i,o,c){const f=Rm();return new Promise(((g,p)=>{const y=new T1;y.setWithCredentials(!0),y.listenOnce(w1.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Fu.NO_ERROR:const x=y.getResponseJson();ce($t,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(x)),g(x);break;case Fu.TIMEOUT:ce($t,`RPC '${e}' ${f} timed out`),p(new oe(W.DEADLINE_EXCEEDED,"Request time out"));break;case Fu.HTTP_ERROR:const A=y.getStatus();if(ce($t,`RPC '${e}' ${f} failed with status:`,A,"response text:",y.getResponseText()),A>0){let V=y.getResponseJson();Array.isArray(V)&&(V=V[0]);const q=V?.error;if(q&&q.status&&q.message){const U=(function(te){const X=te.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(X)>=0?X:W.UNKNOWN})(q.status);p(new oe(U,q.message))}else p(new oe(W.UNKNOWN,"Server responded with status "+y.getStatus()))}else p(new oe(W.UNAVAILABLE,"Connection failed."));break;default:_e(9055,{l_:e,streamId:f,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ce($t,`RPC '${e}' ${f} completed.`)}}));const b=JSON.stringify(o);ce($t,`RPC '${e}' ${f} sending request:`,o),y.send(n,"POST",b,i,15)}))}T_(e,n,i){const o=Rm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=R1(),g=A1(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,i),p.encodeInitMessageHeaders=!0;const b=c.join("");ce($t,`Creating RPC '${e}' stream ${o}: ${b}`,p);const x=f.createWebChannel(b,p);this.I_(x);let A=!1,V=!1;const q=new V4({Yo:F=>{V?ce($t,`Not sending because RPC '${e}' stream ${o} is closed:`,F):(A||(ce($t,`Opening RPC '${e}' stream ${o} transport.`),x.open(),A=!0),ce($t,`RPC '${e}' stream ${o} sending:`,F),x.send(F))},Zo:()=>x.close()}),U=(F,te,X)=>{F.listen(te,(re=>{try{X(re)}catch(xe){setTimeout((()=>{throw xe}),0)}}))};return U(x,kl.EventType.OPEN,(()=>{V||(ce($t,`RPC '${e}' stream ${o} transport opened.`),q.o_())})),U(x,kl.EventType.CLOSE,(()=>{V||(V=!0,ce($t,`RPC '${e}' stream ${o} transport closed`),q.a_(),this.E_(x))})),U(x,kl.EventType.ERROR,(F=>{V||(V=!0,ao($t,`RPC '${e}' stream ${o} transport errored. Name:`,F.name,"Message:",F.message),q.a_(new oe(W.UNAVAILABLE,"The operation could not be completed")))})),U(x,kl.EventType.MESSAGE,(F=>{if(!V){const te=F.data[0];qe(!!te,16349);const X=te,re=X?.error||X[0]?.error;if(re){ce($t,`RPC '${e}' stream ${o} received error:`,re);const xe=re.status;let fe=(function(S){const R=Et[S];if(R!==void 0)return ob(R)})(xe),he=re.message;fe===void 0&&(fe=W.INTERNAL,he="Unknown error status: "+xe+" with message "+re.message),V=!0,q.a_(new oe(fe,he)),x.close()}else ce($t,`RPC '${e}' stream ${o} received:`,te),q.u_(te)}})),U(g,S1.STAT_EVENT,(F=>{F.stat===mm.PROXY?ce($t,`RPC '${e}' stream ${o} detected buffering proxy`):F.stat===mm.NOPROXY&&ce($t,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{q.__()}),0),q}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function nm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oh(s){return new zA(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eb{constructor(e,n,i=1e3,o=1.5,c=6e4){this.Mi=e,this.timerId=n,this.d_=i,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-i);o>0&&ce("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o_="PersistentStream";class xb{constructor(e,n,i,o,c,f,g,p){this.Mi=e,this.S_=i,this.b_=o,this.connection=c,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=g,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Eb(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===W.RESOURCE_EXHAUSTED?(Kr(n.toString()),Kr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,o])=>{this.D_===n&&this.G_(i,o)}),(i=>{e((()=>{const o=new oe(W.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(o)}))}))}G_(e,n){const i=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{i((()=>this.listener.Xo()))})),this.stream.t_((()=>{i((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{i((()=>this.z_(o)))})),this.stream.onMessage((o=>{i((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ce(o_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ce(o_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class P4 extends xb{constructor(e,n,i,o,c,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,o,f),this.serializer=c}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=HA(this.serializer,e),i=(function(c){if(!("targetChange"in c))return we.min();const f=c.targetChange;return f.targetIds&&f.targetIds.length?we.min():f.readTime?pr(f.readTime):we.min()})(e);return this.listener.H_(n,i)}Y_(e){const n={};n.database=Sm(this.serializer),n.addTarget=(function(c,f){let g;const p=f.target;if(g=_m(p)?{documents:QA(c,p)}:{query:YA(c,p).ft},g.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){g.resumeToken=ub(c,f.resumeToken);const y=xm(c,f.expectedCount);y!==null&&(g.expectedCount=y)}else if(f.snapshotVersion.compareTo(we.min())>0){g.readTime=ch(c,f.snapshotVersion.toTimestamp());const y=xm(c,f.expectedCount);y!==null&&(g.expectedCount=y)}return g})(this.serializer,e);const i=KA(this.serializer,e);i&&(n.labels=i),this.q_(n)}Z_(e){const n={};n.database=Sm(this.serializer),n.removeTarget=e,this.q_(n)}}class L4 extends xb{constructor(e,n,i,o,c,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,o,f),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return qe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,qe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){qe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=GA(e.writeResults,e.commitTime),i=pr(e.commitTime);return this.listener.na(i,n)}ra(){const e={};e.database=Sm(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((i=>FA(this.serializer,i)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U4{}class z4 extends U4{constructor(e,n,i,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new oe(W.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,f])=>this.connection.Go(e,Tm(n,i),o,c,f))).catch((c=>{throw c.name==="FirebaseError"?(c.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new oe(W.UNKNOWN,c.toString())}))}Ho(e,n,i,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,g])=>this.connection.Ho(e,Tm(n,i),o,f,g,c))).catch((f=>{throw f.name==="FirebaseError"?(f.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new oe(W.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class B4{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Kr(n),this.aa=!1):ce("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qi="RemoteStore";class q4{constructor(e,n,i,o,c){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((f=>{i.enqueueAndForget((async()=>{Wi(this)&&(ce(Qi,"Restarting streams for network reachability change."),await(async function(p){const y=Ae(p);y.Ea.add(4),await uc(y),y.Ra.set("Unknown"),y.Ea.delete(4),await Mh(y)})(this))}))})),this.Ra=new B4(i,o)}}async function Mh(s){if(Wi(s))for(const e of s.da)await e(!0)}async function uc(s){for(const e of s.da)await e(!1)}function Tb(s,e){const n=Ae(s);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),dg(n)?fg(n):To(n).O_()&&hg(n,e))}function ug(s,e){const n=Ae(s),i=To(n);n.Ia.delete(e),i.O_()&&wb(n,e),n.Ia.size===0&&(i.O_()?i.L_():Wi(n)&&n.Ra.set("Unknown"))}function hg(s,e){if(s.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const n=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}To(s).Y_(e)}function wb(s,e){s.Va.Ue(e),To(s).Z_(e)}function fg(s){s.Va=new kA({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),To(s).start(),s.Ra.ua()}function dg(s){return Wi(s)&&!To(s).x_()&&s.Ia.size>0}function Wi(s){return Ae(s).Ea.size===0}function Sb(s){s.Va=void 0}async function H4(s){s.Ra.set("Online")}async function F4(s){s.Ia.forEach(((e,n)=>{hg(s,e)}))}async function G4(s,e){Sb(s),dg(s)?(s.Ra.ha(e),fg(s)):s.Ra.set("Unknown")}async function Q4(s,e,n){if(s.Ra.set("Online"),e instanceof cb&&e.state===2&&e.cause)try{await(async function(o,c){const f=c.cause;for(const g of c.targetIds)o.Ia.has(g)&&(await o.remoteSyncer.rejectListen(g,f),o.Ia.delete(g),o.Va.removeTarget(g))})(s,e)}catch(i){ce(Qi,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await hh(s,i)}else if(e instanceof $u?s.Va.Ze(e):e instanceof lb?s.Va.st(e):s.Va.tt(e),!n.isEqual(we.min()))try{const i=await bb(s.localStore);n.compareTo(i)>=0&&await(function(c,f){const g=c.Va.Tt(f);return g.targetChanges.forEach(((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const b=c.Ia.get(y);b&&c.Ia.set(y,b.withResumeToken(p.resumeToken,f))}})),g.targetMismatches.forEach(((p,y)=>{const b=c.Ia.get(p);if(!b)return;c.Ia.set(p,b.withResumeToken(Ht.EMPTY_BYTE_STRING,b.snapshotVersion)),wb(c,p);const x=new Hs(b.target,p,y,b.sequenceNumber);hg(c,x)})),c.remoteSyncer.applyRemoteEvent(g)})(s,n)}catch(i){ce(Qi,"Failed to raise snapshot:",i),await hh(s,i)}}async function hh(s,e,n){if(!Eo(e))throw e;s.Ea.add(1),await uc(s),s.Ra.set("Offline"),n||(n=()=>bb(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{ce(Qi,"Retrying IndexedDB access"),await n(),s.Ea.delete(1),await Mh(s)}))}function Ab(s,e){return e().catch((n=>hh(s,n,e)))}async function Vh(s){const e=Ae(s),n=Js(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Km;for(;Y4(e);)try{const o=await C4(e.localStore,i);if(o===null){e.Ta.length===0&&n.L_();break}i=o.batchId,$4(e,o)}catch(o){await hh(e,o)}Rb(e)&&Cb(e)}function Y4(s){return Wi(s)&&s.Ta.length<10}function $4(s,e){s.Ta.push(e);const n=Js(s);n.O_()&&n.X_&&n.ea(e.mutations)}function Rb(s){return Wi(s)&&!Js(s).x_()&&s.Ta.length>0}function Cb(s){Js(s).start()}async function K4(s){Js(s).ra()}async function X4(s){const e=Js(s);for(const n of s.Ta)e.ea(n.mutations)}async function Z4(s,e,n){const i=s.Ta.shift(),o=rg.from(i,e,n);await Ab(s,(()=>s.remoteSyncer.applySuccessfulWrite(o))),await Vh(s)}async function W4(s,e){e&&Js(s).X_&&await(async function(i,o){if((function(f){return OA(f)&&f!==W.ABORTED})(o.code)){const c=i.Ta.shift();Js(i).B_(),await Ab(i,(()=>i.remoteSyncer.rejectFailedWrite(c.batchId,o))),await Vh(i)}})(s,e),Rb(s)&&Cb(s)}async function l_(s,e){const n=Ae(s);n.asyncQueue.verifyOperationInProgress(),ce(Qi,"RemoteStore received new credentials");const i=Wi(n);n.Ea.add(3),await uc(n),i&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Mh(n)}async function J4(s,e){const n=Ae(s);e?(n.Ea.delete(2),await Mh(n)):e||(n.Ea.add(2),await uc(n),n.Ra.set("Unknown"))}function To(s){return s.ma||(s.ma=(function(n,i,o){const c=Ae(n);return c.sa(),new P4(i,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Xo:H4.bind(null,s),t_:F4.bind(null,s),r_:G4.bind(null,s),H_:Q4.bind(null,s)}),s.da.push((async e=>{e?(s.ma.B_(),dg(s)?fg(s):s.Ra.set("Unknown")):(await s.ma.stop(),Sb(s))}))),s.ma}function Js(s){return s.fa||(s.fa=(function(n,i,o){const c=Ae(n);return c.sa(),new L4(i,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:K4.bind(null,s),r_:W4.bind(null,s),ta:X4.bind(null,s),na:Z4.bind(null,s)}),s.da.push((async e=>{e?(s.fa.B_(),await Vh(s)):(await s.fa.stop(),s.Ta.length>0&&(ce(Qi,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(e,n,i,o,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=o,this.removalCallback=c,this.deferred=new Qr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,o,c){const f=Date.now()+i,g=new mg(e,n,f,o,c);return g.start(i),g}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new oe(W.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function gg(s,e){if(Kr("AsyncQueue",`${e}: ${s}`),Eo(s))return new oe(W.UNAVAILABLE,`${e}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{static emptySet(e){return new eo(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||ge.comparator(n.key,i.key):(n,i)=>ge.comparator(n.key,i.key),this.keyedMap=Pl(),this.sortedSet=new ct(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,i)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof eo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=i.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new eo;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c_{constructor(){this.ga=new ct(ge.comparator)}track(e){const n=e.doc.key,i=this.ga.get(n);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(n,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(n):e.type===1&&i.type===2?this.ga=this.ga.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):_e(63341,{Rt:e,pa:i}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,i)=>{e.push(i)})),e}}class ho{constructor(e,n,i,o,c,f,g,p,y){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=c,this.fromCache=f,this.syncStateChanged=g,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,n,i,o,c){const f=[];return n.forEach((g=>{f.push({type:0,doc:g})})),new ho(e,n,eo.emptySet(n),f,i,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ch(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==i[o].type||!n[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class tR{constructor(){this.queries=u_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const o=Ae(n),c=o.queries;o.queries=u_(),c.forEach(((f,g)=>{for(const p of g.Sa)p.onError(i)}))})(this,new oe(W.ABORTED,"Firestore shutting down"))}}function u_(){return new Xi((s=>K1(s)),Ch)}async function Nb(s,e){const n=Ae(s);let i=3;const o=e.query;let c=n.queries.get(o);c?!c.ba()&&e.Da()&&(i=2):(c=new eR,i=e.Da()?0:1);try{switch(i){case 0:c.wa=await n.onListen(o,!0);break;case 1:c.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const g=gg(f,`Initialization of query '${Xa(e.query)}' failed`);return void e.onError(g)}n.queries.set(o,c),c.Sa.push(e),e.va(n.onlineState),c.wa&&e.Fa(c.wa)&&pg(n)}async function Ib(s,e){const n=Ae(s),i=e.query;let o=3;const c=n.queries.get(i);if(c){const f=c.Sa.indexOf(e);f>=0&&(c.Sa.splice(f,1),c.Sa.length===0?o=e.Da()?0:1:!c.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function nR(s,e){const n=Ae(s);let i=!1;for(const o of e){const c=o.query,f=n.queries.get(c);if(f){for(const g of f.Sa)g.Fa(o)&&(i=!0);f.wa=o}}i&&pg(n)}function rR(s,e,n){const i=Ae(s),o=i.queries.get(e);if(o)for(const c of o.Sa)c.onError(n);i.queries.delete(e)}function pg(s){s.Ca.forEach((e=>{e.next()}))}var Cm,h_;(h_=Cm||(Cm={})).Ma="default",h_.Cache="cache";class Db{constructor(e,n,i){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new ho(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const i=n!=="Offline";return(!this.options.qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=ho.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Cm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jb{constructor(e){this.key=e}}class Ob{constructor(e){this.key=e}}class sR{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ve(),this.mutatedKeys=Ve(),this.eu=X1(e),this.tu=new eo(this.eu)}get nu(){return this.Ya}ru(e,n){const i=n?n.iu:new c_,o=n?n.tu:this.tu;let c=n?n.mutatedKeys:this.mutatedKeys,f=o,g=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((b,x)=>{const A=o.get(b),V=Nh(this.query,x)?x:null,q=!!A&&this.mutatedKeys.has(A.key),U=!!V&&(V.hasLocalMutations||this.mutatedKeys.has(V.key)&&V.hasCommittedMutations);let F=!1;A&&V?A.data.isEqual(V.data)?q!==U&&(i.track({type:3,doc:V}),F=!0):this.su(A,V)||(i.track({type:2,doc:V}),F=!0,(p&&this.eu(V,p)>0||y&&this.eu(V,y)<0)&&(g=!0)):!A&&V?(i.track({type:0,doc:V}),F=!0):A&&!V&&(i.track({type:1,doc:A}),F=!0,(p||y)&&(g=!0)),F&&(V?(f=f.add(V),c=U?c.add(b):c.delete(b)):(f=f.delete(b),c=c.delete(b)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const b=this.query.limitType==="F"?f.last():f.first();f=f.delete(b.key),c=c.delete(b.key),i.track({type:1,doc:b})}return{tu:f,iu:i,Cs:g,mutatedKeys:c}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((b,x)=>(function(V,q){const U=F=>{switch(F){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _e(20277,{Rt:F})}};return U(V)-U(q)})(b.type,x.type)||this.eu(b.doc,x.doc))),this.ou(i),o=o??!1;const g=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,y=p!==this.Za;return this.Za=p,f.length!==0||y?{snapshot:new ho(this.query,e.tu,c,f,e.mutatedKeys,p===0,y,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new c_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ve(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))}));const n=[];return e.forEach((i=>{this.Xa.has(i)||n.push(new Ob(i))})),this.Xa.forEach((i=>{e.has(i)||n.push(new jb(i))})),n}cu(e){this.Ya=e.Qs,this.Xa=Ve();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return ho.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const yg="SyncEngine";class iR{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class aR{constructor(e){this.key=e,this.hu=!1}}class oR{constructor(e,n,i,o,c,f){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new Xi((g=>K1(g)),Ch),this.Iu=new Map,this.Eu=new Set,this.du=new ct(ge.comparator),this.Au=new Map,this.Ru=new ag,this.Vu={},this.mu=new Map,this.fu=uo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function lR(s,e,n=!0){const i=Ub(s);let o;const c=i.Tu.get(e);return c?(i.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await Mb(i,e,n,!0),o}async function cR(s,e){const n=Ub(s);await Mb(n,e,!0,!1)}async function Mb(s,e,n,i){const o=await N4(s.localStore,gr(e)),c=o.targetId,f=s.sharedClientState.addLocalQueryTarget(c,n);let g;return i&&(g=await uR(s,e,c,f==="current",o.resumeToken)),s.isPrimaryClient&&n&&Tb(s.remoteStore,o),g}async function uR(s,e,n,i,o){s.pu=(x,A,V)=>(async function(U,F,te,X){let re=F.view.ru(te);re.Cs&&(re=await r_(U.localStore,F.query,!1).then((({documents:I})=>F.view.ru(I,re))));const xe=X&&X.targetChanges.get(F.targetId),fe=X&&X.targetMismatches.get(F.targetId)!=null,he=F.view.applyChanges(re,U.isPrimaryClient,xe,fe);return d_(U,F.targetId,he.au),he.snapshot})(s,x,A,V);const c=await r_(s.localStore,e,!0),f=new sR(e,c.Qs),g=f.ru(c.documents),p=cc.createSynthesizedTargetChangeForCurrentChange(n,i&&s.onlineState!=="Offline",o),y=f.applyChanges(g,s.isPrimaryClient,p);d_(s,n,y.au);const b=new iR(e,n,f);return s.Tu.set(e,b),s.Iu.has(n)?s.Iu.get(n).push(e):s.Iu.set(n,[e]),y.snapshot}async function hR(s,e,n){const i=Ae(s),o=i.Tu.get(e),c=i.Iu.get(o.targetId);if(c.length>1)return i.Iu.set(o.targetId,c.filter((f=>!Ch(f,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await Am(i.localStore,o.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(o.targetId),n&&ug(i.remoteStore,o.targetId),Nm(i,o.targetId)})).catch(bo)):(Nm(i,o.targetId),await Am(i.localStore,o.targetId,!0))}async function fR(s,e){const n=Ae(s),i=n.Tu.get(e),o=n.Iu.get(i.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),ug(n.remoteStore,i.targetId))}async function dR(s,e,n){const i=bR(s);try{const o=await(function(f,g){const p=Ae(f),y=rt.now(),b=g.reduce(((V,q)=>V.add(q.key)),Ve());let x,A;return p.persistence.runTransaction("Locally write mutations","readwrite",(V=>{let q=Zr(),U=Ve();return p.Ns.getEntries(V,b).next((F=>{q=F,q.forEach(((te,X)=>{X.isValidDocument()||(U=U.add(te))}))})).next((()=>p.localDocuments.getOverlayedDocuments(V,q))).next((F=>{x=F;const te=[];for(const X of g){const re=CA(X,x.get(X.key).overlayedDocument);re!=null&&te.push(new Zi(X.key,re,B1(re.value.mapValue),Yn.exists(!0)))}return p.mutationQueue.addMutationBatch(V,y,te,g)})).next((F=>{A=F;const te=F.applyToLocalDocumentSet(x,U);return p.documentOverlayCache.saveOverlays(V,F.batchId,te)}))})).then((()=>({batchId:A.batchId,changes:W1(x)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),(function(f,g,p){let y=f.Vu[f.currentUser.toKey()];y||(y=new ct(Me)),y=y.insert(g,p),f.Vu[f.currentUser.toKey()]=y})(i,o.batchId,n),await hc(i,o.changes),await Vh(i.remoteStore)}catch(o){const c=gg(o,"Failed to persist write");n.reject(c)}}async function Vb(s,e){const n=Ae(s);try{const i=await A4(n.localStore,e);e.targetChanges.forEach(((o,c)=>{const f=n.Au.get(c);f&&(qe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?qe(f.hu,14607):o.removedDocuments.size>0&&(qe(f.hu,42227),f.hu=!1))})),await hc(n,i,e)}catch(i){await bo(i)}}function f_(s,e,n){const i=Ae(s);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const o=[];i.Tu.forEach(((c,f)=>{const g=f.view.va(e);g.snapshot&&o.push(g.snapshot)})),(function(f,g){const p=Ae(f);p.onlineState=g;let y=!1;p.queries.forEach(((b,x)=>{for(const A of x.Sa)A.va(g)&&(y=!0)})),y&&pg(p)})(i.eventManager,e),o.length&&i.Pu.H_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function mR(s,e,n){const i=Ae(s);i.sharedClientState.updateQueryState(e,"rejected",n);const o=i.Au.get(e),c=o&&o.key;if(c){let f=new ct(ge.comparator);f=f.insert(c,Xt.newNoDocument(c,we.min()));const g=Ve().add(c),p=new jh(we.min(),new Map,new ct(Me),f,g);await Vb(i,p),i.du=i.du.remove(c),i.Au.delete(e),vg(i)}else await Am(i.localStore,e,!1).then((()=>Nm(i,e,n))).catch(bo)}async function gR(s,e){const n=Ae(s),i=e.batch.batchId;try{const o=await S4(n.localStore,e);Pb(n,i,null),kb(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await hc(n,o)}catch(o){await bo(o)}}async function pR(s,e,n){const i=Ae(s);try{const o=await(function(f,g){const p=Ae(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let b;return p.mutationQueue.lookupMutationBatch(y,g).next((x=>(qe(x!==null,37113),b=x.keys(),p.mutationQueue.removeMutationBatch(y,x)))).next((()=>p.mutationQueue.performConsistencyCheck(y))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(y,b,g))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,b))).next((()=>p.localDocuments.getDocuments(y,b)))}))})(i.localStore,e);Pb(i,e,n),kb(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await hc(i,o)}catch(o){await bo(o)}}function kb(s,e){(s.mu.get(e)||[]).forEach((n=>{n.resolve()})),s.mu.delete(e)}function Pb(s,e,n){const i=Ae(s);let o=i.Vu[i.currentUser.toKey()];if(o){const c=o.get(e);c&&(n?c.reject(n):c.resolve(),o=o.remove(e)),i.Vu[i.currentUser.toKey()]=o}}function Nm(s,e,n=null){s.sharedClientState.removeLocalQueryTarget(e);for(const i of s.Iu.get(e))s.Tu.delete(i),n&&s.Pu.yu(i,n);s.Iu.delete(e),s.isPrimaryClient&&s.Ru.jr(e).forEach((i=>{s.Ru.containsKey(i)||Lb(s,i)}))}function Lb(s,e){s.Eu.delete(e.path.canonicalString());const n=s.du.get(e);n!==null&&(ug(s.remoteStore,n),s.du=s.du.remove(e),s.Au.delete(n),vg(s))}function d_(s,e,n){for(const i of n)i instanceof jb?(s.Ru.addReference(i.key,e),yR(s,i)):i instanceof Ob?(ce(yg,"Document no longer in limbo: "+i.key),s.Ru.removeReference(i.key,e),s.Ru.containsKey(i.key)||Lb(s,i.key)):_e(19791,{wu:i})}function yR(s,e){const n=e.key,i=n.path.canonicalString();s.du.get(n)||s.Eu.has(i)||(ce(yg,"New document in limbo: "+n),s.Eu.add(i),vg(s))}function vg(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const n=new ge(tt.fromString(e)),i=s.fu.next();s.Au.set(i,new aR(n)),s.du=s.du.insert(n,i),Tb(s.remoteStore,new Hs(gr(eg(n.path)),i,"TargetPurposeLimboResolution",Sh.ce))}}async function hc(s,e,n){const i=Ae(s),o=[],c=[],f=[];i.Tu.isEmpty()||(i.Tu.forEach(((g,p)=>{f.push(i.pu(p,e,n).then((y=>{if((y||n)&&i.isPrimaryClient){const b=y?!y.fromCache:n?.targetChanges.get(p.targetId)?.current;i.sharedClientState.updateQueryState(p.targetId,b?"current":"not-current")}if(y){o.push(y);const b=lg.As(p.targetId,y);c.push(b)}})))})),await Promise.all(f),i.Pu.H_(o),await(async function(p,y){const b=Ae(p);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(x=>ee.forEach(y,(A=>ee.forEach(A.Es,(V=>b.persistence.referenceDelegate.addReference(x,A.targetId,V))).next((()=>ee.forEach(A.ds,(V=>b.persistence.referenceDelegate.removeReference(x,A.targetId,V)))))))))}catch(x){if(!Eo(x))throw x;ce(cg,"Failed to update sequence numbers: "+x)}for(const x of y){const A=x.targetId;if(!x.fromCache){const V=b.Ms.get(A),q=V.snapshotVersion,U=V.withLastLimboFreeSnapshotVersion(q);b.Ms=b.Ms.insert(A,U)}}})(i.localStore,c))}async function vR(s,e){const n=Ae(s);if(!n.currentUser.isEqual(e)){ce(yg,"User change. New user:",e.toKey());const i=await _b(n.localStore,e);n.currentUser=e,(function(c,f){c.mu.forEach((g=>{g.forEach((p=>{p.reject(new oe(W.CANCELLED,f))}))})),c.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await hc(n,i.Ls)}}function _R(s,e){const n=Ae(s),i=n.Au.get(e);if(i&&i.hu)return Ve().add(i.key);{let o=Ve();const c=n.Iu.get(e);if(!c)return o;for(const f of c){const g=n.Tu.get(f);o=o.unionWith(g.view.nu)}return o}}function Ub(s){const e=Ae(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=Vb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=_R.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=mR.bind(null,e),e.Pu.H_=nR.bind(null,e.eventManager),e.Pu.yu=rR.bind(null,e.eventManager),e}function bR(s){const e=Ae(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=gR.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=pR.bind(null,e),e}class fh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Oh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return w4(this.persistence,new E4,e.initialUser,this.serializer)}Cu(e){return new vb(og.mi,this.serializer)}Du(e){return new D4}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}fh.provider={build:()=>new fh};class ER extends fh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){qe(this.persistence.referenceDelegate instanceof uh,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new a4(i,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?ln.withCacheSize(this.cacheSizeBytes):ln.DEFAULT;return new vb((i=>uh.mi(i,n)),this.serializer)}}class Im{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>f_(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=vR.bind(null,this.syncEngine),await J4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new tR})()}createDatastore(e){const n=Oh(e.databaseInfo.databaseId),i=(function(c){return new k4(c)})(e.databaseInfo);return(function(c,f,g,p){return new z4(c,f,g,p)})(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return(function(i,o,c,f,g){return new q4(i,o,c,f,g)})(this.localStore,this.datastore,e.asyncQueue,(n=>f_(this.syncEngine,n,0)),(function(){return a_.v()?new a_:new j4})())}createSyncEngine(e,n){return(function(o,c,f,g,p,y,b){const x=new oR(o,c,f,g,p,y);return b&&(x.gu=!0),x})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const i=Ae(n);ce(Qi,"RemoteStore shutting down."),i.Ea.add(5),await uc(i),i.Aa.shutdown(),i.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Im.provider={build:()=>new Im};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Kr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ei="FirestoreClient";class xR{constructor(e,n,i,o,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=o,this.user=Kt.UNAUTHENTICATED,this.clientId=$m.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(i,(async f=>{ce(ei,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(i,(f=>(ce(ei,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Qr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=gg(n,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function rm(s,e){s.asyncQueue.verifyOperationInProgress(),ce(ei,"Initializing OfflineComponentProvider");const n=s.configuration;await e.initialize(n);let i=n.initialUser;s.setCredentialChangeListener((async o=>{i.isEqual(o)||(await _b(e.localStore,o),i=o)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function m_(s,e){s.asyncQueue.verifyOperationInProgress();const n=await TR(s);ce(ei,"Initializing OnlineComponentProvider"),await e.initialize(n,s.configuration),s.setCredentialChangeListener((i=>l_(e.remoteStore,i))),s.setAppCheckTokenChangeListener(((i,o)=>l_(e.remoteStore,o))),s._onlineComponents=e}async function TR(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){ce(ei,"Using user provided OfflineComponentProvider");try{await rm(s,s._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===W.FAILED_PRECONDITION||o.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;ao("Error using user provided cache. Falling back to memory cache: "+n),await rm(s,new fh)}}else ce(ei,"Using default OfflineComponentProvider"),await rm(s,new ER(void 0));return s._offlineComponents}async function Bb(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(ce(ei,"Using user provided OnlineComponentProvider"),await m_(s,s._uninitializedComponentsProvider._online)):(ce(ei,"Using default OnlineComponentProvider"),await m_(s,new Im))),s._onlineComponents}function wR(s){return Bb(s).then((e=>e.syncEngine))}async function qb(s){const e=await Bb(s),n=e.eventManager;return n.onListen=lR.bind(null,e.syncEngine),n.onUnlisten=hR.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=cR.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=fR.bind(null,e.syncEngine),n}function SR(s,e,n={}){const i=new Qr;return s.asyncQueue.enqueueAndForget((async()=>(function(c,f,g,p,y){const b=new zb({next:A=>{b.Nu(),f.enqueueAndForget((()=>Ib(c,x)));const V=A.docs.has(g);!V&&A.fromCache?y.reject(new oe(W.UNAVAILABLE,"Failed to get document because the client is offline.")):V&&A.fromCache&&p&&p.source==="server"?y.reject(new oe(W.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(A)},error:A=>y.reject(A)}),x=new Db(eg(g.path),b,{includeMetadataChanges:!0,qa:!0});return Nb(c,x)})(await qb(s),s.asyncQueue,e,n,i))),i.promise}function AR(s,e,n={}){const i=new Qr;return s.asyncQueue.enqueueAndForget((async()=>(function(c,f,g,p,y){const b=new zb({next:A=>{b.Nu(),f.enqueueAndForget((()=>Ib(c,x))),A.fromCache&&p.source==="server"?y.reject(new oe(W.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(A)},error:A=>y.reject(A)}),x=new Db(g,b,{includeMetadataChanges:!0,qa:!0});return Nb(c,x)})(await qb(s),s.asyncQueue,e,n,i))),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hb(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fb="firestore.googleapis.com",p_=!0;class y_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new oe(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Fb,this.ssl=p_}else this.host=e.host,this.ssl=e.ssl??p_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=yb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<s4)throw new oe(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}qS("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Hb(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new oe(W.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new oe(W.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new oe(W.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,o){return i.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class kh{constructor(e,n,i,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new y_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new oe(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new oe(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new y_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new jS;switch(i.type){case"firstParty":return new kS(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new oe(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const i=g_.get(n);i&&(ce("ComponentProvider","Removing Datastore"),g_.delete(n),i.terminate())})(this),Promise.resolve()}}function RR(s,e,n,i={}){s=Xr(s,kh);const o=yo(e),c=s._getSettings(),f={...c,emulatorOptions:s._getEmulatorOptions()},g=`${e}:${n}`;o&&(m1(`https://${g}`),g1("Firestore",!0)),c.host!==Fb&&c.host!==g&&ao("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...c,host:g,ssl:o,emulatorOptions:i};if(!Hi(p,f)&&(s._setSettings(p),i.mockUserToken)){let y,b;if(typeof i.mockUserToken=="string")y=i.mockUserToken,b=Kt.MOCK_USER;else{y=iw(i.mockUserToken,s._app?.options.projectId);const x=i.mockUserToken.sub||i.mockUserToken.user_id;if(!x)throw new oe(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new Kt(x)}s._authCredentials=new OS(new N1(y,b))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Ji(this.firestore,e,this._query)}}class wt{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new $s(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new wt(this.firestore,e,this._key)}toJSON(){return{type:wt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,i){if(oc(n,wt._jsonSchema))return new wt(e,i||null,new ge(tt.fromString(n.referencePath)))}}wt._jsonSchemaVersion="firestore/documentReference/1.0",wt._jsonSchema={type:Tt("string",wt._jsonSchemaVersion),referencePath:Tt("string")};class $s extends Ji{constructor(e,n,i){super(e,n,eg(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new wt(this.firestore,null,new ge(e))}withConverter(e){return new $s(this.firestore,e,this._path)}}function ea(s,e,...n){if(s=Dn(s),I1("collection","path",e),s instanceof kh){const i=tt.fromString(e,...n);return Iv(i),new $s(s,null,i)}{if(!(s instanceof wt||s instanceof $s))throw new oe(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=s._path.child(tt.fromString(e,...n));return Iv(i),new $s(s.firestore,null,i)}}function tc(s,e,...n){if(s=Dn(s),arguments.length===1&&(e=$m.newId()),I1("doc","path",e),s instanceof kh){const i=tt.fromString(e,...n);return Nv(i),new wt(s,null,new ge(i))}{if(!(s instanceof wt||s instanceof $s))throw new oe(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=s._path.child(tt.fromString(e,...n));return Nv(i),new wt(s.firestore,s instanceof $s?s.converter:null,new ge(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v_="AsyncQueue";class __{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Eb(this,"async_queue_retry"),this._c=()=>{const i=nm();i&&ce(v_,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const n=nm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=nm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Qr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Eo(e))throw e;ce(v_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,Kr("INTERNAL UNHANDLED ERROR: ",b_(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=n,n}enqueueAfterDelay(e,n,i){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=mg.createAndSchedule(this,e,n,i,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&_e(47125,{Pc:b_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,i)=>n.targetTimeMs-i.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function b_(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}class wo extends kh{constructor(e,n,i,o){super(e,n,i,o),this.type="firestore",this._queue=new __,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new __(e),this._firestoreClient=void 0,await e}}}function CR(s,e){const n=typeof s=="object"?s:_1(),i=typeof s=="string"?s:sh,o=Qm(n,"firestore").getImmediate({identifier:i});if(!o._initialized){const c=rw("firestore");c&&RR(o,...c)}return o}function _g(s){if(s._terminated)throw new oe(W.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||NR(s),s._firestoreClient}function NR(s){const e=s._freezeSettings(),n=(function(o,c,f,g){return new JS(o,c,f,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,Hb(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new xR(s._authCredentials,s._appCheckCredentials,s._queue,n,s._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this._byteString=e}static fromBase64String(e){try{return new In(Ht.fromBase64String(e))}catch(n){throw new oe(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new In(Ht.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:In._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(oc(e,In._jsonSchema))return In.fromBase64String(e.bytes)}}In._jsonSchemaVersion="firestore/bytes/1.0",In._jsonSchema={type:Tt("string",In._jsonSchemaVersion),bytes:Tt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new oe(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gb{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new oe(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new oe(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Me(this._lat,e._lat)||Me(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:yr._jsonSchemaVersion}}static fromJSON(e){if(oc(e,yr._jsonSchema))return new yr(e.latitude,e.longitude)}}yr._jsonSchemaVersion="firestore/geoPoint/1.0",yr._jsonSchema={type:Tt("string",yr._jsonSchemaVersion),latitude:Tt("number"),longitude:Tt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,o){if(i.length!==o.length)return!1;for(let c=0;c<i.length;++c)if(i[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:vr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(oc(e,vr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new vr(e.vectorValues);throw new oe(W.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}vr._jsonSchemaVersion="firestore/vectorValue/1.0",vr._jsonSchema={type:Tt("string",vr._jsonSchemaVersion),vectorValues:Tt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IR=/^__.*__$/;class DR{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new Zi(e,this.data,this.fieldMask,n,this.fieldTransforms):new lc(e,this.data,n,this.fieldTransforms)}}function Qb(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _e(40011,{Ac:s})}}class Eg{constructor(e,n,i,o,c,f){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Eg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),i=this.Vc({path:n,fc:!1});return i.gc(e),i}yc(e){const n=this.path?.child(e),i=this.Vc({path:n,fc:!1});return i.Rc(),i}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return dh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Qb(this.Ac)&&IR.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class jR{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||Oh(e)}Cc(e,n,i,o=!1){return new Eg({Ac:e,methodName:n,Dc:i,path:qt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function xg(s){const e=s._freezeSettings(),n=Oh(s._databaseId);return new jR(s._databaseId,!!e.ignoreUndefinedProperties,n)}function Yb(s,e,n,i,o,c={}){const f=s.Cc(c.merge||c.mergeFields?2:0,e,n,o);Xb("Data must be an object, but it was:",f,i);const g=$b(i,f);let p,y;if(c.merge)p=new Gn(f.fieldMask),y=f.fieldTransforms;else if(c.mergeFields){const b=[];for(const x of c.mergeFields){const A=MR(e,x,n);if(!f.contains(A))throw new oe(W.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);kR(b,A)||b.push(A)}p=new Gn(b),y=f.fieldTransforms.filter((x=>p.covers(x.field)))}else p=null,y=f.fieldTransforms;return new DR(new Nn(g),p,y)}function OR(s,e,n,i=!1){return Tg(n,s.Cc(i?4:3,e))}function Tg(s,e){if(Kb(s=Dn(s)))return Xb("Unsupported field value:",e,s),$b(s,e);if(s instanceof Gb)return(function(i,o){if(!Qb(o.Ac))throw o.Sc(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${i._methodName}() is not currently supported inside arrays`);const c=i._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(i,o){const c=[];let f=0;for(const g of i){let p=Tg(g,o.wc(f));p==null&&(p={nullValue:"NULL_VALUE"}),c.push(p),f++}return{arrayValue:{values:c}}})(s,e)}return(function(i,o){if((i=Dn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return xA(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const c=rt.fromDate(i);return{timestampValue:ch(o.serializer,c)}}if(i instanceof rt){const c=new rt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:ch(o.serializer,c)}}if(i instanceof yr)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof In)return{bytesValue:ub(o.serializer,i._byteString)};if(i instanceof wt){const c=o.databaseId,f=i.firestore._databaseId;if(!f.isEqual(c))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:ig(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof vr)return(function(f,g){return{mapValue:{fields:{[U1]:{stringValue:z1},[ih]:{arrayValue:{values:f.toArray().map((y=>{if(typeof y!="number")throw g.Sc("VectorValues must only contain numeric values.");return tg(g.serializer,y)}))}}}}}})(i,o);throw o.Sc(`Unsupported field value: ${wh(i)}`)})(s,e)}function $b(s,e){const n={};return O1(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ki(s,((i,o)=>{const c=Tg(o,e.mc(i));c!=null&&(n[i]=c)})),{mapValue:{fields:n}}}function Kb(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof rt||s instanceof yr||s instanceof In||s instanceof wt||s instanceof Gb||s instanceof vr)}function Xb(s,e,n){if(!Kb(n)||!D1(n)){const i=wh(n);throw i==="an object"?e.Sc(s+" a custom object"):e.Sc(s+" "+i)}}function MR(s,e,n){if((e=Dn(e))instanceof bg)return e._internalPath;if(typeof e=="string")return Zb(s,e);throw dh("Field path arguments must be of type string or ",s,!1,void 0,n)}const VR=new RegExp("[~\\*/\\[\\]]");function Zb(s,e,n){if(e.search(VR)>=0)throw dh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,n);try{return new bg(...e.split("."))._internalPath}catch{throw dh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,n)}}function dh(s,e,n,i,o){const c=i&&!i.isEmpty(),f=o!==void 0;let g=`Function ${e}() called with invalid data`;n&&(g+=" (via `toFirestore()`)"),g+=". ";let p="";return(c||f)&&(p+=" (found",c&&(p+=` in field ${i}`),f&&(p+=` in document ${o}`),p+=")"),new oe(W.INVALID_ARGUMENT,g+s+p)}function kR(s,e){return s.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wb{constructor(e,n,i,o,c){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new wt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new PR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(wg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class PR extends Wb{data(){return super.data()}}function wg(s,e){return typeof e=="string"?Zb(s,e):e instanceof bg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LR(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new oe(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Sg{}class Jb extends Sg{}function UR(s,e,...n){let i=[];e instanceof Sg&&i.push(e),i=i.concat(n),(function(c){const f=c.filter((p=>p instanceof Rg)).length,g=c.filter((p=>p instanceof Ag)).length;if(f>1||f>0&&g>0)throw new oe(W.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const o of i)s=o._apply(s);return s}class Ag extends Jb{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new Ag(e,n,i)}_apply(e){const n=this._parse(e);return eE(e._query,n),new Ji(e.firestore,e.converter,bm(e._query,n))}_parse(e){const n=xg(e.firestore);return(function(c,f,g,p,y,b,x){let A;if(y.isKeyField()){if(b==="array-contains"||b==="array-contains-any")throw new oe(W.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if(b==="in"||b==="not-in"){x_(x,b);const q=[];for(const U of x)q.push(E_(p,c,U));A={arrayValue:{values:q}}}else A=E_(p,c,x)}else b!=="in"&&b!=="not-in"&&b!=="array-contains-any"||x_(x,b),A=OR(g,f,x,b==="in"||b==="not-in");return xt.create(y,b,A)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Rg extends Sg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Rg(e,n)}_parse(e){const n=this._queryConstraints.map((i=>i._parse(e))).filter((i=>i.getFilters().length>0));return n.length===1?n[0]:Xn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,c){let f=o;const g=c.getFlattenedFilters();for(const p of g)eE(f,p),f=bm(f,p)})(e._query,n),new Ji(e.firestore,e.converter,bm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Cg extends Jb{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Cg(e,n)}_apply(e){const n=(function(o,c,f){if(o.startAt!==null)throw new oe(W.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new oe(W.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Wl(c,f)})(e._query,this._field,this._direction);return new Ji(e.firestore,e.converter,(function(o,c){const f=o.explicitOrderBy.concat([c]);return new xo(o.path,o.collectionGroup,f,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,n))}}function zR(s,e="asc"){const n=e,i=wg("orderBy",s);return Cg._create(i,n)}function E_(s,e,n){if(typeof(n=Dn(n))=="string"){if(n==="")throw new oe(W.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!$1(e)&&n.indexOf("/")!==-1)throw new oe(W.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(tt.fromString(n));if(!ge.isDocumentKey(i))throw new oe(W.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Lv(s,new ge(i))}if(n instanceof wt)return Lv(s,n._key);throw new oe(W.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${wh(n)}.`)}function x_(s,e){if(!Array.isArray(s)||s.length===0)throw new oe(W.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function eE(s,e){const n=(function(o,c){for(const f of o)for(const g of f.getFlattenedFilters())if(c.indexOf(g.op)>=0)return g.op;return null})(s.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new oe(W.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new oe(W.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class BR{convertValue(e,n="none"){switch(Ws(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Zs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw _e(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return Ki(e,((o,c)=>{i[o]=this.convertValue(c,n)})),i}convertVectorValue(e){const n=e.fields?.[ih].arrayValue?.values?.map((i=>vt(i.doubleValue)));return new vr(n)}convertGeoPoint(e){return new yr(vt(e.latitude),vt(e.longitude))}convertArray(e,n){return(e.values||[]).map((i=>this.convertValue(i,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const i=Rh(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Kl(e));default:return null}}convertTimestamp(e){const n=Xs(e);return new rt(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=tt.fromString(e);qe(pb(i),9688,{name:e});const o=new Xl(i.get(1),i.get(3)),c=new ge(i.popFirst(5));return o.isEqual(n)||Kr(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tE(s,e,n){let i;return i=s?s.toFirestore(e):e,i}class Ul{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Bi extends Wb{constructor(e,n,i,o,c,f){super(e,n,i,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ku(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(wg("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new oe(W.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Bi._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Bi._jsonSchemaVersion="firestore/documentSnapshot/1.0",Bi._jsonSchema={type:Tt("string",Bi._jsonSchemaVersion),bundleSource:Tt("string","DocumentSnapshot"),bundleName:Tt("string"),bundle:Tt("string")};class Ku extends Bi{data(e={}){return super.data(e)}}class to{constructor(e,n,i,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Ul(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((i=>{e.call(n,new Ku(this._firestore,this._userDataWriter,i.key,i,new Ul(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new oe(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((g=>{const p=new Ku(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Ul(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const p=new Ku(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Ul(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,b=-1;return g.type!==0&&(y=f.indexOf(g.doc.key),f=f.delete(g.doc.key)),g.type!==1&&(f=f.add(g.doc),b=f.indexOf(g.doc.key)),{type:qR(g.type),doc:p,oldIndex:y,newIndex:b}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new oe(W.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=to._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=$m.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(n.push(c._document),i.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function qR(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _e(61501,{type:s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nE(s){s=Xr(s,wt);const e=Xr(s.firestore,wo);return SR(_g(e),s._key).then((n=>GR(e,s,n)))}to._jsonSchemaVersion="firestore/querySnapshot/1.0",to._jsonSchema={type:Tt("string",to._jsonSchemaVersion),bundleSource:Tt("string","QuerySnapshot"),bundleName:Tt("string"),bundle:Tt("string")};class rE extends BR{constructor(e){super(),this.firestore=e}convertBytes(e){return new In(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new wt(this.firestore,null,n)}}function Ph(s){s=Xr(s,Ji);const e=Xr(s.firestore,wo),n=_g(e),i=new rE(e);return LR(s._query),AR(n,s._query).then((o=>new to(e,i,s,o)))}function HR(s,e,n){s=Xr(s,wt);const i=Xr(s.firestore,wo),o=tE(s.converter,e);return Ig(i,[Yb(xg(i),"setDoc",s._key,o,s.converter!==null,n).toMutation(s._key,Yn.none())])}function FR(s){return Ig(Xr(s.firestore,wo),[new ng(s._key,Yn.none())])}function Ng(s,e){const n=Xr(s.firestore,wo),i=tc(s),o=tE(s.converter,e);return Ig(n,[Yb(xg(s.firestore),"addDoc",i._key,o,s.converter!==null,{}).toMutation(i._key,Yn.exists(!1))]).then((()=>i))}function Ig(s,e){return(function(i,o){const c=new Qr;return i.asyncQueue.enqueueAndForget((async()=>dR(await wR(i),o,c))),c.promise})(_g(s),e)}function GR(s,e,n){const i=n.docs.get(e._key),o=new rE(s);return new Bi(s,o,e._key,i,new Ul(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(o){_o=o})(vo),io(new Fi("firestore",((i,{instanceIdentifier:o,options:c})=>{const f=i.getProvider("app").getImmediate(),g=new wo(new MS(i.getProvider("auth-internal")),new PS(f,i.getProvider("app-check-internal")),(function(y,b){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new oe(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Xl(y.options.projectId,b)})(f,o),f);return c={useFetchStreams:n,...c},g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),Qs(Sv,Av,e),Qs(Sv,Av,"esm2020")})();var QR="firebase",YR="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Qs(QR,YR,"app");function sE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const $R=sE,iE=new ic("auth","Firebase",sE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mh=new Fm("@firebase/auth");function KR(s,...e){mh.logLevel<=Oe.WARN&&mh.warn(`Auth (${vo}): ${s}`,...e)}function Xu(s,...e){mh.logLevel<=Oe.ERROR&&mh.error(`Auth (${vo}): ${s}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wr(s,...e){throw Dg(s,...e)}function _r(s,...e){return Dg(s,...e)}function aE(s,e,n){const i={...$R(),[e]:n};return new ic("auth","Firebase",i).create(e,{appName:s.name})}function qi(s){return aE(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Dg(s,...e){if(typeof s!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=s.name),s._errorFactory.create(n,...i)}return iE.create(s,...e)}function Te(s,e,...n){if(!s)throw Dg(e,...n)}function Hr(s){const e="INTERNAL ASSERTION FAILED: "+s;throw Xu(e),new Error(e)}function Jr(s,e){s||Hr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dm(){return typeof self<"u"&&self.location?.href||""}function XR(){return T_()==="http:"||T_()==="https:"}function T_(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(XR()||hw()||"connection"in navigator)?navigator.onLine:!0}function WR(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Jr(n>e,"Short delay should be less than long delay!"),this.isMobile=lw()||fw()}get(){return ZR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jg(s,e){Jr(s.emulator,"Emulator should always be set here");const{url:n}=s.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oE{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Hr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Hr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Hr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],tC=new fc(3e4,6e4);function Og(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function So(s,e,n,i,o={}){return lE(s,o,async()=>{let c={},f={};i&&(e==="GET"?f=i:c={body:JSON.stringify(i)});const g=ac({key:s.config.apiKey,...f}).slice(1),p=await s._getAdditionalHeaders();p["Content-Type"]="application/json",s.languageCode&&(p["X-Firebase-Locale"]=s.languageCode);const y={method:e,headers:p,...c};return uw()||(y.referrerPolicy="no-referrer"),s.emulatorConfig&&yo(s.emulatorConfig.host)&&(y.credentials="include"),oE.fetch()(await cE(s,s.config.apiHost,n,g),y)})}async function lE(s,e,n){s._canInitEmulator=!1;const i={...JR,...e};try{const o=new rC(s),c=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await c.json();if("needConfirmation"in f)throw zu(s,"account-exists-with-different-credential",f);if(c.ok&&!("errorMessage"in f))return f;{const g=c.ok?f.errorMessage:f.error.message,[p,y]=g.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw zu(s,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw zu(s,"email-already-in-use",f);if(p==="USER_DISABLED")throw zu(s,"user-disabled",f);const b=i[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw aE(s,b,y);Wr(s,b)}}catch(o){if(o instanceof es)throw o;Wr(s,"network-request-failed",{message:String(o)})}}async function nC(s,e,n,i,o={}){const c=await So(s,e,n,i,o);return"mfaPendingCredential"in c&&Wr(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function cE(s,e,n,i){const o=`${e}${n}?${i}`,c=s,f=c.config.emulator?jg(s.config,o):`${s.config.apiScheme}://${o}`;return eC.includes(n)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(f).toString():f}class rC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(_r(this.auth,"network-request-failed")),tC.get())})}}function zu(s,e,n){const i={appName:s.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const o=_r(s,e,i);return o.customData._tokenResponse=n,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sC(s,e){return So(s,"POST","/v1/accounts:delete",e)}async function gh(s,e){return So(s,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gl(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function iC(s,e=!1){const n=Dn(s),i=await n.getIdToken(e),o=Mg(i);Te(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,f=c?.sign_in_provider;return{claims:o,token:i,authTime:Gl(sm(o.auth_time)),issuedAtTime:Gl(sm(o.iat)),expirationTime:Gl(sm(o.exp)),signInProvider:f||null,signInSecondFactor:c?.sign_in_second_factor||null}}function sm(s){return Number(s)*1e3}function Mg(s){const[e,n,i]=s.split(".");if(e===void 0||n===void 0||i===void 0)return Xu("JWT malformed, contained fewer than 3 sections"),null;try{const o=u1(n);return o?JSON.parse(o):(Xu("Failed to decode base64 JWT payload"),null)}catch(o){return Xu("Caught error parsing JWT payload as JSON",o?.toString()),null}}function w_(s){const e=Mg(s);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nc(s,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof es&&aC(i)&&s.auth.currentUser===s&&await s.auth.signOut(),i}}function aC({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Gl(this.lastLoginAt),this.creationTime=Gl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ph(s){const e=s.auth,n=await s.getIdToken(),i=await nc(s,gh(e,{idToken:n}));Te(i?.users.length,e,"internal-error");const o=i.users[0];s._notifyReloadListener(o);const c=o.providerUserInfo?.length?uE(o.providerUserInfo):[],f=cC(s.providerData,c),g=s.isAnonymous,p=!(s.email&&o.passwordHash)&&!f?.length,y=g?p:!1,b={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new jm(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(s,b)}async function lC(s){const e=Dn(s);await ph(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function cC(s,e){return[...s.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function uE(s){return s.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uC(s,e){const n=await lE(s,{},async()=>{const i=ac({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=s.config,f=await cE(s,o,"/v1/token",`key=${c}`),g=await s._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:g,body:i};return s.emulatorConfig&&yo(s.emulatorConfig.host)&&(p.credentials="include"),oE.fetch()(f,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function hC(s,e){return So(s,"POST","/v2/accounts:revokeToken",Og(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):w_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const n=w_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:o,expiresIn:c}=await uC(e,n);this.updateTokensAndExpiration(i,o,Number(c))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:o,expirationTime:c}=n,f=new no;return i&&(Te(typeof i=="string","internal-error",{appName:e}),f.refreshToken=i),o&&(Te(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),c&&(Te(typeof c=="number","internal-error",{appName:e}),f.expirationTime=c),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new no,this.toJSON())}_performRefresh(){return Hr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ls(s,e){Te(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class Qn{constructor({uid:e,auth:n,stsTokenManager:i,...o}){this.providerId="firebase",this.proactiveRefresh=new oC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new jm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await nc(this,this.stsTokenManager.getToken(this.auth,e));return Te(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return iC(this,e)}reload(){return lC(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Qn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await ph(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(mr(this.auth.app))return Promise.reject(qi(this.auth));const e=await this.getIdToken();return await nc(this,sC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const i=n.displayName??void 0,o=n.email??void 0,c=n.phoneNumber??void 0,f=n.photoURL??void 0,g=n.tenantId??void 0,p=n._redirectEventId??void 0,y=n.createdAt??void 0,b=n.lastLoginAt??void 0,{uid:x,emailVerified:A,isAnonymous:V,providerData:q,stsTokenManager:U}=n;Te(x&&U,e,"internal-error");const F=no.fromJSON(this.name,U);Te(typeof x=="string",e,"internal-error"),Ls(i,e.name),Ls(o,e.name),Te(typeof A=="boolean",e,"internal-error"),Te(typeof V=="boolean",e,"internal-error"),Ls(c,e.name),Ls(f,e.name),Ls(g,e.name),Ls(p,e.name),Ls(y,e.name),Ls(b,e.name);const te=new Qn({uid:x,auth:e,email:o,emailVerified:A,displayName:i,isAnonymous:V,photoURL:f,phoneNumber:c,tenantId:g,stsTokenManager:F,createdAt:y,lastLoginAt:b});return q&&Array.isArray(q)&&(te.providerData=q.map(X=>({...X}))),p&&(te._redirectEventId=p),te}static async _fromIdTokenResponse(e,n,i=!1){const o=new no;o.updateFromServerResponse(n);const c=new Qn({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await ph(c),c}static async _fromGetAccountInfoResponse(e,n,i){const o=n.users[0];Te(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?uE(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!c?.length,g=new no;g.updateFromIdToken(i);const p=new Qn({uid:o.localId,auth:e,stsTokenManager:g,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new jm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(p,y),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S_=new Map;function Fr(s){Jr(s instanceof Function,"Expected a class definition");let e=S_.get(s);return e?(Jr(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,S_.set(s,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}hE.type="NONE";const A_=hE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zu(s,e,n){return`firebase:${s}:${e}:${n}`}class ro{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:o,name:c}=this.auth;this.fullUserKey=Zu(this.userKey,o.apiKey,c),this.fullPersistenceKey=Zu("persistence",o.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await gh(this.auth,{idToken:e}).catch(()=>{});return n?Qn._fromGetAccountInfoResponse(this.auth,n,e):null}return Qn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new ro(Fr(A_),e,i);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=o[0]||Fr(A_);const f=Zu(i,e.config.apiKey,e.name);let g=null;for(const y of n)try{const b=await y._get(f);if(b){let x;if(typeof b=="string"){const A=await gh(e,{idToken:b}).catch(()=>{});if(!A)break;x=await Qn._fromGetAccountInfoResponse(e,A,b)}else x=Qn._fromJSON(e,b);y!==c&&(g=x),c=y;break}}catch{}const p=o.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!p.length?new ro(c,e,i):(c=p[0],g&&await c._set(f,g.toJSON()),await Promise.all(n.map(async y=>{if(y!==c)try{await y._remove(f)}catch{}})),new ro(c,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R_(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(gE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(fE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(yE(e))return"Blackberry";if(vE(e))return"Webos";if(dE(e))return"Safari";if((e.includes("chrome/")||mE(e))&&!e.includes("edge/"))return"Chrome";if(pE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=s.match(n);if(i?.length===2)return i[1]}return"Other"}function fE(s=Zt()){return/firefox\//i.test(s)}function dE(s=Zt()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function mE(s=Zt()){return/crios\//i.test(s)}function gE(s=Zt()){return/iemobile/i.test(s)}function pE(s=Zt()){return/android/i.test(s)}function yE(s=Zt()){return/blackberry/i.test(s)}function vE(s=Zt()){return/webos/i.test(s)}function Vg(s=Zt()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function fC(s=Zt()){return Vg(s)&&!!window.navigator?.standalone}function dC(){return dw()&&document.documentMode===10}function _E(s=Zt()){return Vg(s)||pE(s)||vE(s)||yE(s)||/windows phone/i.test(s)||gE(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bE(s,e=[]){let n;switch(s){case"Browser":n=R_(Zt());break;case"Worker":n=`${R_(Zt())}-${s}`;break;default:n=s}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${vo}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=c=>new Promise((f,g)=>{try{const p=e(c);f(p)}catch(p){g(p)}});i.onAbort=n,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gC(s,e={}){return So(s,"GET","/v2/passwordPolicy",Og(s,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pC=6;class yC{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??pC,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{constructor(e,n,i,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new C_(this),this.idTokenSubscription=new C_(this),this.beforeStateQueue=new mC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=iE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Fr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ro.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await gh(this,{idToken:e}),i=await Qn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(mr(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,f=i?._redirectEventId,g=await this.tryRedirectSignIn(e);(!c||c===f)&&g?.user&&(i=g.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(c){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await ph(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=WR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(mr(this.app))return Promise.reject(qi(this));const n=e?Dn(e):null;return n&&Te(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return mr(this.app)?Promise.reject(qi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return mr(this.app)?Promise.reject(qi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Fr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await gC(this),n=new yC(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ic("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await hC(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Fr(e)||this._popupRedirectResolver;Te(n,this,"argument-error"),this.redirectPersistenceManager=await ro.create(this,[Fr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,o){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let f=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(g,this,"internal-error"),g.then(()=>{f||c(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,i,o);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=bE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){if(mr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&KR(`Error while retrieving App Check token: ${e.error}`),e?.token}}function kg(s){return Dn(s)}class C_{constructor(e){this.auth=e,this.observer=null,this.addObserver=Ew(n=>this.observer=n)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function _C(s){Pg=s}function bC(s){return Pg.loadJS(s)}function EC(){return Pg.gapiScript}function xC(s){return`__${s}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TC(s,e){const n=Qm(s,"auth");if(n.isInitialized()){const o=n.getImmediate(),c=n.getOptions();if(Hi(c,e??{}))return o;Wr(o,"already-initialized")}return n.initialize({options:e})}function wC(s,e){const n=e?.persistence||[],i=(Array.isArray(n)?n:[n]).map(Fr);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(i,e?.popupRedirectResolver)}function SC(s,e,n){const i=kg(s);Te(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,c=EE(e),{host:f,port:g}=AC(e),p=g===null?"":`:${g}`,y={url:`${c}//${f}${p}/`},b=Object.freeze({host:f,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!i._canInitEmulator){Te(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Te(Hi(y,i.config.emulator)&&Hi(b,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=y,i.emulatorConfig=b,i.settings.appVerificationDisabledForTesting=!0,yo(f)?(m1(`${c}//${f}${p}`),g1("Auth",!0)):RC()}function EE(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function AC(s){const e=EE(s),n=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const c=o[1];return{host:c,port:N_(i.substr(c.length+1))}}else{const[c,f]=i.split(":");return{host:c,port:N_(f)}}}function N_(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function RC(){function s(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xE{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Hr("not implemented")}_getIdTokenResponse(e){return Hr("not implemented")}_linkToIdToken(e,n){return Hr("not implemented")}_getReauthenticationResolver(e){return Hr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function so(s,e){return nC(s,"POST","/v1/accounts:signInWithIdp",Og(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CC="http://localhost";class Yi extends xE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Yi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Wr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o,...c}=n;if(!i||!o)return null;const f=new Yi(i,o);return f.idToken=c.idToken||void 0,f.accessToken=c.accessToken||void 0,f.secret=c.secret,f.nonce=c.nonce,f.pendingToken=c.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return so(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,so(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,so(e,n)}buildRequest(){const e={requestUri:CC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ac(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc extends TE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us extends dc{constructor(){super("facebook.com")}static credential(e){return Yi._fromParams({providerId:Us.PROVIDER_ID,signInMethod:Us.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Us.credentialFromTaggedObject(e)}static credentialFromError(e){return Us.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Us.credential(e.oauthAccessToken)}catch{return null}}}Us.FACEBOOK_SIGN_IN_METHOD="facebook.com";Us.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs extends dc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Yi._fromParams({providerId:zs.PROVIDER_ID,signInMethod:zs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return zs.credentialFromTaggedObject(e)}static credentialFromError(e){return zs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return zs.credential(n,i)}catch{return null}}}zs.GOOGLE_SIGN_IN_METHOD="google.com";zs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs extends dc{constructor(){super("github.com")}static credential(e){return Yi._fromParams({providerId:Bs.PROVIDER_ID,signInMethod:Bs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Bs.credentialFromTaggedObject(e)}static credentialFromError(e){return Bs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Bs.credential(e.oauthAccessToken)}catch{return null}}}Bs.GITHUB_SIGN_IN_METHOD="github.com";Bs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs extends dc{constructor(){super("twitter.com")}static credential(e,n){return Yi._fromParams({providerId:qs.PROVIDER_ID,signInMethod:qs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return qs.credentialFromTaggedObject(e)}static credentialFromError(e){return qs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return qs.credential(n,i)}catch{return null}}}qs.TWITTER_SIGN_IN_METHOD="twitter.com";qs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,o=!1){const c=await Qn._fromIdTokenResponse(e,i,o),f=I_(i);return new fo({user:c,providerId:f,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const o=I_(i);return new fo({user:e,providerId:o,_tokenResponse:i,operationType:n})}}function I_(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh extends es{constructor(e,n,i,o){super(n.code,n.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,yh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,o){return new yh(e,n,i,o)}}function wE(s,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(s):n._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?yh._fromErrorAndOperation(s,c,e,i):c})}async function NC(s,e,n=!1){const i=await nc(s,e._linkToIdToken(s.auth,await s.getIdToken()),n);return fo._forOperation(s,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IC(s,e,n=!1){const{auth:i}=s;if(mr(i.app))return Promise.reject(qi(i));const o="reauthenticate";try{const c=await nc(s,wE(i,o,e,s),n);Te(c.idToken,i,"internal-error");const f=Mg(c.idToken);Te(f,i,"internal-error");const{sub:g}=f;return Te(s.uid===g,i,"user-mismatch"),fo._forOperation(s,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&Wr(i,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DC(s,e,n=!1){if(mr(s.app))return Promise.reject(qi(s));const i="signIn",o=await wE(s,i,e),c=await fo._fromIdTokenResponse(s,i,o);return n||await s._updateCurrentUser(c.user),c}function jC(s,e,n,i){return Dn(s).onIdTokenChanged(e,n,i)}function OC(s,e,n){return Dn(s).beforeAuthStateChanged(e,n)}const vh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SE{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(vh,"1"),this.storage.removeItem(vh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MC=1e3,VC=10;class AE extends SE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=_E(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),o=this.localCache[n];i!==o&&e(n,o,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,g,p)=>{this.notifyListeners(f,p)});return}const i=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(i);!n&&this.localCache[i]===f||this.notifyListeners(i,f)},c=this.storage.getItem(i);dC()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,VC):o()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},MC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}AE.type="LOCAL";const kC=AE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE extends SE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}RE.type="SESSION";const CE=RE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PC(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const i=new Lh(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:o,data:c}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const g=Array.from(f).map(async y=>y(n.origin,c)),p=await PC(g);n.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Lh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lg(s="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return s+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,f;return new Promise((g,p)=>{const y=Lg("",20);o.port1.start();const b=setTimeout(()=>{p(new Error("unsupported_event"))},i);f={messageChannel:o,onMessage(x){const A=x;if(A.data.eventId===y)switch(A.data.status){case"ack":clearTimeout(b),c=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(A.data.response);break;default:clearTimeout(b),clearTimeout(c),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function br(){return window}function UC(s){br().location.href=s}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NE(){return typeof br().WorkerGlobalScope<"u"&&typeof br().importScripts=="function"}async function zC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function BC(){return navigator?.serviceWorker?.controller||null}function qC(){return NE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IE="firebaseLocalStorageDb",HC=1,_h="firebaseLocalStorage",DE="fbase_key";class mc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Uh(s,e){return s.transaction([_h],e?"readwrite":"readonly").objectStore(_h)}function FC(){const s=indexedDB.deleteDatabase(IE);return new mc(s).toPromise()}function Om(){const s=indexedDB.open(IE,HC);return new Promise((e,n)=>{s.addEventListener("error",()=>{n(s.error)}),s.addEventListener("upgradeneeded",()=>{const i=s.result;try{i.createObjectStore(_h,{keyPath:DE})}catch(o){n(o)}}),s.addEventListener("success",async()=>{const i=s.result;i.objectStoreNames.contains(_h)?e(i):(i.close(),await FC(),e(await Om()))})})}async function D_(s,e,n){const i=Uh(s,!0).put({[DE]:e,value:n});return new mc(i).toPromise()}async function GC(s,e){const n=Uh(s,!1).get(e),i=await new mc(n).toPromise();return i===void 0?null:i.value}function j_(s,e){const n=Uh(s,!0).delete(e);return new mc(n).toPromise()}const QC=800,YC=3;class jE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Om(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>YC)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return NE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Lh._getInstance(qC()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await zC(),!this.activeServiceWorker)return;this.sender=new LC(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||BC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Om();return await D_(e,vh,"1"),await j_(e,vh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>D_(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>GC(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>j_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=Uh(o,!1).getAll();return new mc(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),QC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}jE.type="LOCAL";const $C=jE;new fc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KC(s,e){return e?Fr(e):(Te(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ug extends xE{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return so(e,this._buildIdpRequest())}_linkToIdToken(e,n){return so(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return so(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function XC(s){return DC(s.auth,new Ug(s),s.bypassAuthState)}function ZC(s){const{auth:e,user:n}=s;return Te(n,e,"internal-error"),IC(n,new Ug(s),s.bypassAuthState)}async function WC(s){const{auth:e,user:n}=s;return Te(n,e,"internal-error"),NC(n,new Ug(s),s.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE{constructor(e,n,i,o,c=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:o,tenantId:c,error:f,type:g}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:i,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(p))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return XC;case"linkViaPopup":case"linkViaRedirect":return WC;case"reauthViaPopup":case"reauthViaRedirect":return ZC;default:Wr(this.auth,"internal-error")}}resolve(e){Jr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Jr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JC=new fc(2e3,1e4);class Ja extends OE{constructor(e,n,i,o,c){super(e,n,o,c),this.provider=i,this.authWindow=null,this.pollId=null,Ja.currentPopupAction&&Ja.currentPopupAction.cancel(),Ja.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){Jr(this.filter.length===1,"Popup operations only handle one event");const e=Lg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(_r(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(_r(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ja.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(_r(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,JC.get())};e()}}Ja.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eN="pendingRedirect",Wu=new Map;class tN extends OE{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=Wu.get(this.auth._key());if(!e){try{const i=await nN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}Wu.set(this.auth._key(),e)}return this.bypassAuthState||Wu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function nN(s,e){const n=iN(e),i=sN(s);if(!await i._isAvailable())return!1;const o=await i._get(n)==="true";return await i._remove(n),o}function rN(s,e){Wu.set(s._key(),e)}function sN(s){return Fr(s._redirectPersistence)}function iN(s){return Zu(eN,s.config.apiKey,s.name)}async function aN(s,e,n=!1){if(mr(s.app))return Promise.reject(qi(s));const i=kg(s),o=KC(i,e),f=await new tN(i,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await i._persistUserIfCurrent(f.user),await i._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oN=600*1e3;class lN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!cN(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!ME(e)){const i=e.error.code?.split("auth/")[1]||"internal-error";n.onError(_r(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=oN&&this.cachedEventUids.clear(),this.cachedEventUids.has(O_(e))}saveEventToCache(e){this.cachedEventUids.add(O_(e)),this.lastProcessedEventTime=Date.now()}}function O_(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function ME({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function cN(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ME(s);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uN(s,e={}){return So(s,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,fN=/^https?/;async function dN(s){if(s.config.emulator)return;const{authorizedDomains:e}=await uN(s);for(const n of e)try{if(mN(n))return}catch{}Wr(s,"unauthorized-domain")}function mN(s){const e=Dm(),{protocol:n,hostname:i}=new URL(e);if(s.startsWith("chrome-extension://")){const f=new URL(s);return f.hostname===""&&i===""?n==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===i}if(!fN.test(n))return!1;if(hN.test(s))return i===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gN=new fc(3e4,6e4);function M_(){const s=br().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let n=0;n<s.CP.length;n++)s.CP[n]=null}}function pN(s){return new Promise((e,n)=>{function i(){M_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{M_(),n(_r(s,"network-request-failed"))},timeout:gN.get()})}if(br().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(br().gapi?.load)i();else{const o=xC("iframefcb");return br()[o]=()=>{gapi.load?i():n(_r(s,"network-request-failed"))},bC(`${EC()}?onload=${o}`).catch(c=>n(c))}}).catch(e=>{throw Ju=null,e})}let Ju=null;function yN(s){return Ju=Ju||pN(s),Ju}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vN=new fc(5e3,15e3),_N="__/auth/iframe",bN="emulator/auth/iframe",EN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},xN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function TN(s){const e=s.config;Te(e.authDomain,s,"auth-domain-config-required");const n=e.emulator?jg(e,bN):`https://${s.config.authDomain}/${_N}`,i={apiKey:e.apiKey,appName:s.name,v:vo},o=xN.get(s.config.apiHost);o&&(i.eid=o);const c=s._getFrameworks();return c.length&&(i.fw=c.join(",")),`${n}?${ac(i).slice(1)}`}async function wN(s){const e=await yN(s),n=br().gapi;return Te(n,s,"internal-error"),e.open({where:document.body,url:TN(s),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:EN,dontclear:!0},i=>new Promise(async(o,c)=>{await i.restyle({setHideOnLeave:!1});const f=_r(s,"network-request-failed"),g=br().setTimeout(()=>{c(f)},vN.get());function p(){br().clearTimeout(g),o(i)}i.ping(p).then(p,()=>{c(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},AN=500,RN=600,CN="_blank",NN="http://localhost";class V_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function IN(s,e,n,i=AN,o=RN){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-i)/2,0).toString();let g="";const p={...SN,width:i.toString(),height:o.toString(),top:c,left:f},y=Zt().toLowerCase();n&&(g=mE(y)?CN:n),fE(y)&&(e=e||NN,p.scrollbars="yes");const b=Object.entries(p).reduce((A,[V,q])=>`${A}${V}=${q},`,"");if(fC(y)&&g!=="_self")return DN(e||"",g),new V_(null);const x=window.open(e||"",g,b);Te(x,s,"popup-blocked");try{x.focus()}catch{}return new V_(x)}function DN(s,e){const n=document.createElement("a");n.href=s,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jN="__/auth/handler",ON="emulator/auth/handler",MN=encodeURIComponent("fac");async function k_(s,e,n,i,o,c){Te(s.config.authDomain,s,"auth-domain-config-required"),Te(s.config.apiKey,s,"invalid-api-key");const f={apiKey:s.config.apiKey,appName:s.name,authType:n,redirectUrl:i,v:vo,eventId:o};if(e instanceof TE){e.setDefaultLanguage(s.languageCode),f.providerId=e.providerId||"",bw(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[b,x]of Object.entries({}))f[b]=x}if(e instanceof dc){const b=e.getScopes().filter(x=>x!=="");b.length>0&&(f.scopes=b.join(","))}s.tenantId&&(f.tid=s.tenantId);const g=f;for(const b of Object.keys(g))g[b]===void 0&&delete g[b];const p=await s._getAppCheckToken(),y=p?`#${MN}=${encodeURIComponent(p)}`:"";return`${VN(s)}?${ac(g).slice(1)}${y}`}function VN({config:s}){return s.emulator?jg(s,ON):`https://${s.authDomain}/${jN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const im="webStorageSupport";class kN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=CE,this._completeRedirectFn=aN,this._overrideRedirectResult=rN}async _openPopup(e,n,i,o){Jr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await k_(e,n,i,Dm(),o);return IN(e,c,Lg())}async _openRedirect(e,n,i,o){await this._originValidation(e);const c=await k_(e,n,i,Dm(),o);return UC(c),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:c}=this.eventManagers[n];return o?Promise.resolve(o):(Jr(c,"If manager is not set, promise should be"),c)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await wN(e),i=new lN(e);return n.register("authEvent",o=>(Te(o?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(im,{type:im},o=>{const c=o?.[0]?.[im];c!==void 0&&n(!!c),Wr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=dN(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return _E()||dE()||Vg()}}const PN=kN;var P_="@firebase/auth",L_="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UN(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function zN(s){io(new Fi("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:f,authDomain:g}=i.options;Te(f&&!f.includes(":"),"invalid-api-key",{appName:i.name});const p={apiKey:f,authDomain:g,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:bE(s)},y=new vC(i,o,c,p);return wC(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),io(new Fi("auth-internal",e=>{const n=kg(e.getProvider("auth").getImmediate());return(i=>new LN(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Qs(P_,L_,UN(s)),Qs(P_,L_,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BN=300,qN=d1("authIdTokenMaxAge")||BN;let U_=null;const HN=s=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>qN)return;const o=n?.token;U_!==o&&(U_=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function FN(s=_1()){const e=Qm(s,"auth");if(e.isInitialized())return e.getImmediate();const n=TC(s,{popupRedirectResolver:PN,persistence:[$C,kC,CE]}),i=d1("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(i,location.origin);if(location.origin===c.origin){const f=HN(c.toString());OC(n,f,()=>f(n.currentUser)),jC(n,g=>f(g))}}const o=h1("auth");return o&&SC(n,`http://${o}`),n}function GN(){return document.getElementsByTagName("head")?.[0]??document}_C({loadJS(s){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",s),i.onload=e,i.onerror=o=>{const c=_r("internal-error");c.customData=o,n(c)},i.type="text/javascript",i.charset="UTF-8",GN().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});zN("Browser");const QN={apiKey:"AIzaSyD1fBnilzMSB3eNmX2R4MeEUh5a0DHfAEk",authDomain:"tienda-catalogo-online.firebaseapp.com",projectId:"tienda-catalogo-online",storageBucket:"tienda-catalogo-online.firebasestorage.app",messagingSenderId:"202802740419",appId:"1:202802740419:web:feb24e9198d4abc474f676"},VE=v1(QN),$n=CR(VE);FN(VE);function YN({isOpen:s,onClose:e}){const[n,i]=P.useState(!1),[o,c]=P.useState(!1),[f,g]=P.useState(!1),[p,y]=P.useState([]),[b,x]=P.useState(""),A=$i();P.useEffect(()=>(s?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[s]),P.useEffect(()=>{s&&(async()=>{try{const te=(await Ph(ea($n,"products"))).docs.map(re=>re.data()),X=[{name:"Nuevos Ingresos",key:"nuevos",hasSubmenus:!1},{name:"Destacados",key:"destacados",hasSubmenus:!1},{name:"Gangas",key:"gangas",hasSubmenus:!1},{name:"Mujer",key:"mujer",hasSubmenus:!0,subcategories:[...new Set(te.filter(re=>re.genero==="Mujer").map(re=>re.categoria).filter(Boolean))]},{name:"Hombre",key:"hombre",hasSubmenus:!0,subcategories:[...new Set(te.filter(re=>re.genero==="Hombre").map(re=>re.categoria).filter(Boolean))]},{name:"Accesorios",key:"accesorios",hasSubmenus:!1}];y(X)}catch(F){console.error("Error fetching sections:",F)}})()},[s]);const V=U=>{U.preventDefault(),b.trim()&&(A(`/clery/products?search=${encodeURIComponent(b.trim())}`),e())},q=()=>{i(!1),c(!1),g(!1),e()};return m.jsxs(m.Fragment,{children:[m.jsx("div",{className:`fixed inset-0 bg-black transition-opacity duration-300 z-40 ${s?"opacity-50":"opacity-0 pointer-events-none"}`,onClick:e}),m.jsxs("div",{className:`fixed top-0 left-0 h-full w-full sm:w-96 md:w-[400px] bg-white shadow-xl transform transition-transform duration-300 ease-in-out z-50 flex flex-col ${s?"translate-x-0":"-translate-x-full"}`,style:{height:"100dvh",backgroundColor:"#ffffff"},children:[m.jsxs("div",{className:"flex items-center justify-between p-4 border-b bg-white",children:[m.jsx("h2",{className:"text-2xl md:text-3xl mb-2 text-gradient font-playfair tracking-wider",children:"CLÉRY"}),m.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:m.jsx("svg",{className:"w-5 h-5 text-black",fill:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})})})]}),m.jsxs("div",{className:"flex-1 overflow-y-auto bg-white",children:[m.jsxs("div",{className:"p-4 border-b bg-gray-50",children:[m.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"¿Qué estás buscando?"}),m.jsxs("form",{onSubmit:V,className:"flex space-x-2",children:[m.jsx("input",{type:"text",value:b,onChange:U=>x(U.target.value),placeholder:"Buscar productos...",className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-black focus:border-black text-sm"}),m.jsx("button",{type:"submit",className:"px-4 py-2 bg-black text-white rounded hover:bg-gray-800 transition-colors",children:m.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{d:"M15.5 14h-.79l-.28-.27A6.471 6.471 0 0016 9.5 6.5 6.5 0 109.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"})})})]})]}),m.jsx("div",{className:"p-4 bg-white",children:m.jsxs("ul",{className:"space-y-2",children:[m.jsx("li",{children:m.jsx(We,{to:"/clery",className:"flex items-center px-4 py-4 text-gray-800 hover:bg-gray-100 rounded transition-colors text-lg tracking-wide",onClick:q,children:"INICIO"})}),m.jsxs("li",{children:[m.jsxs("button",{onClick:()=>i(!n),className:"w-full flex items-center justify-between px-4 py-4 text-gray-800 hover:bg-gray-100 rounded transition-colors text-lg tracking-wide",children:[m.jsx("div",{className:"flex items-center",children:"PRODUCTOS"}),m.jsx("svg",{className:`w-5 h-5 text-black transition-transform duration-200 ${n?"rotate-180":""}`,fill:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{d:"M7 10l5 5 5-5z"})})]}),n&&m.jsxs("div",{className:"mt-2 ml-6 space-y-1",children:[m.jsx(We,{to:"/clery/products",className:"block w-full text-left px-4 py-2 text-base text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",onClick:q,children:"TODOS LOS PRODUCTOS"}),m.jsx(We,{to:"/clery/products?section=nuevos",className:"block w-full text-left px-4 py-2 text-base text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",onClick:q,children:"NUEVOS INGRESOS"}),m.jsx(We,{to:"/clery/products?section=destacados",className:"block w-full text-left px-4 py-2 text-base text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",onClick:q,children:"DESTACADOS"}),m.jsx(We,{to:"/clery/products?section=gangas",className:"block w-full text-left px-4 py-2 text-base text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",onClick:q,children:"GANGAS"}),m.jsx(We,{to:"/clery/products?section=accesorios",className:"block w-full text-left px-4 py-2 text-base text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",onClick:q,children:"ACCESORIOS"}),m.jsxs("div",{children:[m.jsxs("button",{onClick:()=>c(!o),className:"w-full flex items-center justify-between px-4 py-2 text-base text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:[m.jsx("div",{className:"flex items-center",children:"MUJER"}),m.jsx("svg",{className:`w-4 h-4 text-gray-600 transition-transform duration-200 ${o?"rotate-180":""}`,fill:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{d:"M7 10l5 5 5-5z"})})]}),o&&m.jsxs("div",{className:"mt-1 ml-4 space-y-1",children:[m.jsx(We,{to:"/clery/products?section=mujer",className:"block w-full text-left px-4 py-1 text-sm text-gray-500 hover:bg-gray-50 rounded transition-colors",onClick:q,children:"VER TODO MUJER"}),p.find(U=>U.key==="mujer")?.subcategories?.map(U=>m.jsx(We,{to:`/clery/products?section=mujer&subcategory=${encodeURIComponent(U)}`,onClick:q,className:"block w-full text-left px-4 py-1 text-xs text-gray-400 hover:bg-gray-50 rounded transition-colors",children:U.toUpperCase()},`mujer-${U}`))]})]}),m.jsxs("div",{children:[m.jsxs("button",{onClick:()=>g(!f),className:"w-full flex items-center justify-between px-4 py-2 text-base text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:[m.jsx("div",{className:"flex items-center",children:"HOMBRE"}),m.jsx("svg",{className:`w-4 h-4 text-gray-600 transition-transform duration-200 ${f?"rotate-180":""}`,fill:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{d:"M7 10l5 5 5-5z"})})]}),f&&m.jsxs("div",{className:"mt-1 ml-4 space-y-1",children:[m.jsx(We,{to:"/clery/products?section=hombre",className:"block w-full text-left px-4 py-1 text-sm text-gray-500 hover:bg-gray-50 rounded transition-colors",onClick:q,children:"VER TODO HOMBRE"}),p.find(U=>U.key==="hombre")?.subcategories?.map(U=>m.jsx(We,{to:`/clery/products?section=hombre&subcategory=${encodeURIComponent(U)}`,onClick:q,className:"block w-full text-left px-4 py-1 text-xs text-gray-400 hover:bg-gray-50 rounded transition-colors",children:U.toUpperCase()},`hombre-${U}`))]})]})]})]}),m.jsx("li",{children:m.jsx(We,{to:"/clery/terms",className:"flex items-center px-4 py-4 text-gray-800 hover:bg-gray-100 rounded-lg transition-colors text-lg tracking-wide",onClick:q,children:"TÉRMINOS Y CONDICIONES"})}),m.jsx("li",{children:m.jsx(We,{to:"/clery/about",className:"flex items-center px-4 py-4 text-gray-800 hover:bg-gray-100 rounded-lg transition-colors text-lg tracking-wide",onClick:q,children:"NOSOTROS"})})]})}),m.jsxs("div",{className:"border-t p-4 mt-4 bg-white",children:[m.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-4 text-center",children:"Síguenos"}),m.jsxs("div",{className:"flex justify-center space-x-6 mb-4",children:[m.jsx("a",{href:"https://wa.me/541130526311",target:"_blank",rel:"noopener noreferrer",className:"text-gray-600 hover:text-green-600 transition-colors",title:"WhatsApp",children:m.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893A11.821 11.821 0 0020.885 3.488z"})})}),m.jsx("a",{href:"https://instagram.com/cleryoficial",target:"_blank",rel:"noopener noreferrer",className:"text-gray-600 hover:text-pink-600 transition-colors",title:"Instagram",children:m.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{d:"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"})})}),m.jsx("a",{href:"https://www.tiktok.com/@cleryoficial",target:"_blank",rel:"noopener noreferrer",className:"text-gray-600 hover:text-black transition-colors",title:"TikTok",children:m.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{d:"M19.59 6.69a4.83 4.83 0 01-3.77-4.25V2h-3.45v13.67a2.89 2.89 0 01-5.2 1.74 2.89 2.89 0 012.31-4.64 2.93 2.93 0 01.88.13V9.4a6.84 6.84 0 00-.88-.05A6.33 6.33 0 005 20.1a6.34 6.34 0 0010.86-4.43v-7a8.16 8.16 0 004.77 1.52v-3.4a4.85 4.85 0 01-1-.1z"})})}),m.jsx("a",{href:"mailto:clery.sharongianella@gmail.com",className:"text-gray-600 hover:text-blue-600 transition-colors",title:"Email",children:m.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"})})})]}),m.jsxs("div",{className:"text-center",children:[m.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"@cleryoficial"}),m.jsx("p",{className:"text-xs text-gray-500",children:"📱 +54 11 3052-6311"})]})]})]})]})]})}function Qa(){const[s,e]=P.useState(!1),{getCartItemsCount:n,toggleCart:i}=xh(),o=()=>{e(!s)},c=()=>{e(!1)};return m.jsx("nav",{className:"bg-white shadow-lg sticky top-0 z-50",children:m.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[m.jsxs("div",{className:"flex justify-between items-center h-16",children:[m.jsx(We,{to:"/clery",className:"flex items-center space-x-3",children:m.jsx("img",{src:"./logo.jpeg",alt:"CLÉRY",className:"h-16 w-16 object-contain"})}),m.jsxs("div",{className:"flex items-center space-x-4",children:[m.jsxs("button",{onClick:i,className:"relative p-2 text-gray-700 hover:text-black transition-colors",children:[m.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{d:"M7 18c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zM1 2v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.14 0-.25-.11-.25-.25l.03-.12L8.1 13h7.45c.75 0 1.41-.42 1.75-1.03L21.7 4H5.21l-.94-2H1zm16 16c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"})}),n()>0&&m.jsx("span",{className:"absolute -top-1 -right-1 bg-black text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:n()})]}),m.jsx("button",{onClick:o,className:"p-2 text-gray-700 hover:text-black transition-colors",children:m.jsx("svg",{className:"w-6 h-6 text-black",fill:"currentColor",viewBox:"0 0 24 24",children:s?m.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}):m.jsx("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"})})})]})]}),m.jsx(YN,{isOpen:s,onClose:c})]})})}function Ya(){const{cart:s,isCartOpen:e,setIsCartOpen:n,removeFromCart:i,updateQuantity:o,clearCart:c,getCartTotal:f}=xh();P.useEffect(()=>(e?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[e]);const g=()=>{const p=`¡Hola CLÉRY! 👋 Me interesa comprar:

${s.map(b=>{const x=b.nombre||b.name,A=b.precio?parseFloat(b.precio.replace(/[.$,]/g,"")):b.price||0;return`• ${x} (x${b.quantity}) - $${(A*b.quantity).toFixed(2)}`}).join(`
`)}

💰 Total: $${f().toFixed(2)}

📍 ¿Coordino entrega en San Miguel o José C. Paz?`,y=`https://wa.me/541130526311?text=${encodeURIComponent(p)}`;window.open(y,"_blank")};return m.jsxs(m.Fragment,{children:[m.jsx("div",{className:`fixed inset-0 bg-black transition-opacity duration-300 z-40 ${e?"opacity-50":"opacity-0 pointer-events-none"}`,onClick:()=>n(!1)}),m.jsxs("div",{className:`fixed top-0 right-0 h-full w-full sm:w-96 md:w-[400px] bg-white shadow-xl transform transition-transform duration-300 ease-in-out z-50 flex flex-col ${e?"translate-x-0":"translate-x-full"}`,style:{height:"100dvh",backgroundColor:"#ffffff"},children:[m.jsxs("div",{className:"flex items-center justify-between p-4 border-b bg-white",children:[m.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Carrito de compras"}),m.jsx("button",{onClick:()=>n(!1),className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:m.jsx("svg",{className:"w-5 h-5 text-black",fill:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})})})]}),m.jsx("div",{className:"flex-1 overflow-y-auto bg-white",children:s.length===0?m.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-500 bg-white",children:[m.jsx("svg",{className:"w-16 h-16 mb-4",fill:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{d:"M7 18c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zM1 2v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.14 0-.25-.11-.25-.25l.03-.12L8.1 13h7.45c.75 0 1.41-.42 1.75-1.03L21.7 4H5.21l-.94-2H1zm16 16c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"})}),m.jsx("p",{className:"text-lg font-medium",children:"Tu carrito está vacío"}),m.jsx("p",{className:"text-sm",children:"Agrega productos para comenzar"})]}):m.jsx("div",{className:"p-4 space-y-4",children:s.map(p=>m.jsxs("div",{className:"flex items-center space-x-3 bg-gray-50 rounded p-3",children:[m.jsx("img",{src:p.imagen||p.image,alt:p.nombre||p.name,className:"w-16 h-16 object-cover rounded"}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsx("h3",{className:"font-medium text-gray-900 truncate",children:p.nombre||p.name}),m.jsxs("p",{className:"text-sm text-gray-600",children:["$",p.precio||p.price]}),m.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[m.jsx("button",{onClick:()=>o(p.id,p.quantity-1),className:"w-6 h-6 flex items-center justify-center bg-gray-200 hover:bg-gray-300 rounded-full text-sm",children:"-"}),m.jsx("span",{className:"text-sm font-medium w-8 text-center",children:p.quantity}),m.jsx("button",{onClick:()=>o(p.id,p.quantity+1),className:"w-6 h-6 flex items-center justify-center bg-gray-200 hover:bg-gray-300 rounded-full text-sm",children:"+"})]})]}),m.jsxs("div",{className:"text-right",children:[m.jsxs("p",{className:"font-semibold text-gray-900",children:["$",((p.precio?parseFloat(p.precio.replace(/[.$,]/g,"")):p.price||0)*p.quantity).toFixed(2)]}),m.jsx("button",{onClick:()=>i(p.id),className:"text-red-500 hover:text-red-700 text-sm mt-1",children:"Eliminar"})]})]},p.id))})}),s.length>0&&m.jsxs("div",{className:"border-t p-4 space-y-4 bg-white",children:[m.jsxs("div",{className:"flex justify-between items-center text-lg font-semibold",children:[m.jsx("span",{children:"Total:"}),m.jsxs("span",{children:["$",f().toFixed(2)]})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("button",{onClick:g,className:"w-full btn-primary",children:"Finalizar compra"}),m.jsx("button",{onClick:c,className:"w-full btn-secondary",children:"Vaciar carrito"})]}),m.jsx("p",{className:"text-xs text-gray-500 text-center",children:"Al finalizar serás redirigido a WhatsApp"})]})]})]})}function am({children:s}){const{isAuthenticated:e,loading:n}=Hm(),i=jn();return n?m.jsx("div",{className:"min-h-screen flex items-center justify-center",children:m.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900"})}):e?s:m.jsx(hT,{to:"/clery/admin/login",state:{from:i},replace:!0})}function kE({product:s}){const[e,n]=P.useState(!0),[i,o]=P.useState(!1),{addToCart:c}=xh(),{currentTheme:f}=qm(),g=()=>{c(s)},p=()=>{const x=`¡Hola CLÉRY! 👋 Me interesa este producto:

📦 ${s.nombre}
💰 Precio: $${s.precio}

¿Está disponible? ¿Cómo coordino la compra?`,A=`https://wa.me/541130526311?text=${encodeURIComponent(x)}`;window.open(A,"_blank")},y=()=>{n(!1)},b=()=>{n(!1),o(!0)};return m.jsxs("div",{className:"card group rounded border-none shadow-md",children:[m.jsxs(We,{to:`/clery/product/${s.id}`,className:"block",children:[m.jsxs("div",{className:"relative overflow-hidden rounded mb-3 bg-gray-100",style:{aspectRatio:"4/5"},children:[e&&m.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:m.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}),i?m.jsx("div",{className:"w-full h-full bg-gray-200 flex items-center justify-center",children:m.jsx("svg",{className:"w-12 h-12 text-black",fill:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17l-3.5-3.5 1.41-1.41L9 14.17l6.09-6.09L16.5 9.5 9 17z"})})}):m.jsx("img",{src:s.imagen,alt:s.nombre,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-200",onLoad:y,onError:b,style:{display:e?"none":"block",objectPosition:"center top"}}),s.discount&&m.jsx("div",{className:"absolute top-2 right-2",children:m.jsxs("span",{className:"bg-red-500 text-white text-xs px-2 py-1 rounded",children:["-",s.discount,"%"]})})]}),m.jsxs("div",{className:"space-y-1",children:[m.jsx("h3",{className:"font-semibold text-gray-900 text-base leading-tight",children:s.nombre}),m.jsxs("div",{className:"flex items-center space-x-2 justify-between",children:[m.jsxs("span",{className:"text-base font-bold text-gray-900",children:["$",s.precio]}),s.categoria&&m.jsx("span",{className:"text-white text-xs px-2 py-1 rounded-full font-bold font-sans",style:{backgroundColor:`${f.colors.buttonPrimary}33`,color:f.colors.buttonPrimary},children:s.categoria})]})]})]}),m.jsxs("div",{className:"mt-3 space-y-1.5",children:[m.jsx("button",{onClick:x=>{x.preventDefault(),x.stopPropagation(),p()},disabled:s.stock===0,className:`w-full py-2 px-3 rounded font-medium transition-colors text-sm ${s.stock===0?"bg-gray-300 text-gray-500 cursor-not-allowed":""}`,style:s.stock!==0?{backgroundColor:f.colors.buttonPrimary,border:"none",color:f.colors.buttonText}:{},onMouseEnter:x=>{s.stock!==0&&(x.target.style.backgroundColor=f.colors.buttonPrimaryHover)},onMouseLeave:x=>{s.stock!==0&&(x.target.style.backgroundColor=f.colors.buttonPrimary)},children:s.stock===0?"Sin stock":"COMPRAR"}),m.jsx("button",{onClick:x=>{x.preventDefault(),x.stopPropagation(),g()},disabled:s.stock===0,className:`w-full py-1.5 px-3 rounded font-medium transition-colors text-sm ${s.stock===0?"bg-gray-300 text-gray-500 cursor-not-allowed":""}`,style:s.stock!==0?{backgroundColor:"transparent",border:"none",color:f.colors.buttonPrimary}:{},onMouseEnter:x=>{s.stock!==0&&(x.target.style.backgroundColor=f.colors.buttonPrimary,x.target.style.color=f.colors.buttonText,x.target.style.border="none")},onMouseLeave:x=>{s.stock!==0&&(x.target.style.backgroundColor="transparent",x.target.style.color=f.colors.buttonPrimary,x.target.style.border="none")},children:s.stock===0?"Sin stock":"Agregar al carrito"})]})]})}const $N=[{name:"Remera Básica Blanca",price:19.99,category:"Remeras",image:"https://images.unsplash.com/photo-1521572163474-6864f9cf17ab?w=400&h=400&fit=crop"},{name:"Jean Skinny Azul",price:45.99,category:"Pantalones",image:"https://images.unsplash.com/photo-1542272604-787c3835535d?w=400&h=400&fit=crop"},{name:"Vestido Floreado",price:35.5,category:"Vestidos",image:"https://images.unsplash.com/photo-1515372039744-b8f02a3ae446?w=400&h=400&fit=crop"},{name:"Zapatillas Deportivas",price:79.99,category:"Calzado",image:"https://images.unsplash.com/photo-1549298916-b41d501d3772?w=400&h=400&fit=crop"}],KN=async()=>{try{const s=ea($n,"products");for(const e of $N){const n=await Ng(s,e);console.log(`Producto agregado con ID: ${n.id} - ${e.name}`)}return console.log("✅ Todos los productos de ejemplo han sido agregados exitosamente!"),!0}catch(s){return console.error("❌ Error agregando productos:",s),!1}};window.addSampleProducts=KN;function XN(){const[s,e]=P.useState([]),[n,i]=P.useState(!0);return P.useEffect(()=>{(async()=>{try{const f=(await Ph(ea($n,"products"))).docs.map(p=>({id:p.id,...p.data()}));let g=f.filter(p=>p.destacado===!0);if(g.length<6){const p=6-g.length,y=f.filter(b=>b.destacado!==!0);g=[...g,...y.slice(0,p)]}e(g.slice(0,6))}catch(c){console.error("Error fetching featured products:",c)}finally{i(!1)}})()},[]),m.jsxs("div",{className:"min-h-screen",children:[m.jsx("section",{className:"hero-gradient",children:m.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:m.jsxs("div",{className:"text-center",children:[m.jsx("h1",{className:"text-5xl md:text-7xl mb-6 text-gradient font-playfair tracking-wider",children:"CLÉRY"}),m.jsx("p",{className:"text-lg mb-8 text-gray-600 max-w-2xl mx-auto",children:"Envíos a todo el país • Diferentes puntos de entrega"}),m.jsx("div",{className:"space-x-4",children:m.jsx(We,{to:"/clery/products",className:"btn-primary inline-block",children:"Ver Catálogo"})})]})})}),m.jsx("section",{className:"py-16 bg-white",children:m.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[m.jsx("div",{className:"text-center mb-12",children:m.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"DESTACADOS"})}),n?m.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((o,c)=>m.jsxs("div",{className:"bg-white rounded-xl p-4 animate-pulse",children:[m.jsx("div",{className:"bg-gray-200 h-48 rounded-lg mb-4"}),m.jsx("div",{className:"bg-gray-200 h-4 rounded mb-2"}),m.jsx("div",{className:"bg-gray-200 h-4 rounded w-3/4 mb-2"}),m.jsx("div",{className:"bg-gray-200 h-6 rounded w-1/2 mb-4"}),m.jsx("div",{className:"bg-gray-200 h-10 rounded"})]},c))}):s.length>0?m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(o=>m.jsx(kE,{product:o},o.id))}),m.jsx("div",{className:"text-center mt-12",children:m.jsx(We,{to:"/clery/products",className:"btn-primary inline-block",children:"Ver todos los productos"})})]}):m.jsx("div",{className:"text-center py-12",children:m.jsxs("div",{className:"text-gray-500",children:[m.jsx("svg",{className:"w-16 h-16 mx-auto mb-4 text-black",fill:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{d:"M19 7h-3V6a4 4 0 0 0-8 0v1H5a1 1 0 0 0-1 1v11a3 3 0 0 0 3 3h10a3 3 0 0 0 3-3V8a1 1 0 0 0-1-1zM10 6a2 2 0 0 1 4 0v1h-4V6zm8 13a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V9h2v1a1 1 0 0 0 2 0V9h4v1a1 1 0 0 0 2 0V9h2v10z"})}),m.jsx("p",{className:"text-lg",children:"No hay productos disponibles"}),m.jsx("p",{className:"text-sm",children:"Pronto agregaremos nueva mercancía"})]})})]})}),m.jsx("section",{className:"py-8 bg-white",children:m.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[m.jsxs("div",{className:"text-center mb-6",children:[m.jsxs("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:["¿Por qué elegir ",m.jsx("span",{className:"font-playfair tracking-wider font-normal text-4xl",children:"CLÉRY"}),"?"]}),m.jsx("p",{className:"text-lg text-gray-600",children:"Tu experiencia de compra es nuestra prioridad"})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"bg-gray-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:m.jsx("svg",{className:"w-8 h-8 text-black",fill:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})})}),m.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Precios accesibles"}),m.jsx("p",{className:"text-gray-600",children:"Moda de calidad al mejor precio del mercado"})]}),m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"bg-gray-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:m.jsx("svg",{className:"w-8 h-8 text-black",fill:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})})}),m.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Diseños únicos"}),m.jsx("p",{className:"text-gray-600",children:"Piezas cuidadosamente seleccionadas para destacar tu estilo"})]}),m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"bg-gray-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:m.jsx("svg",{className:"w-8 h-8 text-black",fill:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{d:"M7 18c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zM1 2v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.14 0-.25-.11-.25-.25l.03-.12L8.1 13h7.45c.75 0 1.41-.42 1.75-1.03L21.7 4H5.21l-.94-2H1zm16 16c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"})})}),m.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Compra fácil"}),m.jsx("p",{className:"text-gray-600",children:"Proceso de compra simple y rápido vía WhatsApp"})]})]})]})})]})}function ZN({onFilterChange:s,sections:e=[]}){const[n,i]=P.useState({category:"",minPrice:"",maxPrice:"",sortBy:"name"}),[o,c]=P.useState(!1),f=(y,b)=>{const x={...n,[y]:b};i(x),s(x)},g=()=>{const y={category:"",minPrice:"",maxPrice:"",sortBy:"name"};i(y),s(y)},p=n.category||n.minPrice||n.maxPrice||n.sortBy!=="name";return m.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 mb-6 hidden",children:[m.jsxs("div",{className:"flex items-center justify-between md:hidden mb-4",children:[m.jsx("h3",{className:"font-medium text-gray-900",children:"Filtros"}),m.jsx("button",{onClick:()=>c(!o),className:"text-primary-600 hover:text-primary-700",children:o?"Ocultar":"Mostrar"})]}),m.jsxs("div",{className:`space-y-4 md:space-y-0 md:flex md:space-x-4 md:items-end ${o?"block":"hidden md:flex"}`,children:[m.jsxs("div",{className:"flex-1",children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Categoría"}),m.jsxs("select",{value:n.category,onChange:y=>f("category",y.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[m.jsx("option",{value:"",children:"Todas las categorías"}),e.map(y=>m.jsx("option",{value:y.name,children:y.name},y.key))]})]}),m.jsxs("div",{className:"flex-1",children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Precio mín."}),m.jsx("input",{type:"number",placeholder:"$0",value:n.minPrice,onChange:y=>f("minPrice",y.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),m.jsxs("div",{className:"flex-1",children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Precio máx."}),m.jsx("input",{type:"number",placeholder:"$999",value:n.maxPrice,onChange:y=>f("maxPrice",y.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),m.jsxs("div",{className:"flex-1",children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ordenar por"}),m.jsxs("select",{value:n.sortBy,onChange:y=>f("sortBy",y.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[m.jsx("option",{value:"name",children:"Nombre"}),m.jsx("option",{value:"price-low",children:"Precio: menor a mayor"}),m.jsx("option",{value:"price-high",children:"Precio: mayor a menor"}),m.jsx("option",{value:"newest",children:"Más recientes"})]})]}),p&&m.jsx("div",{className:"flex-shrink-0",children:m.jsx("button",{onClick:g,className:"px-4 py-2 text-gray-600 hover:text-gray-800 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Limpiar"})})]}),p&&m.jsxs("div",{className:"mt-3 text-sm text-gray-600",children:["Filtros activos: ",[n.category&&`Categoría: ${n.category}`,n.minPrice&&`Min: $${n.minPrice}`,n.maxPrice&&`Max: $${n.maxPrice}`,n.sortBy!=="name"&&`Orden: ${n.sortBy}`].filter(Boolean).join(", ")]})]})}const Bu=[{nombre:"Remera Básica Blanca",categoria:"Remeras",genero:"Mujer",precio:"8.500",imagen:"https://res.cloudinary.com/dbvam1i0z/image/upload/v1758527244/remera_mu9zdk.jpg",nuevo:!0,destacado:!1},{nombre:"Vestido Floral Primavera",categoria:"Vestidos",genero:"Mujer",precio:"15.900",imagen:"https://res.cloudinary.com/dbvam1i0z/image/upload/v1758527244/remera_mu9zdk.jpg",nuevo:!0,destacado:!0},{nombre:"Jeans Skinny Azul",categoria:"Pantalones",genero:"Mujer",precio:"12.700",imagen:"https://res.cloudinary.com/dbvam1i0z/image/upload/v1758527244/remera_mu9zdk.jpg",nuevo:!0,destacado:!1},{nombre:"Camisa Formal Blanca",categoria:"Remeras",genero:"Hombre",precio:"11.200",imagen:"https://res.cloudinary.com/dbvam1i0z/image/upload/v1758527244/remera_mu9zdk.jpg",nuevo:!0,destacado:!1},{nombre:"Pantalón Chino Beige",categoria:"Pantalones",genero:"Hombre",precio:"13.800",imagen:"https://res.cloudinary.com/dbvam1i0z/image/upload/v1758527244/remera_mu9zdk.jpg",nuevo:!0,destacado:!0},{nombre:"Zapatillas Deportivas Nike",categoria:"Calzado",genero:"Hombre",precio:"25.500",imagen:"https://res.cloudinary.com/dbvam1i0z/image/upload/v1758527244/remera_mu9zdk.jpg",nuevo:!0,destacado:!0},{nombre:"Blazer Ejecutivo Negro",categoria:"Chaquetas",genero:"Mujer",precio:"22.900",imagen:"https://res.cloudinary.com/dbvam1i0z/image/upload/v1758527244/remera_mu9zdk.jpg",nuevo:!1,destacado:!0},{nombre:"Falda Plisada Midi",categoria:"Faldas",genero:"Mujer",precio:"9.800",imagen:"https://res.cloudinary.com/dbvam1i0z/image/upload/v1758527244/remera_mu9zdk.jpg",nuevo:!1,destacado:!0},{nombre:"Botas de Cuero Marrón",categoria:"Calzado",genero:"Mujer",precio:"28.400",imagen:"https://res.cloudinary.com/dbvam1i0z/image/upload/v1758527244/remera_mu9zdk.jpg",nuevo:!1,destacado:!0},{nombre:"Chaqueta de Cuero",categoria:"Chaquetas",genero:"Hombre",precio:"45.600",imagen:"https://res.cloudinary.com/dbvam1i0z/image/upload/v1758527244/remera_mu9zdk.jpg",nuevo:!1,destacado:!0},{nombre:"Jeans Clásico Azul Oscuro",categoria:"Pantalones",genero:"Hombre",precio:"16.200",imagen:"https://res.cloudinary.com/dbvam1i0z/image/upload/v1758527244/remera_mu9zdk.jpg",nuevo:!1,destacado:!0},{nombre:"Pack 3 Remeras Básicas",categoria:"Gangas",genero:"No",precio:"14.900",imagen:"https://res.cloudinary.com/dbvam1i0z/image/upload/v1758527244/remera_mu9zdk.jpg",nuevo:!1,destacado:!1},{nombre:"Shorts de Verano - Oferta",categoria:"Gangas",genero:"No",precio:"6.500",imagen:"https://res.cloudinary.com/dbvam1i0z/image/upload/v1758527244/remera_mu9zdk.jpg",nuevo:!1,destacado:!1},{nombre:"Medias Pack x6 Pares",categoria:"Gangas",genero:"No",precio:"4.200",imagen:"https://res.cloudinary.com/dbvam1i0z/image/upload/v1758527244/remera_mu9zdk.jpg",nuevo:!1,destacado:!1},{nombre:"Cartera de Cuero Negra",categoria:"Accesorios",genero:"Mujer",precio:"18.700",imagen:"https://res.cloudinary.com/dbvam1i0z/image/upload/v1758527244/remera_mu9zdk.jpg",nuevo:!1,destacado:!1},{nombre:"Reloj Digital Deportivo",categoria:"Accesorios",genero:"Hombre",precio:"12.300",imagen:"https://res.cloudinary.com/dbvam1i0z/image/upload/v1758527244/remera_mu9zdk.jpg",nuevo:!1,destacado:!1},{nombre:"Gorra Snapback Negra",categoria:"Accesorios",genero:"No",precio:"7.800",imagen:"https://res.cloudinary.com/dbvam1i0z/image/upload/v1758527244/remera_mu9zdk.jpg",nuevo:!1,destacado:!1},{nombre:"Cinturón de Cuero Marrón",categoria:"Accesorios",genero:"Hombre",precio:"9.600",imagen:"https://res.cloudinary.com/dbvam1i0z/image/upload/v1758527244/remera_mu9zdk.jpg",nuevo:!1,destacado:!1},{nombre:"Top Deportivo Rosa",categoria:"Tops",genero:"Mujer",precio:"6.900",imagen:"https://res.cloudinary.com/dbvam1i0z/image/upload/v1758527244/remera_mu9zdk.jpg",nuevo:!1,destacado:!1},{nombre:"Leggings Negros Deportivos",categoria:"Pantalones",genero:"Mujer",precio:"8.400",imagen:"https://res.cloudinary.com/dbvam1i0z/image/upload/v1758527244/remera_mu9zdk.jpg",nuevo:!1,destacado:!1},{nombre:"Sandalias de Verano",categoria:"Calzado",genero:"Mujer",precio:"11.800",imagen:"https://res.cloudinary.com/dbvam1i0z/image/upload/v1758527244/remera_mu9zdk.jpg",nuevo:!1,destacado:!1},{nombre:"Polo Clásico Azul",categoria:"Remeras",genero:"Hombre",precio:"10.500",imagen:"https://res.cloudinary.com/dbvam1i0z/image/upload/v1758527244/remera_mu9zdk.jpg",nuevo:!1,destacado:!1},{nombre:"Bermudas de Algodón",categoria:"Pantalones",genero:"Hombre",precio:"9.200",imagen:"https://res.cloudinary.com/dbvam1i0z/image/upload/v1758527244/remera_mu9zdk.jpg",nuevo:!1,destacado:!1},{nombre:"Mocasines de Cuero",categoria:"Calzado",genero:"Hombre",precio:"32.100",imagen:"https://res.cloudinary.com/dbvam1i0z/image/upload/v1758527244/remera_mu9zdk.jpg",nuevo:!1,destacado:!1}];function WN(){const[s,e]=P.useState(!1),[n,i]=P.useState(0),[o,c]=P.useState([]),[f,g]=P.useState(!1),p=async()=>{e(!0),i(0),c([]),g(!1);const x=[];try{for(let A=0;A<Bu.length;A++){const V=Bu[A];try{const q=await Ng(ea($n,"products"),V);x.push({success:!0,product:V.nombre,id:q.id}),console.log(`✅ Subido: ${V.nombre}`)}catch(q){x.push({success:!1,product:V.nombre,error:q.message}),console.error(`❌ Error: ${V.nombre}`,q)}i(Math.round((A+1)/Bu.length*100)),await new Promise(q=>setTimeout(q,100))}c(x),g(!0)}catch(A){console.error("Error general:",A),alert("Error general: "+A.message)}finally{e(!1)}},y=o.filter(x=>x.success).length,b=o.filter(x=>!x.success).length;return m.jsxs("div",{className:"max-w-4xl mx-auto p-6 bg-white rounded-lg shadow-lg",children:[m.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"🚀 Subir Productos de Prueba"}),m.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:[m.jsxs("h3",{className:"font-medium text-blue-900 mb-2",children:["📦 Se subirán ",Bu.length," productos de prueba:"]}),m.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[m.jsxs("li",{children:["• ",m.jsx("strong",{children:"Nuevos Ingresos:"})," 6 productos (3 mujer, 3 hombre)"]}),m.jsxs("li",{children:["• ",m.jsx("strong",{children:"Destacados:"})," 5 productos adicionales"]}),m.jsxs("li",{children:["• ",m.jsx("strong",{children:"Gangas:"})," 3 ofertas especiales"]}),m.jsxs("li",{children:["• ",m.jsx("strong",{children:"Accesorios:"})," 4 complementos"]}),m.jsxs("li",{children:["• ",m.jsx("strong",{children:"Productos adicionales:"})," 6 items variados"]})]})]}),!s&&!f&&m.jsx("button",{onClick:p,className:"w-full bg-black text-white py-3 px-6 rounded-lg font-medium hover:bg-gray-800 transition-colors",children:"🚀 Subir Productos a Firebase"}),s&&m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Subiendo productos..."}),m.jsxs("span",{className:"text-sm text-gray-500",children:[n,"%"]})]}),m.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:m.jsx("div",{className:"bg-black h-3 rounded-full transition-all duration-300",style:{width:`${n}%`}})}),m.jsx("p",{className:"text-sm text-gray-600 text-center",children:"Por favor espera mientras se suben los productos..."})]}),f&&m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[m.jsx("h3",{className:"font-medium text-green-900 mb-2",children:"✅ Proceso Completado"}),m.jsxs("div",{className:"text-sm text-green-700",children:[m.jsxs("p",{children:["• Productos subidos exitosamente: ",m.jsx("strong",{children:y})]}),m.jsxs("p",{children:["• Productos con error: ",m.jsx("strong",{children:b})]})]})]}),b>0&&m.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[m.jsx("h4",{className:"font-medium text-red-900 mb-2",children:"❌ Productos con errores:"}),m.jsx("ul",{className:"text-sm text-red-700 space-y-1",children:o.filter(x=>!x.success).map((x,A)=>m.jsxs("li",{children:["• ",x.product,": ",x.error]},A))})]}),m.jsxs("div",{className:"flex space-x-3",children:[m.jsx("button",{onClick:()=>window.location.reload(),className:"flex-1 bg-black text-white py-2 px-4 rounded-lg font-medium hover:bg-gray-800 transition-colors",children:"🔄 Recargar Página"}),m.jsx("button",{onClick:()=>{g(!1),c([]),i(0)},className:"flex-1 bg-gray-500 text-white py-2 px-4 rounded-lg font-medium hover:bg-gray-600 transition-colors",children:"🔄 Subir Más"})]})]})]})}function JN(){const[s,e]=P.useState([]),[n,i]=P.useState([]),[o,c]=P.useState(!0),[f,g]=P.useState([]),[p,y]=P.useState(""),[b,x]=P.useState(""),[A,V]=P.useState(""),q=jn(),{currentTheme:U,isMujerTheme:F,isHombreTheme:te}=qm(),X=he=>{const I=[{name:"Nuevos Ingresos",key:"nuevos"},{name:"Destacados",key:"destacados"},{name:"Gangas",key:"gangas"},{name:"Mujer",key:"mujer"},{name:"Hombre",key:"hombre"},{name:"Accesorios",key:"accesorios"}],S=[...new Set(he.filter(D=>D.genero==="Mujer").map(D=>D.categoria).filter(Boolean))],R=[...new Set(he.filter(D=>D.genero==="Hombre").map(D=>D.categoria).filter(Boolean))];return I.map(D=>D.key==="mujer"?{...D,subcategories:S}:D.key==="hombre"?{...D,subcategories:R}:D)};P.useEffect(()=>{(async()=>{try{const S=(await Ph(ea($n,"products"))).docs.map(D=>({id:D.id,...D.data()}));e(S);const R=X(S);g(R),re(S)}catch(I){console.error("Error fetching products:",I)}finally{c(!1)}})()},[q]);const re=he=>{const I=new URLSearchParams(q.search),S=I.get("section"),R=I.get("subcategory"),D=I.get("search"),j=I.get("category");x(S?decodeURIComponent(S):""),V(R?decodeURIComponent(R):""),y(D?decodeURIComponent(D):"");let k=[...he];if(S){const C=decodeURIComponent(S);k=xe(k,C)}if(R){const C=decodeURIComponent(R);k=k.filter(Be=>Be.categoria===C)}if(j&&!S){const C=decodeURIComponent(j);k=k.filter(Be=>Be.categoria===C)}if(D){const C=decodeURIComponent(D).toLowerCase();k=k.filter(Be=>Be.nombre.toLowerCase().includes(C)||Be.categoria&&Be.categoria.toLowerCase().includes(C))}i(k)},xe=(he,I)=>{switch(I){case"nuevos":return he.filter(S=>S.nuevo===!0);case"destacados":return he.filter(S=>S.destacado===!0);case"gangas":return he.filter(S=>S.categoria==="Gangas");case"accesorios":return he.filter(S=>S.categoria==="Accesorios");case"mujer":return he.filter(S=>S.genero==="Mujer");case"hombre":return he.filter(S=>S.genero==="Hombre");default:return he}},fe=he=>{let I=[...s];switch(he.category&&(I=I.filter(S=>S.categoria===he.category)),he.minPrice&&(I=I.filter(S=>parseFloat(S.precio?.replace(/[.$,]/g,"")||0)>=parseFloat(he.minPrice))),he.maxPrice&&(I=I.filter(S=>parseFloat(S.precio?.replace(/[.$,]/g,"")||0)<=parseFloat(he.maxPrice))),he.sortBy){case"price-low":I.sort((S,R)=>{const D=parseFloat(S.precio?.replace(/[.$,]/g,"")||0),j=parseFloat(R.precio?.replace(/[.$,]/g,"")||0);return D-j});break;case"price-high":I.sort((S,R)=>{const D=parseFloat(S.precio?.replace(/[.$,]/g,"")||0);return parseFloat(R.precio?.replace(/[.$,]/g,"")||0)-D});break;case"newest":I.sort((S,R)=>S.nuevo&&!R.nuevo?-1:!S.nuevo&&R.nuevo?1:0);break;default:I.sort((S,R)=>(S.nombre||"").localeCompare(R.nombre||""))}i(I)};return o?m.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[m.jsxs("div",{className:"mb-8",children:[m.jsx("div",{className:"bg-gray-200 h-8 w-48 rounded animate-pulse mb-4"}),m.jsx("div",{className:"bg-gray-200 h-4 w-64 rounded animate-pulse"})]}),m.jsx("div",{className:"bg-gray-200 h-20 rounded-lg animate-pulse mb-6"}),m.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:[...Array(8)].map((he,I)=>m.jsxs("div",{className:"bg-white rounded-xl p-4 animate-pulse",children:[m.jsx("div",{className:"bg-gray-200 h-48 rounded-lg mb-4"}),m.jsx("div",{className:"bg-gray-200 h-4 rounded mb-2"}),m.jsx("div",{className:"bg-gray-200 h-4 rounded w-3/4 mb-2"}),m.jsx("div",{className:"bg-gray-200 h-6 rounded w-1/2 mb-4"}),m.jsx("div",{className:"bg-gray-200 h-10 rounded"})]},I))})]}):m.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[m.jsxs("div",{className:"mb-8",children:[m.jsx("h1",{className:"text-3xl font-bold mb-2",style:{color:U.colors.text},children:b?m.jsxs(m.Fragment,{children:[b==="nuevos"&&"NUEVOS INGRESOS",b==="destacados"&&"DESTACADOS",b==="gangas"&&"GANGAS",b==="mujer"&&"MUJER",b==="hombre"&&"HOMBRE",b==="accesorios"&&"ACCESORIOS"]}):"PRODUCTOS"}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("p",{className:"text-gray-600",style:{color:U.colors.textSecondary},children:b?m.jsxs(m.Fragment,{children:[b==="nuevos"&&"Los últimos productos que llegaron",b==="destacados"&&"Nuestras mejores piezas seleccionadas",b==="gangas"&&"Ofertas imperdibles en productos seleccionados",b==="mujer"&&"Moda para todos los estilos",b==="hombre"&&"Estilo masculino moderno y elegante",b==="accesorios"&&"Complementos perfectos para tu look"]}):"Descubre nuestra colección completa"}),(p||b||A)&&m.jsxs("div",{className:"flex flex-wrap gap-2 mt-3",children:[p&&m.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm text-white",style:{backgroundColor:U.colors.text},children:[m.jsx("svg",{className:"w-4 h-4 mr-2",fill:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{d:"M15.5 14h-.79l-.28-.27A6.471 6.471 0 0016 9.5 6.5 6.5 0 109.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"})}),'Buscando: "',p,'"']}),b&&m.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm",style:{backgroundColor:U.colors.primary,color:U.colors.badgeText},children:[m.jsx("svg",{className:"w-4 h-4 mr-2",fill:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})}),b==="nuevos"&&"Nuevos Ingresos",b==="destacados"&&"Destacados",b==="gangas"&&"Gangas",b==="mujer"&&"Mujer",b==="hombre"&&"Hombre",b==="accesorios"&&"Accesorios"]}),A&&m.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm",style:{backgroundColor:U.colors.primaryHover,color:U.colors.badgeText},children:[m.jsx("svg",{className:"w-4 h-4 mr-2",fill:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{d:"M17.63 5.84C17.27 5.33 16.67 5 16 5L5 5.01C3.9 5.01 3 5.9 3 7v10c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V9c0-.67-.33-1.27-.84-1.63L17.63 5.84zM16 7l2 2H5V7h11z"})}),A]}),m.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm",style:{backgroundColor:U.colors.accent,color:U.colors.counterText},children:[n.length," ",n.length===1?"resultado":"resultados"]})]})]})]}),m.jsx(ZN,{onFilterChange:fe,sections:f}),n.length>0?m.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:n.map(he=>m.jsx(kE,{product:he},he.id))}):s.length>0?m.jsxs("div",{className:"text-center py-12",children:[m.jsx("svg",{className:"w-16 h-16 text-black mx-auto mb-4",fill:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8s0-6-6-6zM6 20V4h7v5h5v11H6z"})}),m.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No se encontraron productos"}),m.jsx("p",{className:"text-gray-600 mb-4",children:"Intenta ajustar los filtros para ver más resultados"})]}):m.jsxs("div",{className:"space-y-8",children:[m.jsxs("div",{className:"text-center py-12",children:[m.jsx("svg",{className:"w-16 h-16 text-black mx-auto mb-4",fill:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{d:"M19 7h-3V6a4 4 0 0 0-8 0v1H5a1 1 0 0 0-1 1v11a3 3 0 0 0 3 3h10a3 3 0 0 0 3-3V8a1 1 0 0 0-1-1zM10 6a2 2 0 0 1 4 0v1h-4V6zm8 13a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V9h2v1a1 1 0 0 0 2 0V9h4v1a1 1 0 0 0 2 0V9h2v10z"})}),m.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No hay productos disponibles"}),m.jsx("p",{className:"text-gray-600 mb-6",children:"Para comenzar a probar la aplicación, puedes subir algunos productos de ejemplo"})]}),m.jsx(WN,{})]})]})}function eI(){const{id:s}=Z_(),e=$i(),{addToCart:n}=xh(),{currentTheme:i}=qm(),[o,c]=P.useState(null),[f,g]=P.useState(!0),[p,y]=P.useState(null),[b,x]=P.useState(!0),[A,V]=P.useState(!1);P.useEffect(()=>{s&&(async()=>{try{const re=tc($n,"products",s),xe=await nE(re);xe.exists()?c({id:xe.id,...xe.data()}):y("Producto no encontrado")}catch(re){console.error("Error fetching product:",re),y("Error al cargar el producto")}finally{g(!1)}})()},[s]);const q=()=>{n(o)},U=()=>{const X=`¡Hola CLÉRY! 👋 Me interesa este producto:

📦 ${o.nombre}
💰 Precio: $${o.precio}

¿Está disponible? ¿Cómo coordino la compra?`,re=`https://wa.me/541130526311?text=${encodeURIComponent(X)}`;window.open(re,"_blank")},F=()=>{x(!1)},te=()=>{x(!1),V(!0)};return f?m.jsx("div",{className:"min-h-screen flex items-center justify-center",children:m.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900"})}):p||!o?m.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center px-4",children:m.jsxs("div",{className:"text-center",children:[m.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:p||"Producto no encontrado"}),m.jsx("p",{className:"text-gray-600 mb-6",children:"El producto que buscas no existe o fué eliminado."}),m.jsx(We,{to:"/clery/products",className:"btn-primary inline-block",children:"Ver todos los productos"})]})}):m.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:m.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[m.jsx("nav",{className:"flex mb-8","aria-label":"Breadcrumb",children:m.jsxs("ol",{className:"flex items-center space-x-2",children:[m.jsx("li",{children:m.jsx(We,{to:"/clery",className:"text-gray-500 hover:text-gray-700",children:"Inicio"})}),m.jsx("li",{children:m.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",children:m.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})}),m.jsx("li",{children:m.jsx(We,{to:"/clery/products",className:"text-gray-500 hover:text-gray-700",children:"Productos"})}),m.jsx("li",{children:m.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",children:m.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})}),m.jsx("li",{children:m.jsx("span",{className:"text-gray-900 font-medium",children:o.nombre})})]})}),m.jsxs("button",{onClick:()=>e(-1),className:"flex items-center text-gray-600 hover:text-gray-800 mb-6 transition-colors",children:[m.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Volver"]}),m.jsx("div",{className:"bg-white rounded shadow-lg overflow-hidden",children:m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 p-6 md:p-8",children:[m.jsx("div",{className:"space-y-4",children:m.jsxs("div",{className:"relative bg-gray-100 rounded overflow-hidden",style:{aspectRatio:"4/5"},children:[b&&m.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:m.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-600"})}),A?m.jsxs("div",{className:"w-full h-full bg-gray-200 flex flex-col items-center justify-center",children:[m.jsx("svg",{className:"w-16 h-16 text-gray-400 mb-2",fill:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17l-3.5-3.5 1.41-1.41L9 14.17l6.09-6.09L16.5 9.5 9 17z"})}),m.jsx("p",{className:"text-gray-500 text-sm",children:"Imagen no disponible"})]}):m.jsx("img",{src:o.imagen,alt:o.nombre,className:"w-full h-full object-contain",onLoad:F,onError:te,style:{display:b?"none":"block"}})]})}),m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-3xl font-bold mb-3",style:{color:i.colors.text},children:o.nombre}),m.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[o.categoria&&m.jsx("span",{className:"inline-block text-sm px-3 py-1 rounded-full font-bold",style:{backgroundColor:`${i.colors.buttonPrimary}33`,color:i.colors.buttonPrimary},children:o.categoria}),o.nuevo&&m.jsx("span",{className:"inline-block text-sm px-3 py-1 rounded-full font-bold",style:{backgroundColor:"#ef444433",color:"#ef4444"},children:"Nuevo"}),o.destacado&&m.jsx("span",{className:"inline-block text-sm px-3 py-1 rounded-full font-bold",style:{backgroundColor:"#fbbf2433",color:"#f59e0b"},children:"Destacado"})]})]}),m.jsxs("div",{className:"space-y-4",children:[m.jsx("div",{children:m.jsxs("span",{className:"text-4xl font-bold text-gray-900",children:["$",o.precio]})}),o.descripcion&&m.jsxs("div",{children:[m.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Descripción"}),m.jsx("p",{className:"text-gray-600 leading-relaxed",children:o.descripcion})]}),o.tallas&&o.tallas.length>0&&m.jsxs("div",{children:[m.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Tallas disponibles"}),m.jsx("div",{className:"flex flex-wrap gap-2",children:o.tallas.map((X,re)=>m.jsx("span",{className:"px-3 py-2 border border-gray-300 rounded text-sm font-medium hover:border-gray-400 transition-colors",children:X},re))})]}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Detalles"}),m.jsx("div",{className:"space-y-1 text-sm text-gray-600",children:o.genero&&m.jsxs("p",{children:[m.jsx("span",{className:"font-medium",children:"Género:"})," ",o.genero]})})]})]}),m.jsxs("div",{className:"space-y-3 pt-6",children:[m.jsx("button",{onClick:U,className:"w-full py-4 px-6 rounded font-medium text-lg transition-colors",style:{backgroundColor:i.colors.buttonPrimary,border:"none",color:i.colors.buttonText},onMouseEnter:X=>{X.target.style.backgroundColor=i.colors.buttonPrimaryHover},onMouseLeave:X=>{X.target.style.backgroundColor=i.colors.buttonPrimary},children:"COMPRAR AHORA"}),m.jsx("button",{onClick:q,className:"w-full py-3 px-6 rounded font-medium transition-colors",style:{backgroundColor:"transparent",border:"none",color:i.colors.buttonPrimary},onMouseEnter:X=>{X.target.style.backgroundColor=i.colors.buttonPrimary,X.target.style.color=i.colors.buttonText,X.target.style.border="none"},onMouseLeave:X=>{X.target.style.backgroundColor="transparent",X.target.style.color=i.colors.buttonPrimary,X.target.style.border="none"},children:"AGREGAR AL CARRITO"})]}),m.jsxs("div",{className:"border-t pt-6",children:[m.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"¿Dudas sobre este producto?"}),m.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[m.jsx("p",{children:"📱 WhatsApp: +54 11 3052-6311"}),m.jsx("p",{children:"💌 Correo: clery.sharongianella@gmail.com"}),m.jsx("p",{children:"📦 Envíos a todo el país"})]})]})]})]})})]})})}function tI(){return m.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[m.jsxs("div",{className:"text-center mb-12",children:[m.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Sobre CLÉRY"}),m.jsx("p",{className:"text-xl text-gray-600",children:"Conoce la historia detrás de tu tienda de moda favorita"})]}),m.jsxs("div",{className:"prose prose-lg mx-auto",children:[m.jsxs("div",{className:"grid md:grid-cols-2 gap-8 items-center mb-12",children:[m.jsxs("div",{children:[m.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Nuestra misión"}),m.jsx("p",{className:"text-gray-600 leading-relaxed",children:"En CLÉRY creemos que la moda debe ser accesible para todos. Nos dedicamos a ofrecer prendas de calidad que reflejen tu personalidad única, sin comprometer tu presupuesto."})]}),m.jsx("div",{className:"bg-gray-50 p-6 rounded-lg",children:m.jsxs("div",{className:"text-black text-center",children:[m.jsx("svg",{className:"w-16 h-16 mx-auto mb-4",fill:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{d:"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"})}),m.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Pasión por la moda"})]})})]}),m.jsxs("div",{className:"grid md:grid-cols-2 gap-8 items-center mb-12",children:[m.jsx("div",{className:"bg-gray-50 p-6 rounded-lg order-2 md:order-1",children:m.jsxs("div",{className:"text-black text-center",children:[m.jsx("svg",{className:"w-16 h-16 mx-auto mb-4",fill:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{d:"M16 4c0-1.11.89-2 2-2s2 .89 2 2-.89 2-2 2-2-.89-2-2zm4 18v-6h2.5l-2.54-7.63A1.98 1.98 0 0 0 18 7c-.8 0-1.54.5-1.85 1.26l-1.92 5.76A2 2 0 0 0 16 16.67V22h4zM12.5 11.5c.83 0 1.5-.67 1.5-1.5s-.67-1.5-1.5-1.5S11 9.17 11 10s.67 1.5 1.5 1.5zM5.5 6c1.11 0 2-.89 2-2s-.89-2-2-2-2 .89-2 2 .89 2 2 2zm2.5 16v-7H6l1.5-3H9v-2H4v2h1.5L4 15h2v7h2z"})}),m.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Comunidad unida"})]})}),m.jsxs("div",{className:"order-1 md:order-2",children:[m.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Nuestra historia"}),m.jsx("p",{className:"text-gray-600 leading-relaxed",children:"Comenzamos como un pequeño emprendimiento familiar en 2023, con la visión de democratizar la moda. Hoy somos una comunidad que crece día a día, conectando personas a través del estilo y la autenticidad."})]})]}),m.jsxs("div",{className:"bg-gray-800 text-white p-8 rounded-lg text-center mb-12",children:[m.jsx("h2",{className:"text-2xl font-bold mb-4",children:"¿Por qué elegir CLÉRY?"}),m.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[m.jsxs("div",{children:[m.jsx("div",{className:"text-3xl font-bold mb-2",children:"500+"}),m.jsx("div",{children:"Productos únicos"})]}),m.jsxs("div",{children:[m.jsx("div",{className:"text-3xl font-bold mb-2",children:"1000+"}),m.jsx("div",{children:"Clientes satisfechos"})]}),m.jsxs("div",{children:[m.jsx("div",{className:"text-3xl font-bold mb-2",children:"24/7"}),m.jsx("div",{children:"Atención al cliente"})]})]})]}),m.jsxs("div",{className:"text-center",children:[m.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"¡Conecta con nosotros!"}),m.jsx("p",{className:"text-gray-600 mb-6",children:"¿Tienes alguna pregunta o sugerencia? Nos encantaría escucharte."}),m.jsxs("div",{className:"flex justify-center space-x-4",children:[m.jsx("a",{href:"https://wa.me/1130526311",target:"_blank",rel:"noopener noreferrer",className:"bg-gray-800 hover:bg-gray-600 text-white px-6 py-3 rounded-lg font-medium transition-colors",children:"WhatsApp"}),m.jsx("a",{href:"mailto:clery.sharongianella@gmail.com",className:"bg-gray-800 hover:bg-gray-600 text-white px-6 py-3 rounded-lg font-medium transition-colors",children:"Email"})]})]})]})]})}function nI(){return m.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[m.jsxs("div",{className:"text-center mb-12",children:[m.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4 font-playfair",children:"Términos y Condiciones"}),m.jsx("p",{className:"text-lg text-gray-600",children:"Información importante sobre nuestras políticas de venta"})]}),m.jsxs("div",{className:"prose prose-lg mx-auto hidden",children:[m.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg mb-8",children:[m.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Información General"}),m.jsxs("p",{className:"text-gray-700 mb-4",children:["Bienvenido a ",m.jsx("strong",{children:"CLÉRY"}),". Al realizar una compra en nuestro catálogo, aceptas los siguientes términos y condiciones. Por favor, léelos detenidamente."]})]}),m.jsxs("section",{className:"mb-8",children:[m.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"💳 Formas de Pago"}),m.jsxs("ul",{className:"space-y-2 text-gray-700",children:[m.jsxs("li",{children:["• ",m.jsx("strong",{children:"Transferencia bancaria"})," (con descuento especial)"]}),m.jsxs("li",{children:["• ",m.jsx("strong",{children:"MercadoPago"})," (tarjetas de débito y crédito)"]}),m.jsxs("li",{children:["• ",m.jsx("strong",{children:"Efectivo"})," (solo para entregas en persona)"]})]})]}),m.jsxs("section",{className:"mb-8",children:[m.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"📦 Envíos y Entregas"}),m.jsxs("div",{className:"space-y-4 text-gray-700",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"font-semibold text-gray-900",children:"Entregas Locales:"}),m.jsx("ul",{className:"space-y-1 ml-4",children:m.jsxs("li",{children:[m.jsx("strong",{children:"Horarios"}),": Lunes a viernes de 9:00 a 20:00 hs"]})})]}),m.jsxs("div",{children:[m.jsx("h3",{className:"font-semibold text-gray-900",children:"Envíos Nacionales:"}),m.jsxs("ul",{className:"space-y-1 ml-4",children:[m.jsxs("li",{children:["• ",m.jsx("strong",{children:"Correo Argentino"})," y ",m.jsx("strong",{children:"OCA"})]}),m.jsxs("li",{children:["• ",m.jsx("strong",{children:"Tiempo de entrega"}),": 3 a 7 días hábiles"]}),m.jsxs("li",{children:["• ",m.jsx("strong",{children:"Costo"}),": A cargo del comprador"]})]})]})]})]}),m.jsxs("section",{className:"mb-8",children:[m.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"🔄 Política de Cambios"}),m.jsxs("div",{className:"space-y-4 text-gray-700",children:[m.jsxs("p",{children:[m.jsx("strong",{children:"Tienes 7 días"})," desde la recepción para solicitar un cambio."]}),m.jsx("h3",{className:"font-semibold text-gray-900",children:"Condiciones para cambios:"}),m.jsxs("ul",{className:"space-y-1 ml-4",children:[m.jsxs("li",{children:["• La prenda debe estar en ",m.jsx("strong",{children:"perfectas condiciones"})]}),m.jsxs("li",{children:["• Con ",m.jsx("strong",{children:"etiquetas originales"})]}),m.jsx("li",{children:"• Sin uso, lavado o alteraciones"}),m.jsx("li",{children:"• Presentar comprobante de compra"})]}),m.jsxs("p",{className:"mt-4",children:[m.jsx("strong",{children:"Nota:"})," Los gastos de envío para cambios corren por cuenta del cliente."]})]})]}),m.jsxs("section",{className:"mb-8",children:[m.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"📏 Talles y Medidas"}),m.jsxs("div",{className:"space-y-4 text-gray-700",children:[m.jsxs("p",{children:["Consulta siempre la ",m.jsx("strong",{children:"tabla de talles"})," antes de realizar tu compra."]}),m.jsx("div",{className:"bg-yellow-50 border border-yellow-200 p-4 rounded-lg",children:m.jsxs("p",{className:"text-yellow-800",children:[m.jsx("strong",{children:"💡 Tip:"})," Si tienes dudas sobre el talle, ¡escríbenos por WhatsApp! Te ayudamos a elegir la medida perfecta."]})})]})]}),m.jsxs("section",{className:"mb-8",children:[m.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"📋 Stock y Disponibilidad"}),m.jsx("div",{className:"space-y-4 text-gray-700",children:m.jsxs("ul",{className:"space-y-2",children:[m.jsxs("li",{children:["• El stock se actualiza en ",m.jsx("strong",{children:"tiempo real"})]}),m.jsx("li",{children:"• Nos reservamos el derecho de cancelar pedidos sin stock"}),m.jsx("li",{children:"• En caso de cancelación, se reintegra el 100% del dinero"}),m.jsx("li",{children:"• Tiempo de reintegro: 3 a 5 días hábiles"})]})})]}),m.jsxs("section",{className:"mb-8",children:[m.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"🔒 Protección de Datos"}),m.jsxs("div",{className:"space-y-4 text-gray-700",children:[m.jsxs("p",{children:["Tus datos personales están ",m.jsx("strong",{children:"protegidos"})," y solo se utilizan para:"]}),m.jsxs("ul",{className:"space-y-1 ml-4",children:[m.jsx("li",{children:"• Procesar tu pedido"}),m.jsx("li",{children:"• Coordinar la entrega"}),m.jsx("li",{children:"• Comunicaciones relacionadas con tu compra"}),m.jsx("li",{children:"• Ofertas especiales (solo si lo autorizas)"})]}),m.jsxs("p",{className:"mt-4",children:[m.jsx("strong",{children:"No compartimos"})," tu información con terceros sin tu consentimiento."]})]})]}),m.jsxs("section",{className:"mb-8",children:[m.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"📞 Contacto y Consultas"}),m.jsxs("div",{className:"bg-gray-900 text-white p-6 rounded-lg",children:[m.jsx("p",{className:"mb-4",children:"¿Tienes alguna duda o consulta?"}),m.jsxs("div",{className:"space-y-2",children:[m.jsxs("p",{children:[m.jsx("strong",{children:"WhatsApp:"}),m.jsx("a",{href:"https://wa.me/541130526311",className:"text-green-400 hover:text-green-300 ml-2",children:"+54 11 3052-6311"})]}),m.jsxs("p",{children:[m.jsx("strong",{children:"Email:"}),m.jsx("a",{href:"mailto:clery.sharongianella@gmail.com",className:"text-blue-400 hover:text-blue-300 ml-2",children:"clery.sharongianella@gmail.com"})]}),m.jsxs("p",{children:[m.jsx("strong",{children:"Instagram:"})," @cleryoficial"]}),m.jsxs("p",{children:[m.jsx("strong",{children:"TikTok:"})," @cleryoficial"]})]})]})]}),m.jsxs("section",{className:"mb-8",children:[m.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"📝 Modificaciones"}),m.jsxs("div",{className:"text-gray-700",children:[m.jsx("p",{children:"CLÉRY se reserva el derecho de modificar estos términos y condiciones en cualquier momento. Las modificaciones entrarán en vigor inmediatamente después de su publicación."}),m.jsxs("p",{className:"mt-4",children:[m.jsx("strong",{children:"Última actualización:"})," Octubre 2025"]})]})]}),m.jsxs("div",{className:"bg-black text-white p-6 rounded-lg text-center",children:[m.jsx("h3",{className:"text-xl font-bold mb-4",children:"Aceptación de Términos"}),m.jsx("p",{className:"mb-4",children:"Al realizar una compra en CLÉRY, confirmas que has leído, entendido y aceptado estos términos y condiciones en su totalidad."}),m.jsx("p",{className:"text-sm text-gray-300",children:"¡Gracias por confiar en nosotros! 💕"})]})]})]})}function rI(){return P.useEffect(()=>{document.title="CLÉRY - Página no encontrada"},[]),m.jsx("div",{className:"min-h-screen bg-gray-50 flex flex-col items-center justify-center px-4",children:m.jsxs("div",{className:"text-center max-w-md mx-auto",children:[m.jsx("h1",{className:"text-6xl font-bold text-gray-300 mb-4",children:"404"}),m.jsxs("div",{className:"mb-8",children:[m.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4 font-playfair",children:"CLÉRY"}),m.jsx("p",{className:"text-xl text-gray-600 mb-2",children:"Página no encontrada"}),m.jsx("p",{className:"text-gray-500",children:"La página que buscas no existe o ha sido movida."})]}),m.jsxs("div",{className:"space-y-3",children:[m.jsx(We,{to:"/clery",className:"w-full btn-primary inline-block",children:"Ir al inicio"}),m.jsx(We,{to:"/clery/products",className:"w-full btn-secondary inline-block",children:"Ver productos"})]}),m.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-200",children:[m.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"¿Necesitas ayuda?"}),m.jsxs("div",{className:"space-y-1 text-xs text-gray-400",children:[m.jsx("p",{children:"📱 WhatsApp: +54 11 3052-6311"}),m.jsx("p",{children:"📧 clery.sharongianella@gmail.com"})]})]})]})})}function sI(){const[s,e]=P.useState(""),[n,i]=P.useState(""),[o,c]=P.useState(!1),{login:f}=Hm(),g=$i(),y=jn().state?.from?.pathname||"/clery/admin",b=async x=>{x.preventDefault(),c(!0),i("");try{f(s)?g(y,{replace:!0}):i("Contraseña incorrecta")}catch{i("Error al iniciar sesión")}finally{c(!1)}};return m.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[m.jsx("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:m.jsxs("div",{className:"text-center",children:[m.jsx("h2",{className:"text-4xl font-bold text-gray-900 font-playfair tracking-wider mb-2",children:"CLÉRY"}),m.jsx("p",{className:"text-lg text-gray-600",children:"Panel de Administración"})]})}),m.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:m.jsxs("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:[m.jsxs("form",{className:"space-y-6",onSubmit:b,children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Contraseña de Administrador"}),m.jsx("div",{className:"mt-1",children:m.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:s,onChange:x=>e(x.target.value),className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:ring-black focus:border-black sm:text-sm",placeholder:"Ingresa la contraseña"})})]}),n&&m.jsx("div",{className:"rounded-md bg-red-50 p-4",children:m.jsx("div",{className:"flex",children:m.jsxs("div",{className:"ml-3",children:[m.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error"}),m.jsx("div",{className:"mt-2 text-sm text-red-700",children:m.jsx("p",{children:n})})]})})}),m.jsx("div",{children:m.jsx("button",{type:"submit",disabled:o,className:`w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white ${o?"bg-gray-400 cursor-not-allowed":"bg-black hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-black"} transition-colors`,children:o?"Verificando...":"Iniciar Sesión"})})]}),m.jsx("div",{className:"mt-6 text-center",children:m.jsx("p",{className:"text-xs text-gray-500",children:"Acceso restringido solo para administradores"})})]})})]})}/**
 * @license lucide-react v0.547.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iI=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),aI=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,i)=>i?i.toUpperCase():n.toLowerCase()),z_=s=>{const e=aI(s);return e.charAt(0).toUpperCase()+e.slice(1)},PE=(...s)=>s.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim(),oI=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.547.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var lI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.547.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cI=P.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:o="",children:c,iconNode:f,...g},p)=>P.createElement("svg",{ref:p,...lI,width:e,height:e,stroke:s,strokeWidth:i?Number(n)*24/Number(e):n,className:PE("lucide",o),...!c&&!oI(g)&&{"aria-hidden":"true"},...g},[...f.map(([y,b])=>P.createElement(y,b)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.547.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ti=(s,e)=>{const n=P.forwardRef(({className:i,...o},c)=>P.createElement(cI,{ref:c,iconNode:e,className:PE(`lucide-${iI(z_(s))}`,`lucide-${s}`,i),...o}));return n.displayName=z_(s),n};/**
 * @license lucide-react v0.547.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uI=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],hI=ti("arrow-left",uI);/**
 * @license lucide-react v0.547.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fI=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],dI=ti("eye",fI);/**
 * @license lucide-react v0.547.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mI=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],gI=ti("log-out",mI);/**
 * @license lucide-react v0.547.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pI=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],B_=ti("plus",pI);/**
 * @license lucide-react v0.547.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yI=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],vI=ti("square-pen",yI);/**
 * @license lucide-react v0.547.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _I=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],bI=ti("trash-2",_I);/**
 * @license lucide-react v0.547.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EI=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],xI=ti("upload",EI);/**
 * @license lucide-react v0.547.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TI=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],wI=ti("x",TI);function SI(){const[s,e]=P.useState([]),[n,i]=P.useState(!0),[o,c]=P.useState(null),{logout:f}=Hm(),g=$i();P.useEffect(()=>{p()},[]);const p=async()=>{try{const x=UR(ea($n,"products"),zR("nombre")),A=await Ph(x),V=[];A.forEach(q=>{V.push({id:q.id,...q.data()})}),e(V)}catch(x){console.error("Error al cargar productos:",x)}finally{i(!1)}},y=async(x,A)=>{if(confirm(`¿Estás seguro de eliminar "${A}"?`)){c(x);try{await FR(tc($n,"products",x)),e(s.filter(V=>V.id!==x))}catch(V){console.error("Error al eliminar producto:",V),alert("Error al eliminar el producto")}finally{c(null)}}},b=()=>{f(),g("/clery")};return n?m.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:m.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900"})}):m.jsxs("div",{className:"min-h-screen bg-gray-50",children:[m.jsx("header",{className:"bg-white shadow-sm border-b",children:m.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:m.jsxs("div",{className:"flex justify-between items-center py-4",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Panel de Administración"}),m.jsx("p",{className:"text-sm text-gray-600",children:"Gestiona tus productos de CLERY"})]}),m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsxs("button",{onClick:()=>g("/clery"),className:"flex items-center gap-2 px-4 py-2 text-gray-700 hover:text-gray-900 transition-colors",children:[m.jsx(dI,{size:16}),"Ver Tienda"]}),m.jsxs("button",{onClick:b,className:"flex items-center gap-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:[m.jsx(gI,{size:16}),"Cerrar Sesión"]})]})]})})}),m.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[m.jsxs("div",{className:"flex justify-between items-center mb-8",children:[m.jsxs("div",{children:[m.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Productos"}),m.jsxs("p",{className:"text-sm text-gray-600",children:[s.length," productos totales"]})]}),m.jsxs("button",{onClick:()=>g("/clery/admin/producto/nuevo"),className:"flex items-center gap-2 px-6 py-3 bg-black text-white rounded-lg hover:bg-gray-800 transition-colors font-medium",children:[m.jsx(B_,{size:20}),"Agregar Producto"]})]}),s.length===0?m.jsxs("div",{className:"text-center py-12",children:[m.jsx("div",{className:"text-gray-400 mb-4",children:m.jsx(B_,{size:48,className:"mx-auto"})}),m.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No hay productos"}),m.jsx("p",{className:"text-gray-600 mb-6",children:"Comienza agregando tu primer producto"}),m.jsx("button",{onClick:()=>g("/clery/admin/producto/nuevo"),className:"px-6 py-3 bg-black text-white rounded-lg hover:bg-gray-800 transition-colors font-medium",children:"Agregar Producto"})]}):m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:s.map(x=>m.jsxs("div",{className:"bg-white rounded-lg shadow-sm border overflow-hidden",children:[m.jsx("div",{className:"aspect-square bg-gray-100",children:x.imagen?m.jsx("img",{src:x.imagen,alt:x.nombre,className:"w-full h-full object-cover"}):m.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:"Sin imagen"})}),m.jsxs("div",{className:"p-4",children:[m.jsxs("div",{className:"flex items-start justify-between mb-2",children:[m.jsx("h3",{className:"font-medium text-gray-900 truncate flex-1",children:x.nombre}),m.jsxs("div",{className:"flex gap-1 ml-2",children:[x.destacado&&m.jsx("span",{className:"px-2 py-1 text-xs bg-yellow-100 text-yellow-800 rounded",children:"Destacado"}),x.nuevo&&m.jsx("span",{className:"px-2 py-1 text-xs bg-green-100 text-green-800 rounded",children:"Nuevo"})]})]}),m.jsxs("div",{className:"text-sm text-gray-600 mb-3 space-y-1",children:[m.jsxs("p",{children:[m.jsx("span",{className:"font-medium",children:"Categoría:"})," ",x.categoria]}),m.jsxs("p",{children:[m.jsx("span",{className:"font-medium",children:"Género:"})," ",x.genero]}),m.jsxs("p",{className:"font-semibold text-lg text-gray-900",children:["$",x.precio]})]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsxs("button",{onClick:()=>g(`/clery/admin/producto/editar/${x.id}`),className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors text-sm",disabled:o===x.id,children:[m.jsx(vI,{size:14}),"Editar"]}),m.jsx("button",{onClick:()=>y(x.id,x.nombre),className:"flex items-center justify-center gap-2 px-3 py-2 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 transition-colors text-sm",disabled:o===x.id,children:o===x.id?m.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-red-700"}):m.jsx(bI,{size:14})})]})]})]},x.id))})]})]})}function q_(){const{id:s}=Z_(),e=$i(),n=!!s,[i,o]=P.useState(!1),[c,f]=P.useState(!1),[g,p]=P.useState({nombre:"",precio:"",categoria:"",genero:"",imagen:"",destacado:!1,nuevo:!1}),y=["Camisetas","Pantalones","Vestidos","Faldas","Chaquetas","Zapatos","Accesorios","Ropa Interior","Deportiva","Formal"],b=["Mujer","Hombre","No"];P.useEffect(()=>{n&&x()},[s,n]);const x=async()=>{try{o(!0);const U=tc($n,"products",s),F=await nE(U);F.exists()?p(F.data()):(alert("Producto no encontrado"),e("/clery/admin"))}catch(U){console.error("Error al cargar producto:",U),alert("Error al cargar el producto")}finally{o(!1)}},A=async U=>{if(U.preventDefault(),!g.nombre||!g.precio||!g.categoria||!g.genero){alert("Por favor completa todos los campos obligatorios");return}o(!0);try{const F={...g,precio:parseFloat(g.precio)};n?await HR(tc($n,"products",s),F):await Ng(ea($n,"products"),F),e("/clery/admin")}catch(F){console.error("Error al guardar producto:",F),alert("Error al guardar el producto")}finally{o(!1)}},V=async U=>{const F=U.target.files[0];if(F){if(!F.type.startsWith("image/")){alert("Por favor selecciona un archivo de imagen válido");return}if(F.size>5*1024*1024){alert("La imagen es demasiado grande. Máximo 5MB");return}f(!0);try{const te=new FormData;te.append("file",F),te.append("upload_preset","clery_catalog");const X=await fetch("https://api.cloudinary.com/v1_1/YOUR_CLOUD_NAME/image/upload",{method:"POST",body:te});if(!X.ok)throw new Error("Error al subir imagen");const re=await X.json();p(xe=>({...xe,imagen:re.secure_url}))}catch(te){console.error("Error al subir imagen:",te);const X=prompt("Por favor ingresa la URL de la imagen:");X&&p(re=>({...re,imagen:X}))}finally{f(!1)}}},q=()=>{p(U=>({...U,imagen:""}))};return i&&n?m.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:m.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900"})}):m.jsxs("div",{className:"min-h-screen bg-gray-50",children:[m.jsx("header",{className:"bg-white shadow-sm border-b",children:m.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:m.jsx("div",{className:"flex items-center justify-between py-4",children:m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("button",{onClick:()=>e("/clery/admin"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:m.jsx(hI,{size:20})}),m.jsxs("div",{children:[m.jsx("h1",{className:"text-xl font-bold text-gray-900",children:n?"Editar Producto":"Nuevo Producto"}),m.jsx("p",{className:"text-sm text-gray-600",children:n?"Modifica la información del producto":"Agrega un nuevo producto al catálogo"})]})]})})})}),m.jsx("main",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:m.jsxs("form",{onSubmit:A,className:"bg-white rounded-lg shadow-sm border p-6 space-y-6",children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre del producto *"}),m.jsx("input",{type:"text",required:!0,value:g.nombre,onChange:U=>p({...g,nombre:U.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-black focus:border-transparent",placeholder:"Ej: Camiseta básica blanca"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Precio *"}),m.jsx("input",{type:"number",required:!0,min:"0",step:"0.01",value:g.precio,onChange:U=>p({...g,precio:U.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-black focus:border-transparent",placeholder:"0.00"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Categoría *"}),m.jsxs("select",{required:!0,value:g.categoria,onChange:U=>p({...g,categoria:U.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-black focus:border-transparent",children:[m.jsx("option",{value:"",children:"Selecciona una categoría"}),y.map(U=>m.jsx("option",{value:U,children:U},U))]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Género *"}),m.jsxs("select",{required:!0,value:g.genero,onChange:U=>p({...g,genero:U.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-black focus:border-transparent",children:[m.jsx("option",{value:"",children:"Selecciona un género"}),b.map(U=>m.jsx("option",{value:U,children:U},U))]})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Imagen del producto"}),g.imagen?m.jsxs("div",{className:"relative",children:[m.jsx("img",{src:g.imagen,alt:"Preview",className:"w-48 h-48 object-cover rounded-lg border"}),m.jsx("button",{type:"button",onClick:q,className:"absolute -top-2 -right-2 p-1 bg-red-500 text-white rounded-full hover:bg-red-600 transition-colors",children:m.jsx(wI,{size:16})})]}):m.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center",children:[m.jsx(xI,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("p",{className:"text-sm text-gray-600",children:"Arrastra una imagen aquí o haz clic para seleccionar"}),m.jsx("input",{type:"file",accept:"image/*",onChange:V,className:"hidden",id:"image-upload"}),m.jsx("label",{htmlFor:"image-upload",className:"inline-flex items-center px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors cursor-pointer",children:c?"Subiendo...":"Seleccionar imagen"})]})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"O ingresa URL de imagen manualmente"}),m.jsx("input",{type:"url",value:g.imagen,onChange:U=>p({...g,imagen:U.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-black focus:border-transparent",placeholder:"https://ejemplo.com/imagen.jpg"})]}),m.jsxs("div",{className:"space-y-4",children:[m.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Características especiales"}),m.jsxs("div",{className:"flex items-center gap-6",children:[m.jsxs("label",{className:"flex items-center",children:[m.jsx("input",{type:"checkbox",checked:g.destacado,onChange:U=>p({...g,destacado:U.target.checked}),className:"rounded border-gray-300 text-black focus:ring-black"}),m.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Producto destacado"})]}),m.jsxs("label",{className:"flex items-center",children:[m.jsx("input",{type:"checkbox",checked:g.nuevo,onChange:U=>p({...g,nuevo:U.target.checked}),className:"rounded border-gray-300 text-black focus:ring-black"}),m.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Producto nuevo"})]})]})]}),m.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t",children:[m.jsx("button",{type:"button",onClick:()=>e("/clery/admin"),className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancelar"}),m.jsx("button",{type:"submit",disabled:i,className:"px-6 py-3 bg-black text-white rounded-lg hover:bg-gray-800 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:i?"Guardando...":n?"Actualizar":"Crear Producto"})]})]})})]})}function AI(){return m.jsx($T,{children:m.jsx(QT,{children:m.jsx(kT,{children:m.jsx(YT,{children:m.jsx("div",{className:"min-h-screen bg-gray-50",children:m.jsxs(dT,{children:[m.jsx(Fn,{path:"/clery",element:m.jsxs(m.Fragment,{children:[m.jsx(Qa,{}),m.jsx(Ya,{}),m.jsx(XN,{}),m.jsx($a,{})]})}),m.jsx(Fn,{path:"/clery/products",element:m.jsxs(m.Fragment,{children:[m.jsx(Qa,{}),m.jsx(Ya,{}),m.jsx(JN,{}),m.jsx($a,{})]})}),m.jsx(Fn,{path:"/clery/product/:id",element:m.jsxs(m.Fragment,{children:[m.jsx(Qa,{}),m.jsx(Ya,{}),m.jsx(eI,{}),m.jsx($a,{})]})}),m.jsx(Fn,{path:"/clery/about",element:m.jsxs(m.Fragment,{children:[m.jsx(Qa,{}),m.jsx(Ya,{}),m.jsx(tI,{}),m.jsx($a,{})]})}),m.jsx(Fn,{path:"/clery/terms",element:m.jsxs(m.Fragment,{children:[m.jsx(Qa,{}),m.jsx(Ya,{}),m.jsx(nI,{}),m.jsx($a,{})]})}),m.jsx(Fn,{path:"/clery/admin/login",element:m.jsx(sI,{})}),m.jsx(Fn,{path:"/clery/admin",element:m.jsx(am,{children:m.jsx(SI,{})})}),m.jsx(Fn,{path:"/clery/admin/producto/nuevo",element:m.jsx(am,{children:m.jsx(q_,{})})}),m.jsx(Fn,{path:"/clery/admin/producto/editar/:id",element:m.jsx(am,{children:m.jsx(q_,{})})}),m.jsx(Fn,{path:"*",element:m.jsxs(m.Fragment,{children:[m.jsx(Qa,{}),m.jsx(Ya,{}),m.jsx(rI,{}),m.jsx($a,{})]})})]})})})})})})}function $a(){return m.jsx("footer",{className:"bg-gray-900 text-white",children:m.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[m.jsxs("div",{className:"col-span-1 md:col-span-2",children:[m.jsx("h2",{className:"text-4xl text-white mb-8 text-center tracking-wider font-playfair",children:"CLÉRY"}),m.jsx("div",{className:"mt-4 text-center mb-4",children:m.jsxs("h4",{className:"text-sm ",children:["Seguinos ",m.jsx("span",{className:"text-gray-400",children:"@cleryoficial"})]})}),m.jsxs("div",{className:"flex space-x-6 mb-4 justify-center",children:[m.jsx("a",{href:"https://wa.me/541130526311",target:"_blank",rel:"noopener noreferrer",className:"text-gray-300 hover:text-white transition-colors",title:"WhatsApp",children:m.jsx("svg",{className:"w-8 h-8",fill:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893A11.821 11.821 0 0020.885 3.488z"})})}),m.jsx("a",{href:"https://instagram.com/cleryoficial",target:"_blank",rel:"noopener noreferrer",className:"text-gray-300 hover:text-white transition-colors",title:"Instagram",children:m.jsx("svg",{className:"w-8 h-8",fill:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{d:"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"})})}),m.jsx("a",{href:"https://www.tiktok.com/@cleryoficial",target:"_blank",rel:"noopener noreferrer",className:"text-gray-300 hover:text-white transition-colors",title:"TikTok",children:m.jsx("svg",{className:"w-8 h-8",fill:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{d:"M19.59 6.69a4.83 4.83 0 01-3.77-4.25V2h-3.45v13.67a2.89 2.89 0 01-5.2 1.74 2.89 2.89 0 012.31-4.64 2.93 2.93 0 01.88.13V9.4a6.84 6.84 0 00-.88-.05A6.33 6.33 0 005 20.1a6.34 6.34 0 0010.86-4.43v-7a8.16 8.16 0 004.77 1.52v-3.4a4.85 4.85 0 01-1-.1z"})})}),m.jsx("a",{href:"mailto:clery.sharongianella@gmail.com",className:"text-gray-300 hover:text-white transition-colors",title:"Email",children:m.jsx("svg",{className:"w-8 h-8",fill:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"})})})]})]}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Enlaces rápidos"}),m.jsxs("ul",{className:"space-y-2",children:[m.jsx("li",{children:m.jsx(We,{to:"/clery",className:"text-gray-300 hover:text-white transition-colors",children:"Inicio"})}),m.jsx("li",{children:m.jsx(We,{to:"/clery/products",className:"text-gray-300 hover:text-white transition-colors",children:"Productos"})}),m.jsx("li",{children:m.jsx(We,{to:"/clery/terms",className:"text-gray-300 hover:text-white transition-colors",children:"Términos y condiciones"})}),m.jsx("li",{children:m.jsx(We,{to:"/clery/about",className:"text-gray-300 hover:text-white transition-colors",children:"Nosotros"})})]})]}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Contacto & Envíos"}),m.jsxs("ul",{className:"space-y-2 text-gray-300",children:[m.jsx("li",{children:"📱 WhatsApp: +54 11 3052-6311"}),m.jsx("li",{children:"💌 Correo: clery.sharongianella@gmail.com"}),m.jsx("li",{children:"📦 Envíos a todo el país"})]})]})]}),m.jsxs("div",{className:"border-t border-gray-800 mt-8 pt-8 text-center text-gray-300",children:[m.jsx("p",{children:"© 2025 CLÉRY. Todos los derechos reservados."}),m.jsx("p",{className:"text-sm mt-2",children:"Envíos a todo el país • @cleryoficial"})]})]})})}x2.createRoot(document.getElementById("root")).render(m.jsx(m2.StrictMode,{children:m.jsx(AI,{})}));
